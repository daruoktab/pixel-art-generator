var IT=Object.defineProperty;var UT=(r,e,t)=>e in r?IT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var vo=(r,e,t)=>UT(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function $d(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function kT(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(o){var a=Object.getOwnPropertyDescriptor(r,o);Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:function(){return r[o]}})}),t}var id={exports:{}},Es={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function LT(){if(Ag)return Es;Ag=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(o,a,l){var h=null;if(l!==void 0&&(h=""+l),a.key!==void 0&&(h=""+a.key),"key"in a){l={};for(var y in a)y!=="key"&&(l[y]=a[y])}else l=a;return a=l.ref,{$$typeof:r,type:o,key:h,ref:a!==void 0?a:null,props:l}}return Es.Fragment=e,Es.jsx=t,Es.jsxs=t,Es}var bg;function OT(){return bg||(bg=1,id.exports=LT()),id.exports}var j=OT(),od={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function PT(){if(wg)return Le;wg=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function w(R){return R===null||typeof R!="object"?null:(R=b&&R[b]||R["@@iterator"],typeof R=="function"?R:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,H={};function $(R,J,oe){this.props=R,this.context=J,this.refs=H,this.updater=oe||D}$.prototype.isReactComponent={},$.prototype.setState=function(R,J){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,J,"setState")},$.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function X(){}X.prototype=$.prototype;function Q(R,J,oe){this.props=R,this.context=J,this.refs=H,this.updater=oe||D}var W=Q.prototype=new X;W.constructor=Q,U(W,$.prototype),W.isPureReactComponent=!0;var he=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function ae(R,J,oe,ne,Te,Fe){return oe=Fe.ref,{$$typeof:r,type:R,key:J,ref:oe!==void 0?oe:null,props:Fe}}function Ee(R,J){return ae(R.type,J,void 0,void 0,void 0,R.props)}function le(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function ge(R){var J={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(oe){return J[oe]})}var pe=/\/+/g;function ut(R,J){return typeof R=="object"&&R!==null&&R.key!=null?ge(""+R.key):J.toString(36)}function Ve(){}function qe(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Ve,Ve):(R.status="pending",R.then(function(J){R.status==="pending"&&(R.status="fulfilled",R.value=J)},function(J){R.status==="pending"&&(R.status="rejected",R.reason=J)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function ft(R,J,oe,ne,Te){var Fe=typeof R;(Fe==="undefined"||Fe==="boolean")&&(R=null);var Re=!1;if(R===null)Re=!0;else switch(Fe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(R.$$typeof){case r:case e:Re=!0;break;case T:return Re=R._init,ft(Re(R._payload),J,oe,ne,Te)}}if(Re)return Te=Te(R),Re=ne===""?"."+ut(R,0):ne,he(Te)?(oe="",Re!=null&&(oe=Re.replace(pe,"$&/")+"/"),ft(Te,J,oe,"",function(Rn){return Rn})):Te!=null&&(le(Te)&&(Te=Ee(Te,oe+(Te.key==null||R&&R.key===Te.key?"":(""+Te.key).replace(pe,"$&/")+"/")+Re)),J.push(Te)),1;Re=0;var Lt=ne===""?".":ne+":";if(he(R))for(var it=0;it<R.length;it++)ne=R[it],Fe=Lt+ut(ne,it),Re+=ft(ne,J,oe,Fe,Te);else if(it=w(R),typeof it=="function")for(R=it.call(R),it=0;!(ne=R.next()).done;)ne=ne.value,Fe=Lt+ut(ne,it++),Re+=ft(ne,J,oe,Fe,Te);else if(Fe==="object"){if(typeof R.then=="function")return ft(qe(R),J,oe,ne,Te);throw J=String(R),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Re}function z(R,J,oe){if(R==null)return R;var ne=[],Te=0;return ft(R,ne,"","",function(Fe){return J.call(oe,Fe,Te++)}),ne}function ie(R){if(R._status===-1){var J=R._result;J=J(),J.then(function(oe){(R._status===0||R._status===-1)&&(R._status=1,R._result=oe)},function(oe){(R._status===0||R._status===-1)&&(R._status=2,R._result=oe)}),R._status===-1&&(R._status=0,R._result=J)}if(R._status===1)return R._result.default;throw R._result}var _e=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function Qe(){}return Le.Children={map:z,forEach:function(R,J,oe){z(R,function(){J.apply(this,arguments)},oe)},count:function(R){var J=0;return z(R,function(){J++}),J},toArray:function(R){return z(R,function(J){return J})||[]},only:function(R){if(!le(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Le.Component=$,Le.Fragment=t,Le.Profiler=a,Le.PureComponent=Q,Le.StrictMode=o,Le.Suspense=v,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Le.__COMPILER_RUNTIME={__proto__:null,c:function(R){return Y.H.useMemoCache(R)}},Le.cache=function(R){return function(){return R.apply(null,arguments)}},Le.cloneElement=function(R,J,oe){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ne=U({},R.props),Te=R.key,Fe=void 0;if(J!=null)for(Re in J.ref!==void 0&&(Fe=void 0),J.key!==void 0&&(Te=""+J.key),J)!se.call(J,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&J.ref===void 0||(ne[Re]=J[Re]);var Re=arguments.length-2;if(Re===1)ne.children=oe;else if(1<Re){for(var Lt=Array(Re),it=0;it<Re;it++)Lt[it]=arguments[it+2];ne.children=Lt}return ae(R.type,Te,void 0,void 0,Fe,ne)},Le.createContext=function(R){return R={$$typeof:h,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},Le.createElement=function(R,J,oe){var ne,Te={},Fe=null;if(J!=null)for(ne in J.key!==void 0&&(Fe=""+J.key),J)se.call(J,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(Te[ne]=J[ne]);var Re=arguments.length-2;if(Re===1)Te.children=oe;else if(1<Re){for(var Lt=Array(Re),it=0;it<Re;it++)Lt[it]=arguments[it+2];Te.children=Lt}if(R&&R.defaultProps)for(ne in Re=R.defaultProps,Re)Te[ne]===void 0&&(Te[ne]=Re[ne]);return ae(R,Fe,void 0,void 0,null,Te)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(R){return{$$typeof:y,render:R}},Le.isValidElement=le,Le.lazy=function(R){return{$$typeof:T,_payload:{_status:-1,_result:R},_init:ie}},Le.memo=function(R,J){return{$$typeof:m,type:R,compare:J===void 0?null:J}},Le.startTransition=function(R){var J=Y.T,oe={};Y.T=oe;try{var ne=R(),Te=Y.S;Te!==null&&Te(oe,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Qe,_e)}catch(Fe){_e(Fe)}finally{Y.T=J}},Le.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Le.use=function(R){return Y.H.use(R)},Le.useActionState=function(R,J,oe){return Y.H.useActionState(R,J,oe)},Le.useCallback=function(R,J){return Y.H.useCallback(R,J)},Le.useContext=function(R){return Y.H.useContext(R)},Le.useDebugValue=function(){},Le.useDeferredValue=function(R,J){return Y.H.useDeferredValue(R,J)},Le.useEffect=function(R,J,oe){var ne=Y.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(R,J)},Le.useId=function(){return Y.H.useId()},Le.useImperativeHandle=function(R,J,oe){return Y.H.useImperativeHandle(R,J,oe)},Le.useInsertionEffect=function(R,J){return Y.H.useInsertionEffect(R,J)},Le.useLayoutEffect=function(R,J){return Y.H.useLayoutEffect(R,J)},Le.useMemo=function(R,J){return Y.H.useMemo(R,J)},Le.useOptimistic=function(R,J){return Y.H.useOptimistic(R,J)},Le.useReducer=function(R,J,oe){return Y.H.useReducer(R,J,oe)},Le.useRef=function(R){return Y.H.useRef(R)},Le.useState=function(R){return Y.H.useState(R)},Le.useSyncExternalStore=function(R,J,oe){return Y.H.useSyncExternalStore(R,J,oe)},Le.useTransition=function(){return Y.H.useTransition()},Le.version="19.1.0",Le}var Mg;function Zd(){return Mg||(Mg=1,od.exports=PT()),od.exports}var st=Zd();const VT=$d(st);var rd={exports:{}},Ss={},ad={exports:{}},sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function qT(){return xg||(xg=1,function(r){function e(z,ie){var _e=z.length;z.push(ie);e:for(;0<_e;){var Qe=_e-1>>>1,R=z[Qe];if(0<a(R,ie))z[Qe]=ie,z[_e]=R,_e=Qe;else break e}}function t(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var ie=z[0],_e=z.pop();if(_e!==ie){z[0]=_e;e:for(var Qe=0,R=z.length,J=R>>>1;Qe<J;){var oe=2*(Qe+1)-1,ne=z[oe],Te=oe+1,Fe=z[Te];if(0>a(ne,_e))Te<R&&0>a(Fe,ne)?(z[Qe]=Fe,z[Te]=_e,Qe=Te):(z[Qe]=ne,z[oe]=_e,Qe=oe);else if(Te<R&&0>a(Fe,_e))z[Qe]=Fe,z[Te]=_e,Qe=Te;else break e}}return ie}function a(z,ie){var _e=z.sortIndex-ie.sortIndex;return _e!==0?_e:z.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,y=h.now();r.unstable_now=function(){return h.now()-y}}var v=[],m=[],T=1,b=null,w=3,D=!1,U=!1,H=!1,$=!1,X=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function he(z){for(var ie=t(m);ie!==null;){if(ie.callback===null)o(m);else if(ie.startTime<=z)o(m),ie.sortIndex=ie.expirationTime,e(v,ie);else break;ie=t(m)}}function Y(z){if(H=!1,he(z),!U)if(t(v)!==null)U=!0,se||(se=!0,ut());else{var ie=t(m);ie!==null&&ft(Y,ie.startTime-z)}}var se=!1,ae=-1,Ee=5,le=-1;function ge(){return $?!0:!(r.unstable_now()-le<Ee)}function pe(){if($=!1,se){var z=r.unstable_now();le=z;var ie=!0;try{e:{U=!1,H&&(H=!1,Q(ae),ae=-1),D=!0;var _e=w;try{t:{for(he(z),b=t(v);b!==null&&!(b.expirationTime>z&&ge());){var Qe=b.callback;if(typeof Qe=="function"){b.callback=null,w=b.priorityLevel;var R=Qe(b.expirationTime<=z);if(z=r.unstable_now(),typeof R=="function"){b.callback=R,he(z),ie=!0;break t}b===t(v)&&o(v),he(z)}else o(v);b=t(v)}if(b!==null)ie=!0;else{var J=t(m);J!==null&&ft(Y,J.startTime-z),ie=!1}}break e}finally{b=null,w=_e,D=!1}ie=void 0}}finally{ie?ut():se=!1}}}var ut;if(typeof W=="function")ut=function(){W(pe)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,qe=Ve.port2;Ve.port1.onmessage=pe,ut=function(){qe.postMessage(null)}}else ut=function(){X(pe,0)};function ft(z,ie){ae=X(function(){z(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(z){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var _e=w;w=ie;try{return z()}finally{w=_e}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(z,ie){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var _e=w;w=z;try{return ie()}finally{w=_e}},r.unstable_scheduleCallback=function(z,ie,_e){var Qe=r.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Qe+_e:Qe):_e=Qe,z){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=_e+R,z={id:T++,callback:ie,priorityLevel:z,startTime:_e,expirationTime:R,sortIndex:-1},_e>Qe?(z.sortIndex=_e,e(m,z),t(v)===null&&z===t(m)&&(H?(Q(ae),ae=-1):H=!0,ft(Y,_e-Qe))):(z.sortIndex=R,e(v,z),U||D||(U=!0,se||(se=!0,ut()))),z},r.unstable_shouldYield=ge,r.unstable_wrapCallback=function(z){var ie=w;return function(){var _e=w;w=ie;try{return z.apply(this,arguments)}finally{w=_e}}}}(sd)),sd}var Rg;function BT(){return Rg||(Rg=1,ad.exports=qT()),ad.exports}var ld={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function zT(){if(Ng)return Yt;Ng=1;var r=Zd();function e(v){var m="https://react.dev/errors/"+v;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)m+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var o={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(v,m,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:v,containerInfo:m,implementation:T}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,m){if(v==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Yt.createPortal=function(v,m){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(v,m,null,T)},Yt.flushSync=function(v){var m=h.T,T=o.p;try{if(h.T=null,o.p=2,v)return v()}finally{h.T=m,o.p=T,o.d.f()}},Yt.preconnect=function(v,m){typeof v=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(v,m))},Yt.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},Yt.preinit=function(v,m){if(typeof v=="string"&&m&&typeof m.as=="string"){var T=m.as,b=y(T,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,D=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;T==="style"?o.d.S(v,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:D}):T==="script"&&o.d.X(v,{crossOrigin:b,integrity:w,fetchPriority:D,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Yt.preinitModule=function(v,m){if(typeof v=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var T=y(m.as,m.crossOrigin);o.d.M(v,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(v)},Yt.preload=function(v,m){if(typeof v=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var T=m.as,b=y(T,m.crossOrigin);o.d.L(v,T,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Yt.preloadModule=function(v,m){if(typeof v=="string")if(m){var T=y(m.as,m.crossOrigin);o.d.m(v,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(v)},Yt.requestFormReset=function(v){o.d.r(v)},Yt.unstable_batchedUpdates=function(v,m){return v(m)},Yt.useFormState=function(v,m,T){return h.H.useFormState(v,m,T)},Yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var Dg;function GT(){if(Dg)return ld.exports;Dg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ld.exports=zT(),ld.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function HT(){if(Ig)return Ss;Ig=1;var r=BT(),e=Zd(),t=GT();function o(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function y(n){if(l(n)!==n)throw Error(o(188))}function v(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(o(188));return i!==n?null:n}for(var s=n,u=i;;){var d=s.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){s=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===s)return y(d),n;if(g===u)return y(d),i;g=g.sibling}throw Error(o(188))}if(s.return!==u.return)s=d,u=g;else{for(var C=!1,S=d.child;S;){if(S===s){C=!0,s=d,u=g;break}if(S===u){C=!0,u=d,s=g;break}S=S.sibling}if(!C){for(S=g.child;S;){if(S===s){C=!0,s=g,u=d;break}if(S===u){C=!0,u=g,s=d;break}S=S.sibling}if(!C)throw Error(o(189))}}if(s.alternate!==u)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?n:i}function m(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=m(n),i!==null)return i;n=n.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),W=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),pe=Symbol.iterator;function ut(n){return n===null||typeof n!="object"?null:(n=pe&&n[pe]||n["@@iterator"],typeof n=="function"?n:null)}var Ve=Symbol.for("react.client.reference");function qe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Ve?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case U:return"Fragment";case $:return"Profiler";case H:return"StrictMode";case Y:return"Suspense";case se:return"SuspenseList";case le:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case W:return(n.displayName||"Context")+".Provider";case Q:return(n._context.displayName||"Context")+".Consumer";case he:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ae:return i=n.displayName||null,i!==null?i:qe(n.type)||"Memo";case Ee:i=n._payload,n=n._init;try{return qe(n(i))}catch{}}return null}var ft=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Qe=[],R=-1;function J(n){return{current:n}}function oe(n){0>R||(n.current=Qe[R],Qe[R]=null,R--)}function ne(n,i){R++,Qe[R]=n.current,n.current=i}var Te=J(null),Fe=J(null),Re=J(null),Lt=J(null);function it(n,i){switch(ne(Re,i),ne(Fe,n),ne(Te,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Wp(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Wp(i),n=jp(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}oe(Te),ne(Te,n)}function Rn(){oe(Te),oe(Fe),oe(Re)}function lr(n){n.memoizedState!==null&&ne(Lt,n);var i=Te.current,s=jp(i,n.type);i!==s&&(ne(Fe,n),ne(Te,s))}function ur(n){Fe.current===n&&(oe(Te),oe(Fe)),Lt.current===n&&(oe(Lt),ys._currentValue=_e)}var sn=Object.prototype.hasOwnProperty,Io=r.unstable_scheduleCallback,ii=r.unstable_cancelCallback,Gs=r.unstable_shouldYield,dt=r.unstable_requestPaint,Xt=r.unstable_now,Hs=r.unstable_getCurrentPriorityLevel,cr=r.unstable_ImmediatePriority,_a=r.unstable_UserBlockingPriority,oi=r.unstable_NormalPriority,Bu=r.unstable_LowPriority,Ta=r.unstable_IdlePriority,zu=r.log,Ca=r.unstable_setDisableYieldValue,Nn=null,gt=null;function Dn(n){if(typeof zu=="function"&&Ca(n),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(Nn,n)}catch{}}var zt=Math.clz32?Math.clz32:Hu,Fs=Math.log,Gu=Math.LN2;function Hu(n){return n>>>=0,n===0?32:31-(Fs(n)/Gu|0)|0}var fr=256,Ne=4194304;function Bn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Li(n,i,s){var u=n.pendingLanes;if(u===0)return 0;var d=0,g=n.suspendedLanes,C=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?d=Bn(u):(C&=S,C!==0?d=Bn(C):s||(s=S&~n,s!==0&&(d=Bn(s))))):(S=u&~g,S!==0?d=Bn(S):C!==0?d=Bn(C):s||(s=u&~n,s!==0&&(d=Bn(s)))),d===0?0:i!==0&&i!==d&&(i&g)===0&&(g=d&-d,s=i&-i,g>=s||g===32&&(s&4194048)!==0)?i:d}function Oi(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Pi(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ys(){var n=fr;return fr<<=1,(fr&4194048)===0&&(fr=256),n}function In(){var n=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),n}function dr(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function Vi(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function $s(n,i,s,u,d,g){var C=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var S=n.entanglements,M=n.expirationTimes,P=n.hiddenUpdates;for(s=C&~s;0<s;){var G=31-zt(s),Z=1<<G;S[G]=0,M[G]=-1;var V=P[G];if(V!==null)for(P[G]=null,G=0;G<V.length;G++){var q=V[G];q!==null&&(q.lane&=-536870913)}s&=~Z}u!==0&&te(n,u,0),g!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=g&~(C&~i))}function te(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-zt(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|s&4194090}function Zs(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var u=31-zt(s),d=1<<u;d&i|n[u]&i&&(n[u]|=i),s&=~d}}function Ea(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Gt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function hr(){var n=ie.p;return n!==0?n:(n=window.event,n===void 0?32:vg(n.type))}function Sa(n,i){var s=ie.p;try{return ie.p=n,i()}finally{ie.p=s}}var yn=Math.random().toString(36).slice(2),ht="__reactFiber$"+yn,Ot="__reactProps$"+yn,Ct="__reactContainer$"+yn,mr="__reactEvents$"+yn,qi="__reactListeners$"+yn,Ks="__reactHandles$"+yn,Aa="__reactResources$"+yn,zn="__reactMarker$"+yn;function xt(n){delete n[ht],delete n[Ot],delete n[mr],delete n[qi],delete n[Ks]}function ri(n){var i=n[ht];if(i)return i;for(var s=n.parentNode;s;){if(i=s[Ct]||s[ht]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=ig(n);n!==null;){if(s=n[ht])return s;n=ig(n)}return i}n=s,s=n.parentNode}return null}function Bi(n){if(n=n[ht]||n[Ct]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function ai(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(o(33))}function zi(n){var i=n[Aa];return i||(i=n[Aa]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function vt(n){n[zn]=!0}var ba=new Set,Uo={};function si(n,i){Pt(n,i),Pt(n+"Capture",i)}function Pt(n,i){for(Uo[n]=i,n=0;n<i.length;n++)ba.add(i[n])}var pr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gr={},wa={};function Js(n){return sn.call(wa,n)?!0:sn.call(gr,n)?!1:pr.test(n)?wa[n]=!0:(gr[n]=!0,!1)}function Gn(n,i,s){if(Js(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function ko(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function Wt(n,i,s,u){if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+u)}}var yr,li;function Hn(n){if(yr===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);yr=i&&i[1]||"",li=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yr+n+li}var vr=!1;function _r(n,i){if(!n||vr)return"";vr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var V=q}Reflect.construct(n,[],Z)}else{try{Z.call()}catch(q){V=q}n.call(Z.prototype)}}else{try{throw Error()}catch(q){V=q}(Z=n())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&V&&typeof q.stack=="string")return[q.stack,V.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),C=g[0],S=g[1];if(C&&S){var M=C.split(`
`),P=S.split(`
`);for(d=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;d<P.length&&!P[d].includes("DetermineComponentFrameRoot");)d++;if(u===M.length||d===P.length)for(u=M.length-1,d=P.length-1;1<=u&&0<=d&&M[u]!==P[d];)d--;for(;1<=u&&0<=d;u--,d--)if(M[u]!==P[d]){if(u!==1||d!==1)do if(u--,d--,0>d||M[u]!==P[d]){var G=`
`+M[u].replace(" at new "," at ");return n.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",n.displayName)),G}while(1<=u&&0<=d);break}}}finally{vr=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Hn(s):""}function Qs(n){switch(n.tag){case 26:case 27:case 5:return Hn(n.type);case 16:return Hn("Lazy");case 13:return Hn("Suspense");case 19:return Hn("SuspenseList");case 0:case 15:return _r(n.type,!1);case 11:return _r(n.type.render,!1);case 1:return _r(n.type,!0);case 31:return Hn("Activity");default:return""}}function Xs(n){try{var i="";do i+=Qs(n),n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Et(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function je(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ui(n){var i=je(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,g=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(C){u=""+C,g.call(this,C)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(C){u=""+C},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ci(n){n._valueTracker||(n._valueTracker=ui(n))}function Lo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),u="";return n&&(u=je(n)?n.checked?"true":"false":n.value),n=u,n!==s?(i.setValue(n),!0):!1}function fi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ma=/[\n"\\]/g;function jt(n){return n.replace(Ma,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function xa(n,i,s,u,d,g,C,S){n.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.type=C:n.removeAttribute("type"),i!=null?C==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Et(i)):n.value!==""+Et(i)&&(n.value=""+Et(i)):C!=="submit"&&C!=="reset"||n.removeAttribute("value"),i!=null?Tr(n,C,Et(i)):s!=null?Tr(n,C,Et(s)):u!=null&&n.removeAttribute("value"),d==null&&g!=null&&(n.defaultChecked=!!g),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Et(S):n.removeAttribute("name")}function Gi(n,i,s,u,d,g,C,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),i!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;s=s!=null?""+Et(s):"",i=i!=null?""+Et(i):s,S||i===n.value||(n.value=i),n.defaultValue=i}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(n.name=C)}function Tr(n,i,s){i==="number"&&fi(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Hi(n,i,s,u){if(n=n.options,i){i={};for(var d=0;d<s.length;d++)i["$"+s[d]]=!0;for(s=0;s<n.length;s++)d=i.hasOwnProperty("$"+n[s].value),n[s].selected!==d&&(n[s].selected=d),d&&u&&(n[s].defaultSelected=!0)}else{for(s=""+Et(s),i=null,d=0;d<n.length;d++){if(n[d].value===s){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function Cr(n,i,s){if(i!=null&&(i=""+Et(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+Et(s):""}function Ra(n,i,s,u){if(i==null){if(u!=null){if(s!=null)throw Error(o(92));if(ft(u)){if(1<u.length)throw Error(o(93));u=u[0]}s=u}s==null&&(s=""),i=s}s=Et(i),n.defaultValue=s,u=n.textContent,u===s&&u!==""&&u!==null&&(n.value=u)}function Fn(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var Na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ws(n,i,s){var u=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,s):typeof s!="number"||s===0||Na.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function Oo(n,i,s){if(i!=null&&typeof i!="object")throw Error(o(62));if(n=n.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var d in i)u=i[d],i.hasOwnProperty(d)&&s[d]!==u&&Ws(n,d,u)}else for(var g in i)i.hasOwnProperty(g)&&Ws(n,g,i[g])}function Fi(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var di=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Da=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function en(n){return Da.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var vn=null;function hi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Yi=null,me=null;function Er(n){var i=Bi(n);if(i&&(n=i.stateNode)){var s=n[Ot]||null;e:switch(n=i.stateNode,i.type){case"input":if(xa(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+jt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var u=s[i];if(u!==n&&u.form===n.form){var d=u[Ot]||null;if(!d)throw Error(o(90));xa(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<s.length;i++)u=s[i],u.form===n.form&&Lo(u)}break e;case"textarea":Cr(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Hi(n,!!s.multiple,i,!1)}}}var $i=!1;function Ia(n,i,s){if($i)return n(i,s);$i=!0;try{var u=n(i);return u}finally{if($i=!1,(Yi!==null||me!==null)&&(Vl(),Yi&&(i=Yi,n=me,me=Yi=null,Er(i),n)))for(i=0;i<n.length;i++)Er(n[i])}}function Zi(n,i){var s=n.stateNode;if(s===null)return null;var u=s[Ot]||null;if(u===null)return null;s=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(o(231,i,typeof s));return s}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if($t)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){_n=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{_n=!1}var Tn=null,p=null,_=null;function E(){if(_)return _;var n,i=p,s=i.length,u,d="value"in Tn?Tn.value:Tn.textContent,g=d.length;for(n=0;n<s&&i[n]===d[n];n++);var C=s-n;for(u=1;u<=C&&i[s-u]===d[g-u];u++);return _=d.slice(n,1<u?1-u:void 0)}function A(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function x(){return!0}function L(){return!1}function B(n){function i(s,u,d,g,C){this._reactName=s,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=C,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(s=n[S],this[S]=s?s(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?x:L,this.isPropagationStopped=L,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=x)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=x)},persist:function(){},isPersistent:x}),i}var ue={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ke=B(ue),De=T({},ue,{view:0,detail:0}),mt=B(De),Dt,Sr,Po,Vo=T({},De,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:La,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Po&&(Po&&n.type==="mousemove"?(Dt=n.screenX-Po.screenX,Sr=n.screenY-Po.screenY):Sr=Dt=0,Po=n),Dt)},movementY:function(n){return"movementY"in n?n.movementY:Sr}}),js=B(Vo),el=T({},Vo,{dataTransfer:0}),Fu=B(el),Yu=T({},De,{relatedTarget:0}),Ua=B(Yu),$u=T({},ue,{animationName:0,elapsedTime:0,pseudoElement:0}),Zu=B($u),Ku=T({},ue,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ju=B(Ku),Qu=T({},ue,{data:0}),ka=B(Qu),Xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ec(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=ju[n])?!!i[n]:!1}function La(){return ec}var tc=T({},De,{key:function(n){if(n.key){var i=Xu[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=A(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Wu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:La,charCode:function(n){return n.type==="keypress"?A(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?A(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),nc=B(tc),tl=T({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=B(tl),ic=T({},De,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:La}),oc=B(ic),rc=T({},ue,{propertyName:0,elapsedTime:0,pseudoElement:0}),ac=B(rc),sc=T({},Vo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),il=B(sc),lc=T({},ue,{newState:0,oldState:0}),uc=B(lc),cc=[9,13,27,32],Ki=$t&&"CompositionEvent"in window,Ji=null;$t&&"documentMode"in document&&(Ji=document.documentMode);var ol=$t&&"TextEvent"in window&&!Ji,Oa=$t&&(!Ki||Ji&&8<Ji&&11>=Ji),k=" ",K=!1;function ce(n,i){switch(n){case"keyup":return cc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ce(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ae=!1;function Ke(n,i){switch(n){case"compositionend":return Ce(i);case"keypress":return i.which!==32?null:(K=!0,k);case"textInput":return n=i.data,n===k&&K?null:n;default:return null}}function ln(n,i){if(Ae)return n==="compositionend"||!Ki&&ce(n,i)?(n=E(),_=p=Tn=null,Ae=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Oa&&i.locale!=="ko"?null:i.data;default:return null}}var tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ht(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!tn[n.type]:i==="textarea"}function nn(n,i,s,u){Yi?me?me.push(u):me=[u]:Yi=u,i=Fl(i,"onChange"),0<i.length&&(s=new ke("onChange","change",null,s,u),n.push({event:s,listeners:i}))}var mi=null,un=null;function fc(n){Zp(n,0)}function rl(n){var i=ai(n);if(Lo(i))return n}function mh(n,i){if(n==="change")return i}var ph=!1;if($t){var dc;if($t){var hc="oninput"in document;if(!hc){var gh=document.createElement("div");gh.setAttribute("oninput","return;"),hc=typeof gh.oninput=="function"}dc=hc}else dc=!1;ph=dc&&(!document.documentMode||9<document.documentMode)}function yh(){mi&&(mi.detachEvent("onpropertychange",vh),un=mi=null)}function vh(n){if(n.propertyName==="value"&&rl(un)){var i=[];nn(i,un,n,hi(n)),Ia(fc,i)}}function l0(n,i,s){n==="focusin"?(yh(),mi=i,un=s,mi.attachEvent("onpropertychange",vh)):n==="focusout"&&yh()}function u0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return rl(un)}function c0(n,i){if(n==="click")return rl(i)}function f0(n,i){if(n==="input"||n==="change")return rl(i)}function d0(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var cn=typeof Object.is=="function"?Object.is:d0;function Pa(n,i){if(cn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),u=Object.keys(i);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var d=s[u];if(!sn.call(i,d)||!cn(n[d],i[d]))return!1}return!0}function _h(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Th(n,i){var s=_h(n);n=0;for(var u;s;){if(s.nodeType===3){if(u=n+s.textContent.length,n<=i&&u>=i)return{node:s,offset:i-n};n=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=_h(s)}}function Ch(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Ch(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Eh(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=fi(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=fi(n.document)}return i}function mc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var h0=$t&&"documentMode"in document&&11>=document.documentMode,Ar=null,pc=null,Va=null,gc=!1;function Sh(n,i,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;gc||Ar==null||Ar!==fi(u)||(u=Ar,"selectionStart"in u&&mc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Va&&Pa(Va,u)||(Va=u,u=Fl(pc,"onSelect"),0<u.length&&(i=new ke("onSelect","select",null,i,s),n.push({event:i,listeners:u}),i.target=Ar)))}function qo(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var br={animationend:qo("Animation","AnimationEnd"),animationiteration:qo("Animation","AnimationIteration"),animationstart:qo("Animation","AnimationStart"),transitionrun:qo("Transition","TransitionRun"),transitionstart:qo("Transition","TransitionStart"),transitioncancel:qo("Transition","TransitionCancel"),transitionend:qo("Transition","TransitionEnd")},yc={},Ah={};$t&&(Ah=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function Bo(n){if(yc[n])return yc[n];if(!br[n])return n;var i=br[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ah)return yc[n]=i[s];return n}var bh=Bo("animationend"),wh=Bo("animationiteration"),Mh=Bo("animationstart"),m0=Bo("transitionrun"),p0=Bo("transitionstart"),g0=Bo("transitioncancel"),xh=Bo("transitionend"),Rh=new Map,vc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vc.push("scrollEnd");function kn(n,i){Rh.set(n,i),si(i,[n])}var Nh=new WeakMap;function Cn(n,i){if(typeof n=="object"&&n!==null){var s=Nh.get(n);return s!==void 0?s:(i={value:n,source:i,stack:Xs(i)},Nh.set(n,i),i)}return{value:n,source:i,stack:Xs(i)}}var En=[],wr=0,_c=0;function al(){for(var n=wr,i=_c=wr=0;i<n;){var s=En[i];En[i++]=null;var u=En[i];En[i++]=null;var d=En[i];En[i++]=null;var g=En[i];if(En[i++]=null,u!==null&&d!==null){var C=u.pending;C===null?d.next=d:(d.next=C.next,C.next=d),u.pending=d}g!==0&&Dh(s,d,g)}}function sl(n,i,s,u){En[wr++]=n,En[wr++]=i,En[wr++]=s,En[wr++]=u,_c|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Tc(n,i,s,u){return sl(n,i,s,u),ll(n)}function Mr(n,i){return sl(n,null,null,i),ll(n)}function Dh(n,i,s){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s);for(var d=!1,g=n.return;g!==null;)g.childLanes|=s,u=g.alternate,u!==null&&(u.childLanes|=s),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(d=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,d&&i!==null&&(d=31-zt(s),n=g.hiddenUpdates,u=n[d],u===null?n[d]=[i]:u.push(i),i.lane=s|536870912),g):null}function ll(n){if(50<us)throw us=0,Mf=null,Error(o(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var xr={};function y0(n,i,s,u){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(n,i,s,u){return new y0(n,i,s,u)}function Cc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function pi(n,i){var s=n.alternate;return s===null?(s=fn(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Ih(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function ul(n,i,s,u,d,g){var C=0;if(u=n,typeof n=="function")Cc(n)&&(C=1);else if(typeof n=="string")C=_T(n,s,Te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case le:return n=fn(31,s,i,d),n.elementType=le,n.lanes=g,n;case U:return zo(s.children,d,g,i);case H:C=8,d|=24;break;case $:return n=fn(12,s,i,d|2),n.elementType=$,n.lanes=g,n;case Y:return n=fn(13,s,i,d),n.elementType=Y,n.lanes=g,n;case se:return n=fn(19,s,i,d),n.elementType=se,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case X:case W:C=10;break e;case Q:C=9;break e;case he:C=11;break e;case ae:C=14;break e;case Ee:C=16,u=null;break e}C=29,s=Error(o(130,n===null?"null":typeof n,"")),u=null}return i=fn(C,s,i,d),i.elementType=n,i.type=u,i.lanes=g,i}function zo(n,i,s,u){return n=fn(7,n,u,i),n.lanes=s,n}function Ec(n,i,s){return n=fn(6,n,null,i),n.lanes=s,n}function Sc(n,i,s){return i=fn(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Rr=[],Nr=0,cl=null,fl=0,Sn=[],An=0,Go=null,gi=1,yi="";function Ho(n,i){Rr[Nr++]=fl,Rr[Nr++]=cl,cl=n,fl=i}function Uh(n,i,s){Sn[An++]=gi,Sn[An++]=yi,Sn[An++]=Go,Go=n;var u=gi;n=yi;var d=32-zt(u)-1;u&=~(1<<d),s+=1;var g=32-zt(i)+d;if(30<g){var C=d-d%5;g=(u&(1<<C)-1).toString(32),u>>=C,d-=C,gi=1<<32-zt(i)+d|s<<d|u,yi=g+n}else gi=1<<g|s<<d|u,yi=n}function Ac(n){n.return!==null&&(Ho(n,1),Uh(n,1,0))}function bc(n){for(;n===cl;)cl=Rr[--Nr],Rr[Nr]=null,fl=Rr[--Nr],Rr[Nr]=null;for(;n===Go;)Go=Sn[--An],Sn[An]=null,yi=Sn[--An],Sn[An]=null,gi=Sn[--An],Sn[An]=null}var Zt=null,_t=null,Je=!1,Fo=null,Yn=!1,wc=Error(o(519));function Yo(n){var i=Error(o(418,""));throw za(Cn(i,n)),wc}function kh(n){var i=n.stateNode,s=n.type,u=n.memoizedProps;switch(i[ht]=n,i[Ot]=u,s){case"dialog":Ge("cancel",i),Ge("close",i);break;case"iframe":case"object":case"embed":Ge("load",i);break;case"video":case"audio":for(s=0;s<fs.length;s++)Ge(fs[s],i);break;case"source":Ge("error",i);break;case"img":case"image":case"link":Ge("error",i),Ge("load",i);break;case"details":Ge("toggle",i);break;case"input":Ge("invalid",i),Gi(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ci(i);break;case"select":Ge("invalid",i);break;case"textarea":Ge("invalid",i),Ra(i,u.value,u.defaultValue,u.children),ci(i)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||u.suppressHydrationWarning===!0||Xp(i.textContent,s)?(u.popover!=null&&(Ge("beforetoggle",i),Ge("toggle",i)),u.onScroll!=null&&Ge("scroll",i),u.onScrollEnd!=null&&Ge("scrollend",i),u.onClick!=null&&(i.onclick=Yl),i=!0):i=!1,i||Yo(n)}function Lh(n){for(Zt=n.return;Zt;)switch(Zt.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Zt=Zt.return}}function qa(n){if(n!==Zt)return!1;if(!Je)return Lh(n),Je=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Hf(n.type,n.memoizedProps)),s=!s),s&&_t&&Yo(n),Lh(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){_t=On(n.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;n=n.nextSibling}_t=null}}else i===27?(i=_t,fo(n.type)?(n=Zf,Zf=null,_t=n):_t=i):_t=Zt?On(n.stateNode.nextSibling):null;return!0}function Ba(){_t=Zt=null,Je=!1}function Oh(){var n=Fo;return n!==null&&(an===null?an=n:an.push.apply(an,n),Fo=null),n}function za(n){Fo===null?Fo=[n]:Fo.push(n)}var Mc=J(null),$o=null,vi=null;function Qi(n,i,s){ne(Mc,i._currentValue),i._currentValue=s}function _i(n){n._currentValue=Mc.current,oe(Mc)}function xc(n,i,s){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===s)break;n=n.return}}function Rc(n,i,s,u){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var g=d.dependencies;if(g!==null){var C=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var M=0;M<i.length;M++)if(S.context===i[M]){g.lanes|=s,S=g.alternate,S!==null&&(S.lanes|=s),xc(g.return,s,n),u||(C=null);break e}g=S.next}}else if(d.tag===18){if(C=d.return,C===null)throw Error(o(341));C.lanes|=s,g=C.alternate,g!==null&&(g.lanes|=s),xc(C,s,n),C=null}else C=d.child;if(C!==null)C.return=d;else for(C=d;C!==null;){if(C===n){C=null;break}if(d=C.sibling,d!==null){d.return=C.return,C=d;break}C=C.return}d=C}}function Ga(n,i,s,u){n=null;for(var d=i,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var C=d.alternate;if(C===null)throw Error(o(387));if(C=C.memoizedProps,C!==null){var S=d.type;cn(d.pendingProps.value,C.value)||(n!==null?n.push(S):n=[S])}}else if(d===Lt.current){if(C=d.alternate,C===null)throw Error(o(387));C.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(ys):n=[ys])}d=d.return}n!==null&&Rc(i,n,s,u),i.flags|=262144}function dl(n){for(n=n.firstContext;n!==null;){if(!cn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Zo(n){$o=n,vi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ft(n){return Ph($o,n)}function hl(n,i){return $o===null&&Zo(n),Ph(n,i)}function Ph(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},vi===null){if(n===null)throw Error(o(308));vi=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else vi=vi.next=i;return s}var v0=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},_0=r.unstable_scheduleCallback,T0=r.unstable_NormalPriority,Rt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nc(){return{controller:new v0,data:new Map,refCount:0}}function Ha(n){n.refCount--,n.refCount===0&&_0(T0,function(){n.controller.abort()})}var Fa=null,Dc=0,Dr=0,Ir=null;function C0(n,i){if(Fa===null){var s=Fa=[];Dc=0,Dr=kf(),Ir={status:"pending",value:void 0,then:function(u){s.push(u)}}}return Dc++,i.then(Vh,Vh),i}function Vh(){if(--Dc===0&&Fa!==null){Ir!==null&&(Ir.status="fulfilled");var n=Fa;Fa=null,Dr=0,Ir=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function E0(n,i){var s=[],u={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var d=0;d<s.length;d++)(0,s[d])(i)},function(d){for(u.status="rejected",u.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),u}var qh=z.S;z.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&C0(n,i),qh!==null&&qh(n,i)};var Ko=J(null);function Ic(){var n=Ko.current;return n!==null?n:at.pooledCache}function ml(n,i){i===null?ne(Ko,Ko.current):ne(Ko,i.pool)}function Bh(){var n=Ic();return n===null?null:{parent:Rt._currentValue,pool:n}}var Ya=Error(o(460)),zh=Error(o(474)),pl=Error(o(542)),Uc={then:function(){}};function Gh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function gl(){}function Hh(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(gl,gl),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Yh(n),n;default:if(typeof i.status=="string")i.then(gl,gl);else{if(n=at,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=u}},function(u){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Yh(n),n}throw $a=i,Ya}}var $a=null;function Fh(){if($a===null)throw Error(o(459));var n=$a;return $a=null,n}function Yh(n){if(n===Ya||n===pl)throw Error(o(483))}var Xi=!1;function kc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lc(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Wi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ji(n,i,s){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Xe&2)!==0){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,i=ll(n),Dh(n,null,s),i}return sl(n,u,i,s),ll(n)}function Za(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,s|=u,i.lanes=s,Zs(n,s)}}function Oc(n,i){var s=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var d=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var C={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?d=g=C:g=g.next=C,s=s.next}while(s!==null);g===null?d=g=i:g=g.next=i}else d=g=i;s={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var Pc=!1;function Ka(){if(Pc){var n=Ir;if(n!==null)throw n}}function Ja(n,i,s,u){Pc=!1;var d=n.updateQueue;Xi=!1;var g=d.firstBaseUpdate,C=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var M=S,P=M.next;M.next=null,C===null?g=P:C.next=P,C=M;var G=n.alternate;G!==null&&(G=G.updateQueue,S=G.lastBaseUpdate,S!==C&&(S===null?G.firstBaseUpdate=P:S.next=P,G.lastBaseUpdate=M))}if(g!==null){var Z=d.baseState;C=0,G=P=M=null,S=g;do{var V=S.lane&-536870913,q=V!==S.lane;if(q?(Ye&V)===V:(u&V)===V){V!==0&&V===Dr&&(Pc=!0),G!==null&&(G=G.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var we=n,Se=S;V=i;var nt=s;switch(Se.tag){case 1:if(we=Se.payload,typeof we=="function"){Z=we.call(nt,Z,V);break e}Z=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Se.payload,V=typeof we=="function"?we.call(nt,Z,V):we,V==null)break e;Z=T({},Z,V);break e;case 2:Xi=!0}}V=S.callback,V!==null&&(n.flags|=64,q&&(n.flags|=8192),q=d.callbacks,q===null?d.callbacks=[V]:q.push(V))}else q={lane:V,tag:S.tag,payload:S.payload,callback:S.callback,next:null},G===null?(P=G=q,M=Z):G=G.next=q,C|=V;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;q=S,S=q.next,q.next=null,d.lastBaseUpdate=q,d.shared.pending=null}}while(!0);G===null&&(M=Z),d.baseState=M,d.firstBaseUpdate=P,d.lastBaseUpdate=G,g===null&&(d.shared.lanes=0),so|=C,n.lanes=C,n.memoizedState=Z}}function $h(n,i){if(typeof n!="function")throw Error(o(191,n));n.call(i)}function Zh(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)$h(s[n],i)}var Ur=J(null),yl=J(0);function Kh(n,i){n=wi,ne(yl,n),ne(Ur,i),wi=n|i.baseLanes}function Vc(){ne(yl,wi),ne(Ur,Ur.current)}function qc(){wi=yl.current,oe(Ur),oe(yl)}var eo=0,Pe=null,et=null,bt=null,vl=!1,kr=!1,Jo=!1,_l=0,Qa=0,Lr=null,S0=0;function St(){throw Error(o(321))}function Bc(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!cn(n[s],i[s]))return!1;return!0}function zc(n,i,s,u,d,g){return eo=g,Pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,z.H=n===null||n.memoizedState===null?Dm:Im,Jo=!1,g=s(u,d),Jo=!1,kr&&(g=Qh(i,s,u,d)),Jh(n),g}function Jh(n){z.H=bl;var i=et!==null&&et.next!==null;if(eo=0,bt=et=Pe=null,vl=!1,Qa=0,Lr=null,i)throw Error(o(300));n===null||It||(n=n.dependencies,n!==null&&dl(n)&&(It=!0))}function Qh(n,i,s,u){Pe=n;var d=0;do{if(kr&&(Lr=null),Qa=0,kr=!1,25<=d)throw Error(o(301));if(d+=1,bt=et=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}z.H=N0,g=i(s,u)}while(kr);return g}function A0(){var n=z.H,i=n.useState()[0];return i=typeof i.then=="function"?Xa(i):i,n=n.useState()[0],(et!==null?et.memoizedState:null)!==n&&(Pe.flags|=1024),i}function Gc(){var n=_l!==0;return _l=0,n}function Hc(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function Fc(n){if(vl){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}vl=!1}eo=0,bt=et=Pe=null,kr=!1,Qa=_l=0,Lr=null}function on(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Pe.memoizedState=bt=n:bt=bt.next=n,bt}function wt(){if(et===null){var n=Pe.alternate;n=n!==null?n.memoizedState:null}else n=et.next;var i=bt===null?Pe.memoizedState:bt.next;if(i!==null)bt=i,et=n;else{if(n===null)throw Pe.alternate===null?Error(o(467)):Error(o(310));et=n,n={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},bt===null?Pe.memoizedState=bt=n:bt=bt.next=n}return bt}function Yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xa(n){var i=Qa;return Qa+=1,Lr===null&&(Lr=[]),n=Hh(Lr,n,i),i=Pe,(bt===null?i.memoizedState:bt.next)===null&&(i=i.alternate,z.H=i===null||i.memoizedState===null?Dm:Im),n}function Tl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Xa(n);if(n.$$typeof===W)return Ft(n)}throw Error(o(438,String(n)))}function $c(n){var i=null,s=Pe.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Yc(),Pe.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),u=0;u<n;u++)s[u]=ge;return i.index++,s}function Ti(n,i){return typeof i=="function"?i(n):i}function Cl(n){var i=wt();return Zc(i,et,n)}function Zc(n,i,s){var u=n.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=s;var d=n.baseQueue,g=u.pending;if(g!==null){if(d!==null){var C=d.next;d.next=g.next,g.next=C}i.baseQueue=d=g,u.pending=null}if(g=n.baseState,d===null)n.memoizedState=g;else{i=d.next;var S=C=null,M=null,P=i,G=!1;do{var Z=P.lane&-536870913;if(Z!==P.lane?(Ye&Z)===Z:(eo&Z)===Z){var V=P.revertLane;if(V===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Z===Dr&&(G=!0);else if((eo&V)===V){P=P.next,V===Dr&&(G=!0);continue}else Z={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},M===null?(S=M=Z,C=g):M=M.next=Z,Pe.lanes|=V,so|=V;Z=P.action,Jo&&s(g,Z),g=P.hasEagerState?P.eagerState:s(g,Z)}else V={lane:Z,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},M===null?(S=M=V,C=g):M=M.next=V,Pe.lanes|=Z,so|=Z;P=P.next}while(P!==null&&P!==i);if(M===null?C=g:M.next=S,!cn(g,n.memoizedState)&&(It=!0,G&&(s=Ir,s!==null)))throw s;n.memoizedState=g,n.baseState=C,n.baseQueue=M,u.lastRenderedState=g}return d===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Kc(n){var i=wt(),s=i.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=n;var u=s.dispatch,d=s.pending,g=i.memoizedState;if(d!==null){s.pending=null;var C=d=d.next;do g=n(g,C.action),C=C.next;while(C!==d);cn(g,i.memoizedState)||(It=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),s.lastRenderedState=g}return[g,u]}function Xh(n,i,s){var u=Pe,d=wt(),g=Je;if(g){if(s===void 0)throw Error(o(407));s=s()}else s=i();var C=!cn((et||d).memoizedState,s);C&&(d.memoizedState=s,It=!0),d=d.queue;var S=em.bind(null,u,d,n);if(Wa(2048,8,S,[n]),d.getSnapshot!==i||C||bt!==null&&bt.memoizedState.tag&1){if(u.flags|=2048,Or(9,El(),jh.bind(null,u,d,s,i),null),at===null)throw Error(o(349));g||(eo&124)!==0||Wh(u,i,s)}return s}function Wh(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=Pe.updateQueue,i===null?(i=Yc(),Pe.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function jh(n,i,s,u){i.value=s,i.getSnapshot=u,tm(i)&&nm(n)}function em(n,i,s){return s(function(){tm(i)&&nm(n)})}function tm(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!cn(n,s)}catch{return!0}}function nm(n){var i=Mr(n,2);i!==null&&gn(i,n,2)}function Jc(n){var i=on();if(typeof n=="function"){var s=n;if(n=s(),Jo){Dn(!0);try{s()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:n},i}function im(n,i,s,u){return n.baseState=s,Zc(n,et,typeof u=="function"?u:Ti)}function b0(n,i,s,u,d){if(Al(n))throw Error(o(485));if(n=i.action,n!==null){var g={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){g.listeners.push(C)}};z.T!==null?s(!0):g.isTransition=!1,u(g),s=i.pending,s===null?(g.next=i.pending=g,om(i,g)):(g.next=s.next,i.pending=s.next=g)}}function om(n,i){var s=i.action,u=i.payload,d=n.state;if(i.isTransition){var g=z.T,C={};z.T=C;try{var S=s(d,u),M=z.S;M!==null&&M(C,S),rm(n,i,S)}catch(P){Qc(n,i,P)}finally{z.T=g}}else try{g=s(d,u),rm(n,i,g)}catch(P){Qc(n,i,P)}}function rm(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){am(n,i,u)},function(u){return Qc(n,i,u)}):am(n,i,s)}function am(n,i,s){i.status="fulfilled",i.value=s,sm(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,om(n,s)))}function Qc(n,i,s){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=s,sm(i),i=i.next;while(i!==u)}n.action=null}function sm(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function lm(n,i){return i}function um(n,i){if(Je){var s=at.formState;if(s!==null){e:{var u=Pe;if(Je){if(_t){t:{for(var d=_t,g=Yn;d.nodeType!==8;){if(!g){d=null;break t}if(d=On(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){_t=On(d.nextSibling),u=d.data==="F!";break e}}Yo(u)}u=!1}u&&(i=s[0])}}return s=on(),s.memoizedState=s.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lm,lastRenderedState:i},s.queue=u,s=xm.bind(null,Pe,u),u.dispatch=s,u=Jc(!1),g=tf.bind(null,Pe,!1,u.queue),u=on(),d={state:i,dispatch:null,action:n,pending:null},u.queue=d,s=b0.bind(null,Pe,d,g,s),d.dispatch=s,u.memoizedState=n,[i,s,!1]}function cm(n){var i=wt();return fm(i,et,n)}function fm(n,i,s){if(i=Zc(n,i,lm)[0],n=Cl(Ti)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Xa(i)}catch(C){throw C===Ya?pl:C}else u=i;i=wt();var d=i.queue,g=d.dispatch;return s!==i.memoizedState&&(Pe.flags|=2048,Or(9,El(),w0.bind(null,d,s),null)),[u,g,n]}function w0(n,i){n.action=i}function dm(n){var i=wt(),s=et;if(s!==null)return fm(i,s,n);wt(),i=i.memoizedState,s=wt();var u=s.queue.dispatch;return s.memoizedState=n,[i,u,!1]}function Or(n,i,s,u){return n={tag:n,create:s,deps:u,inst:i,next:null},i=Pe.updateQueue,i===null&&(i=Yc(),Pe.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(u=s.next,s.next=n,n.next=u,i.lastEffect=n),n}function El(){return{destroy:void 0,resource:void 0}}function hm(){return wt().memoizedState}function Sl(n,i,s,u){var d=on();u=u===void 0?null:u,Pe.flags|=n,d.memoizedState=Or(1|i,El(),s,u)}function Wa(n,i,s,u){var d=wt();u=u===void 0?null:u;var g=d.memoizedState.inst;et!==null&&u!==null&&Bc(u,et.memoizedState.deps)?d.memoizedState=Or(i,g,s,u):(Pe.flags|=n,d.memoizedState=Or(1|i,g,s,u))}function mm(n,i){Sl(8390656,8,n,i)}function pm(n,i){Wa(2048,8,n,i)}function gm(n,i){return Wa(4,2,n,i)}function ym(n,i){return Wa(4,4,n,i)}function vm(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function _m(n,i,s){s=s!=null?s.concat([n]):null,Wa(4,4,vm.bind(null,i,n),s)}function Xc(){}function Tm(n,i){var s=wt();i=i===void 0?null:i;var u=s.memoizedState;return i!==null&&Bc(i,u[1])?u[0]:(s.memoizedState=[n,i],n)}function Cm(n,i){var s=wt();i=i===void 0?null:i;var u=s.memoizedState;if(i!==null&&Bc(i,u[1]))return u[0];if(u=n(),Jo){Dn(!0);try{n()}finally{Dn(!1)}}return s.memoizedState=[u,i],u}function Wc(n,i,s){return s===void 0||(eo&1073741824)!==0?n.memoizedState=i:(n.memoizedState=s,n=Ap(),Pe.lanes|=n,so|=n,s)}function Em(n,i,s,u){return cn(s,i)?s:Ur.current!==null?(n=Wc(n,s,u),cn(n,i)||(It=!0),n):(eo&42)===0?(It=!0,n.memoizedState=s):(n=Ap(),Pe.lanes|=n,so|=n,i)}function Sm(n,i,s,u,d){var g=ie.p;ie.p=g!==0&&8>g?g:8;var C=z.T,S={};z.T=S,tf(n,!1,i,s);try{var M=d(),P=z.S;if(P!==null&&P(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var G=E0(M,u);ja(n,i,G,pn(n))}else ja(n,i,u,pn(n))}catch(Z){ja(n,i,{then:function(){},status:"rejected",reason:Z},pn())}finally{ie.p=g,z.T=C}}function M0(){}function jc(n,i,s,u){if(n.tag!==5)throw Error(o(476));var d=Am(n).queue;Sm(n,d,i,_e,s===null?M0:function(){return bm(n),s(u)})}function Am(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:_e},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function bm(n){var i=Am(n).next.queue;ja(n,i,{},pn())}function ef(){return Ft(ys)}function wm(){return wt().memoizedState}function Mm(){return wt().memoizedState}function x0(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=pn();n=Wi(s);var u=ji(i,n,s);u!==null&&(gn(u,i,s),Za(u,i,s)),i={cache:Nc()},n.payload=i;return}i=i.return}}function R0(n,i,s){var u=pn();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Al(n)?Rm(i,s):(s=Tc(n,i,s,u),s!==null&&(gn(s,n,u),Nm(s,i,u)))}function xm(n,i,s){var u=pn();ja(n,i,s,u)}function ja(n,i,s,u){var d={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Al(n))Rm(i,d);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var C=i.lastRenderedState,S=g(C,s);if(d.hasEagerState=!0,d.eagerState=S,cn(S,C))return sl(n,i,d,0),at===null&&al(),!1}catch{}finally{}if(s=Tc(n,i,d,u),s!==null)return gn(s,n,u),Nm(s,i,u),!0}return!1}function tf(n,i,s,u){if(u={lane:2,revertLane:kf(),action:u,hasEagerState:!1,eagerState:null,next:null},Al(n)){if(i)throw Error(o(479))}else i=Tc(n,s,u,2),i!==null&&gn(i,n,2)}function Al(n){var i=n.alternate;return n===Pe||i!==null&&i===Pe}function Rm(n,i){kr=vl=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function Nm(n,i,s){if((s&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,s|=u,i.lanes=s,Zs(n,s)}}var bl={readContext:Ft,use:Tl,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},Dm={readContext:Ft,use:Tl,useCallback:function(n,i){return on().memoizedState=[n,i===void 0?null:i],n},useContext:Ft,useEffect:mm,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,Sl(4194308,4,vm.bind(null,i,n),s)},useLayoutEffect:function(n,i){return Sl(4194308,4,n,i)},useInsertionEffect:function(n,i){Sl(4,2,n,i)},useMemo:function(n,i){var s=on();i=i===void 0?null:i;var u=n();if(Jo){Dn(!0);try{n()}finally{Dn(!1)}}return s.memoizedState=[u,i],u},useReducer:function(n,i,s){var u=on();if(s!==void 0){var d=s(i);if(Jo){Dn(!0);try{s(i)}finally{Dn(!1)}}}else d=i;return u.memoizedState=u.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},u.queue=n,n=n.dispatch=R0.bind(null,Pe,n),[u.memoizedState,n]},useRef:function(n){var i=on();return n={current:n},i.memoizedState=n},useState:function(n){n=Jc(n);var i=n.queue,s=xm.bind(null,Pe,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:Xc,useDeferredValue:function(n,i){var s=on();return Wc(s,n,i)},useTransition:function(){var n=Jc(!1);return n=Sm.bind(null,Pe,n.queue,!0,!1),on().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var u=Pe,d=on();if(Je){if(s===void 0)throw Error(o(407));s=s()}else{if(s=i(),at===null)throw Error(o(349));(Ye&124)!==0||Wh(u,i,s)}d.memoizedState=s;var g={value:s,getSnapshot:i};return d.queue=g,mm(em.bind(null,u,g,n),[n]),u.flags|=2048,Or(9,El(),jh.bind(null,u,g,s,i),null),s},useId:function(){var n=on(),i=at.identifierPrefix;if(Je){var s=yi,u=gi;s=(u&~(1<<32-zt(u)-1)).toString(32)+s,i=""+i+"R"+s,s=_l++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=S0++,i=""+i+"r"+s.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:ef,useFormState:um,useActionState:um,useOptimistic:function(n){var i=on();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=tf.bind(null,Pe,!0,s),s.dispatch=i,[n,i]},useMemoCache:$c,useCacheRefresh:function(){return on().memoizedState=x0.bind(null,Pe)}},Im={readContext:Ft,use:Tl,useCallback:Tm,useContext:Ft,useEffect:pm,useImperativeHandle:_m,useInsertionEffect:gm,useLayoutEffect:ym,useMemo:Cm,useReducer:Cl,useRef:hm,useState:function(){return Cl(Ti)},useDebugValue:Xc,useDeferredValue:function(n,i){var s=wt();return Em(s,et.memoizedState,n,i)},useTransition:function(){var n=Cl(Ti)[0],i=wt().memoizedState;return[typeof n=="boolean"?n:Xa(n),i]},useSyncExternalStore:Xh,useId:wm,useHostTransitionStatus:ef,useFormState:cm,useActionState:cm,useOptimistic:function(n,i){var s=wt();return im(s,et,n,i)},useMemoCache:$c,useCacheRefresh:Mm},N0={readContext:Ft,use:Tl,useCallback:Tm,useContext:Ft,useEffect:pm,useImperativeHandle:_m,useInsertionEffect:gm,useLayoutEffect:ym,useMemo:Cm,useReducer:Kc,useRef:hm,useState:function(){return Kc(Ti)},useDebugValue:Xc,useDeferredValue:function(n,i){var s=wt();return et===null?Wc(s,n,i):Em(s,et.memoizedState,n,i)},useTransition:function(){var n=Kc(Ti)[0],i=wt().memoizedState;return[typeof n=="boolean"?n:Xa(n),i]},useSyncExternalStore:Xh,useId:wm,useHostTransitionStatus:ef,useFormState:dm,useActionState:dm,useOptimistic:function(n,i){var s=wt();return et!==null?im(s,et,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:$c,useCacheRefresh:Mm},Pr=null,es=0;function wl(n){var i=es;return es+=1,Pr===null&&(Pr=[]),Hh(Pr,n,i)}function ts(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Ml(n,i){throw i.$$typeof===b?Error(o(525)):(n=Object.prototype.toString.call(i),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Um(n){var i=n._init;return i(n._payload)}function km(n){function i(I,N){if(n){var O=I.deletions;O===null?(I.deletions=[N],I.flags|=16):O.push(N)}}function s(I,N){if(!n)return null;for(;N!==null;)i(I,N),N=N.sibling;return null}function u(I){for(var N=new Map;I!==null;)I.key!==null?N.set(I.key,I):N.set(I.index,I),I=I.sibling;return N}function d(I,N){return I=pi(I,N),I.index=0,I.sibling=null,I}function g(I,N,O){return I.index=O,n?(O=I.alternate,O!==null?(O=O.index,O<N?(I.flags|=67108866,N):O):(I.flags|=67108866,N)):(I.flags|=1048576,N)}function C(I){return n&&I.alternate===null&&(I.flags|=67108866),I}function S(I,N,O,F){return N===null||N.tag!==6?(N=Ec(O,I.mode,F),N.return=I,N):(N=d(N,O),N.return=I,N)}function M(I,N,O,F){var fe=O.type;return fe===U?G(I,N,O.props.children,F,O.key):N!==null&&(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Ee&&Um(fe)===N.type)?(N=d(N,O.props),ts(N,O),N.return=I,N):(N=ul(O.type,O.key,O.props,null,I.mode,F),ts(N,O),N.return=I,N)}function P(I,N,O,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==O.containerInfo||N.stateNode.implementation!==O.implementation?(N=Sc(O,I.mode,F),N.return=I,N):(N=d(N,O.children||[]),N.return=I,N)}function G(I,N,O,F,fe){return N===null||N.tag!==7?(N=zo(O,I.mode,F,fe),N.return=I,N):(N=d(N,O),N.return=I,N)}function Z(I,N,O){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ec(""+N,I.mode,O),N.return=I,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case w:return O=ul(N.type,N.key,N.props,null,I.mode,O),ts(O,N),O.return=I,O;case D:return N=Sc(N,I.mode,O),N.return=I,N;case Ee:var F=N._init;return N=F(N._payload),Z(I,N,O)}if(ft(N)||ut(N))return N=zo(N,I.mode,O,null),N.return=I,N;if(typeof N.then=="function")return Z(I,wl(N),O);if(N.$$typeof===W)return Z(I,hl(I,N),O);Ml(I,N)}return null}function V(I,N,O,F){var fe=N!==null?N.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return fe!==null?null:S(I,N,""+O,F);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case w:return O.key===fe?M(I,N,O,F):null;case D:return O.key===fe?P(I,N,O,F):null;case Ee:return fe=O._init,O=fe(O._payload),V(I,N,O,F)}if(ft(O)||ut(O))return fe!==null?null:G(I,N,O,F,null);if(typeof O.then=="function")return V(I,N,wl(O),F);if(O.$$typeof===W)return V(I,N,hl(I,O),F);Ml(I,O)}return null}function q(I,N,O,F,fe){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return I=I.get(O)||null,S(N,I,""+F,fe);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return I=I.get(F.key===null?O:F.key)||null,M(N,I,F,fe);case D:return I=I.get(F.key===null?O:F.key)||null,P(N,I,F,fe);case Ee:var Be=F._init;return F=Be(F._payload),q(I,N,O,F,fe)}if(ft(F)||ut(F))return I=I.get(O)||null,G(N,I,F,fe,null);if(typeof F.then=="function")return q(I,N,O,wl(F),fe);if(F.$$typeof===W)return q(I,N,O,hl(N,F),fe);Ml(N,F)}return null}function we(I,N,O,F){for(var fe=null,Be=null,ve=N,be=N=0,kt=null;ve!==null&&be<O.length;be++){ve.index>be?(kt=ve,ve=null):kt=ve.sibling;var $e=V(I,ve,O[be],F);if($e===null){ve===null&&(ve=kt);break}n&&ve&&$e.alternate===null&&i(I,ve),N=g($e,N,be),Be===null?fe=$e:Be.sibling=$e,Be=$e,ve=kt}if(be===O.length)return s(I,ve),Je&&Ho(I,be),fe;if(ve===null){for(;be<O.length;be++)ve=Z(I,O[be],F),ve!==null&&(N=g(ve,N,be),Be===null?fe=ve:Be.sibling=ve,Be=ve);return Je&&Ho(I,be),fe}for(ve=u(ve);be<O.length;be++)kt=q(ve,I,be,O[be],F),kt!==null&&(n&&kt.alternate!==null&&ve.delete(kt.key===null?be:kt.key),N=g(kt,N,be),Be===null?fe=kt:Be.sibling=kt,Be=kt);return n&&ve.forEach(function(yo){return i(I,yo)}),Je&&Ho(I,be),fe}function Se(I,N,O,F){if(O==null)throw Error(o(151));for(var fe=null,Be=null,ve=N,be=N=0,kt=null,$e=O.next();ve!==null&&!$e.done;be++,$e=O.next()){ve.index>be?(kt=ve,ve=null):kt=ve.sibling;var yo=V(I,ve,$e.value,F);if(yo===null){ve===null&&(ve=kt);break}n&&ve&&yo.alternate===null&&i(I,ve),N=g(yo,N,be),Be===null?fe=yo:Be.sibling=yo,Be=yo,ve=kt}if($e.done)return s(I,ve),Je&&Ho(I,be),fe;if(ve===null){for(;!$e.done;be++,$e=O.next())$e=Z(I,$e.value,F),$e!==null&&(N=g($e,N,be),Be===null?fe=$e:Be.sibling=$e,Be=$e);return Je&&Ho(I,be),fe}for(ve=u(ve);!$e.done;be++,$e=O.next())$e=q(ve,I,be,$e.value,F),$e!==null&&(n&&$e.alternate!==null&&ve.delete($e.key===null?be:$e.key),N=g($e,N,be),Be===null?fe=$e:Be.sibling=$e,Be=$e);return n&&ve.forEach(function(DT){return i(I,DT)}),Je&&Ho(I,be),fe}function nt(I,N,O,F){if(typeof O=="object"&&O!==null&&O.type===U&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case w:e:{for(var fe=O.key;N!==null;){if(N.key===fe){if(fe=O.type,fe===U){if(N.tag===7){s(I,N.sibling),F=d(N,O.props.children),F.return=I,I=F;break e}}else if(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Ee&&Um(fe)===N.type){s(I,N.sibling),F=d(N,O.props),ts(F,O),F.return=I,I=F;break e}s(I,N);break}else i(I,N);N=N.sibling}O.type===U?(F=zo(O.props.children,I.mode,F,O.key),F.return=I,I=F):(F=ul(O.type,O.key,O.props,null,I.mode,F),ts(F,O),F.return=I,I=F)}return C(I);case D:e:{for(fe=O.key;N!==null;){if(N.key===fe)if(N.tag===4&&N.stateNode.containerInfo===O.containerInfo&&N.stateNode.implementation===O.implementation){s(I,N.sibling),F=d(N,O.children||[]),F.return=I,I=F;break e}else{s(I,N);break}else i(I,N);N=N.sibling}F=Sc(O,I.mode,F),F.return=I,I=F}return C(I);case Ee:return fe=O._init,O=fe(O._payload),nt(I,N,O,F)}if(ft(O))return we(I,N,O,F);if(ut(O)){if(fe=ut(O),typeof fe!="function")throw Error(o(150));return O=fe.call(O),Se(I,N,O,F)}if(typeof O.then=="function")return nt(I,N,wl(O),F);if(O.$$typeof===W)return nt(I,N,hl(I,O),F);Ml(I,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,N!==null&&N.tag===6?(s(I,N.sibling),F=d(N,O),F.return=I,I=F):(s(I,N),F=Ec(O,I.mode,F),F.return=I,I=F),C(I)):s(I,N)}return function(I,N,O,F){try{es=0;var fe=nt(I,N,O,F);return Pr=null,fe}catch(ve){if(ve===Ya||ve===pl)throw ve;var Be=fn(29,ve,null,I.mode);return Be.lanes=F,Be.return=I,Be}finally{}}}var Vr=km(!0),Lm=km(!1),bn=J(null),$n=null;function to(n){var i=n.alternate;ne(Nt,Nt.current&1),ne(bn,n),$n===null&&(i===null||Ur.current!==null||i.memoizedState!==null)&&($n=n)}function Om(n){if(n.tag===22){if(ne(Nt,Nt.current),ne(bn,n),$n===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&($n=n)}}else no()}function no(){ne(Nt,Nt.current),ne(bn,bn.current)}function Ci(n){oe(bn),$n===n&&($n=null),oe(Nt)}var Nt=J(0);function xl(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||$f(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function nf(n,i,s,u){i=n.memoizedState,s=s(u,i),s=s==null?i:T({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var of={enqueueSetState:function(n,i,s){n=n._reactInternals;var u=pn(),d=Wi(u);d.payload=i,s!=null&&(d.callback=s),i=ji(n,d,u),i!==null&&(gn(i,n,u),Za(i,n,u))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var u=pn(),d=Wi(u);d.tag=1,d.payload=i,s!=null&&(d.callback=s),i=ji(n,d,u),i!==null&&(gn(i,n,u),Za(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=pn(),u=Wi(s);u.tag=2,i!=null&&(u.callback=i),i=ji(n,u,s),i!==null&&(gn(i,n,s),Za(i,n,s))}};function Pm(n,i,s,u,d,g,C){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,C):i.prototype&&i.prototype.isPureReactComponent?!Pa(s,u)||!Pa(d,g):!0}function Vm(n,i,s,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,u),i.state!==n&&of.enqueueReplaceState(i,i.state,null)}function Qo(n,i){var s=i;if("ref"in i){s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}if(n=n.defaultProps){s===i&&(s=T({},s));for(var d in n)s[d]===void 0&&(s[d]=n[d])}return s}var Rl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function qm(n){Rl(n)}function Bm(n){console.error(n)}function zm(n){Rl(n)}function Nl(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Gm(n,i,s){try{var u=n.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function rf(n,i,s){return s=Wi(s),s.tag=3,s.payload={element:null},s.callback=function(){Nl(n,i)},s}function Hm(n){return n=Wi(n),n.tag=3,n}function Fm(n,i,s,u){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;n.payload=function(){return d(g)},n.callback=function(){Gm(i,s,u)}}var C=s.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(n.callback=function(){Gm(i,s,u),typeof d!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function D0(n,i,s,u,d){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=s.alternate,i!==null&&Ga(i,s,d,!0),s=bn.current,s!==null){switch(s.tag){case 13:return $n===null?Rf():s.alternate===null&&Tt===0&&(Tt=3),s.flags&=-257,s.flags|=65536,s.lanes=d,u===Uc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([u]):i.add(u),Df(n,u,d)),!1;case 22:return s.flags|=65536,u===Uc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([u]):s.add(u)),Df(n,u,d)),!1}throw Error(o(435,s.tag))}return Df(n,u,d),Rf(),!1}if(Je)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,u!==wc&&(n=Error(o(422),{cause:u}),za(Cn(n,s)))):(u!==wc&&(i=Error(o(423),{cause:u}),za(Cn(i,s))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,u=Cn(u,s),d=rf(n.stateNode,u,d),Oc(n,d),Tt!==4&&(Tt=2)),!1;var g=Error(o(520),{cause:u});if(g=Cn(g,s),ls===null?ls=[g]:ls.push(g),Tt!==4&&(Tt=2),i===null)return!0;u=Cn(u,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=d&-d,s.lanes|=n,n=rf(s.stateNode,u,n),Oc(s,n),!1;case 1:if(i=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(lo===null||!lo.has(g))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Hm(d),Fm(d,n,s,u),Oc(s,d),!1}s=s.return}while(s!==null);return!1}var Ym=Error(o(461)),It=!1;function Vt(n,i,s,u){i.child=n===null?Lm(i,null,s,u):Vr(i,n.child,s,u)}function $m(n,i,s,u,d){s=s.render;var g=i.ref;if("ref"in u){var C={};for(var S in u)S!=="ref"&&(C[S]=u[S])}else C=u;return Zo(i),u=zc(n,i,s,C,g,d),S=Gc(),n!==null&&!It?(Hc(n,i,d),Ei(n,i,d)):(Je&&S&&Ac(i),i.flags|=1,Vt(n,i,u,d),i.child)}function Zm(n,i,s,u,d){if(n===null){var g=s.type;return typeof g=="function"&&!Cc(g)&&g.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=g,Km(n,i,g,u,d)):(n=ul(s.type,null,u,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,!hf(n,d)){var C=g.memoizedProps;if(s=s.compare,s=s!==null?s:Pa,s(C,u)&&n.ref===i.ref)return Ei(n,i,d)}return i.flags|=1,n=pi(g,u),n.ref=i.ref,n.return=i,i.child=n}function Km(n,i,s,u,d){if(n!==null){var g=n.memoizedProps;if(Pa(g,u)&&n.ref===i.ref)if(It=!1,i.pendingProps=u=g,hf(n,d))(n.flags&131072)!==0&&(It=!0);else return i.lanes=n.lanes,Ei(n,i,d)}return af(n,i,s,u,d)}function Jm(n,i,s){var u=i.pendingProps,d=u.children,g=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=g!==null?g.baseLanes|s:s,n!==null){for(d=i.child=n.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;i.childLanes=g&~u}else i.childLanes=0,i.child=null;return Qm(n,i,u,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&ml(i,g!==null?g.cachePool:null),g!==null?Kh(i,g):Vc(),Om(i);else return i.lanes=i.childLanes=536870912,Qm(n,i,g!==null?g.baseLanes|s:s,s)}else g!==null?(ml(i,g.cachePool),Kh(i,g),no(),i.memoizedState=null):(n!==null&&ml(i,null),Vc(),no());return Vt(n,i,d,s),i.child}function Qm(n,i,s,u){var d=Ic();return d=d===null?null:{parent:Rt._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},n!==null&&ml(i,null),Vc(),Om(i),n!==null&&Ga(n,i,u,!0),null}function Dl(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function af(n,i,s,u,d){return Zo(i),s=zc(n,i,s,u,void 0,d),u=Gc(),n!==null&&!It?(Hc(n,i,d),Ei(n,i,d)):(Je&&u&&Ac(i),i.flags|=1,Vt(n,i,s,d),i.child)}function Xm(n,i,s,u,d,g){return Zo(i),i.updateQueue=null,s=Qh(i,u,s,d),Jh(n),u=Gc(),n!==null&&!It?(Hc(n,i,g),Ei(n,i,g)):(Je&&u&&Ac(i),i.flags|=1,Vt(n,i,s,g),i.child)}function Wm(n,i,s,u,d){if(Zo(i),i.stateNode===null){var g=xr,C=s.contextType;typeof C=="object"&&C!==null&&(g=Ft(C)),g=new s(u,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=of,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=u,g.state=i.memoizedState,g.refs={},kc(i),C=s.contextType,g.context=typeof C=="object"&&C!==null?Ft(C):xr,g.state=i.memoizedState,C=s.getDerivedStateFromProps,typeof C=="function"&&(nf(i,s,C,u),g.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(C=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),C!==g.state&&of.enqueueReplaceState(g,g.state,null),Ja(i,u,g,d),Ka(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){g=i.stateNode;var S=i.memoizedProps,M=Qo(s,S);g.props=M;var P=g.context,G=s.contextType;C=xr,typeof G=="object"&&G!==null&&(C=Ft(G));var Z=s.getDerivedStateFromProps;G=typeof Z=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,G||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||P!==C)&&Vm(i,g,u,C),Xi=!1;var V=i.memoizedState;g.state=V,Ja(i,u,g,d),Ka(),P=i.memoizedState,S||V!==P||Xi?(typeof Z=="function"&&(nf(i,s,Z,u),P=i.memoizedState),(M=Xi||Pm(i,s,M,u,V,P,C))?(G||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=P),g.props=u,g.state=P,g.context=C,u=M):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,Lc(n,i),C=i.memoizedProps,G=Qo(s,C),g.props=G,Z=i.pendingProps,V=g.context,P=s.contextType,M=xr,typeof P=="object"&&P!==null&&(M=Ft(P)),S=s.getDerivedStateFromProps,(P=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C!==Z||V!==M)&&Vm(i,g,u,M),Xi=!1,V=i.memoizedState,g.state=V,Ja(i,u,g,d),Ka();var q=i.memoizedState;C!==Z||V!==q||Xi||n!==null&&n.dependencies!==null&&dl(n.dependencies)?(typeof S=="function"&&(nf(i,s,S,u),q=i.memoizedState),(G=Xi||Pm(i,s,G,u,V,q,M)||n!==null&&n.dependencies!==null&&dl(n.dependencies))?(P||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,q,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,q,M)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||C===n.memoizedProps&&V===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&V===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=q),g.props=u,g.state=q,g.context=M,u=G):(typeof g.componentDidUpdate!="function"||C===n.memoizedProps&&V===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&V===n.memoizedState||(i.flags|=1024),u=!1)}return g=u,Dl(n,i),u=(i.flags&128)!==0,g||u?(g=i.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,n!==null&&u?(i.child=Vr(i,n.child,null,d),i.child=Vr(i,null,s,d)):Vt(n,i,s,d),i.memoizedState=g.state,n=i.child):n=Ei(n,i,d),n}function jm(n,i,s,u){return Ba(),i.flags|=256,Vt(n,i,s,u),i.child}var sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lf(n){return{baseLanes:n,cachePool:Bh()}}function uf(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=wn),n}function ep(n,i,s){var u=i.pendingProps,d=!1,g=(i.flags&128)!==0,C;if((C=g)||(C=n!==null&&n.memoizedState===null?!1:(Nt.current&2)!==0),C&&(d=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,n===null){if(Je){if(d?to(i):no(),Je){var S=_t,M;if(M=S){e:{for(M=S,S=Yn;M.nodeType!==8;){if(!S){S=null;break e}if(M=On(M.nextSibling),M===null){S=null;break e}}S=M}S!==null?(i.memoizedState={dehydrated:S,treeContext:Go!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},M=fn(18,null,null,0),M.stateNode=S,M.return=i,i.child=M,Zt=i,_t=null,M=!0):M=!1}M||Yo(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return $f(S)?i.lanes=32:i.lanes=536870912,null;Ci(i)}return S=u.children,u=u.fallback,d?(no(),d=i.mode,S=Il({mode:"hidden",children:S},d),u=zo(u,d,s,null),S.return=i,u.return=i,S.sibling=u,i.child=S,d=i.child,d.memoizedState=lf(s),d.childLanes=uf(n,C,s),i.memoizedState=sf,u):(to(i),cf(i,S))}if(M=n.memoizedState,M!==null&&(S=M.dehydrated,S!==null)){if(g)i.flags&256?(to(i),i.flags&=-257,i=ff(n,i,s)):i.memoizedState!==null?(no(),i.child=n.child,i.flags|=128,i=null):(no(),d=u.fallback,S=i.mode,u=Il({mode:"visible",children:u.children},S),d=zo(d,S,s,null),d.flags|=2,u.return=i,d.return=i,u.sibling=d,i.child=u,Vr(i,n.child,null,s),u=i.child,u.memoizedState=lf(s),u.childLanes=uf(n,C,s),i.memoizedState=sf,i=d);else if(to(i),$f(S)){if(C=S.nextSibling&&S.nextSibling.dataset,C)var P=C.dgst;C=P,u=Error(o(419)),u.stack="",u.digest=C,za({value:u,source:null,stack:null}),i=ff(n,i,s)}else if(It||Ga(n,i,s,!1),C=(s&n.childLanes)!==0,It||C){if(C=at,C!==null&&(u=s&-s,u=(u&42)!==0?1:Ea(u),u=(u&(C.suspendedLanes|s))!==0?0:u,u!==0&&u!==M.retryLane))throw M.retryLane=u,Mr(n,u),gn(C,n,u),Ym;S.data==="$?"||Rf(),i=ff(n,i,s)}else S.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=M.treeContext,_t=On(S.nextSibling),Zt=i,Je=!0,Fo=null,Yn=!1,n!==null&&(Sn[An++]=gi,Sn[An++]=yi,Sn[An++]=Go,gi=n.id,yi=n.overflow,Go=i),i=cf(i,u.children),i.flags|=4096);return i}return d?(no(),d=u.fallback,S=i.mode,M=n.child,P=M.sibling,u=pi(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,P!==null?d=pi(P,d):(d=zo(d,S,s,null),d.flags|=2),d.return=i,u.return=i,u.sibling=d,i.child=u,u=d,d=i.child,S=n.child.memoizedState,S===null?S=lf(s):(M=S.cachePool,M!==null?(P=Rt._currentValue,M=M.parent!==P?{parent:P,pool:P}:M):M=Bh(),S={baseLanes:S.baseLanes|s,cachePool:M}),d.memoizedState=S,d.childLanes=uf(n,C,s),i.memoizedState=sf,u):(to(i),s=n.child,n=s.sibling,s=pi(s,{mode:"visible",children:u.children}),s.return=i,s.sibling=null,n!==null&&(C=i.deletions,C===null?(i.deletions=[n],i.flags|=16):C.push(n)),i.child=s,i.memoizedState=null,s)}function cf(n,i){return i=Il({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Il(n,i){return n=fn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function ff(n,i,s){return Vr(i,n.child,null,s),n=cf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function tp(n,i,s){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),xc(n.return,i,s)}function df(n,i,s,u,d){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:d}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=s,g.tailMode=d)}function np(n,i,s){var u=i.pendingProps,d=u.revealOrder,g=u.tail;if(Vt(n,i,u.children,s),u=Nt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&tp(n,s,i);else if(n.tag===19)tp(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(ne(Nt,u),d){case"forwards":for(s=i.child,d=null;s!==null;)n=s.alternate,n!==null&&xl(n)===null&&(d=s),s=s.sibling;s=d,s===null?(d=i.child,i.child=null):(d=s.sibling,s.sibling=null),df(i,!1,d,s,g);break;case"backwards":for(s=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&xl(n)===null){i.child=d;break}n=d.sibling,d.sibling=s,s=d,d=n}df(i,!0,s,null,g);break;case"together":df(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ei(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),so|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(Ga(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(o(153));if(i.child!==null){for(n=i.child,s=pi(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=pi(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function hf(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&dl(n)))}function I0(n,i,s){switch(i.tag){case 3:it(i,i.stateNode.containerInfo),Qi(i,Rt,n.memoizedState.cache),Ba();break;case 27:case 5:lr(i);break;case 4:it(i,i.stateNode.containerInfo);break;case 10:Qi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(to(i),i.flags|=128,null):(s&i.child.childLanes)!==0?ep(n,i,s):(to(i),n=Ei(n,i,s),n!==null?n.sibling:null);to(i);break;case 19:var d=(n.flags&128)!==0;if(u=(s&i.childLanes)!==0,u||(Ga(n,i,s,!1),u=(s&i.childLanes)!==0),d){if(u)return np(n,i,s);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ne(Nt,Nt.current),u)break;return null;case 22:case 23:return i.lanes=0,Jm(n,i,s);case 24:Qi(i,Rt,n.memoizedState.cache)}return Ei(n,i,s)}function ip(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)It=!0;else{if(!hf(n,s)&&(i.flags&128)===0)return It=!1,I0(n,i,s);It=(n.flags&131072)!==0}else It=!1,Je&&(i.flags&1048576)!==0&&Uh(i,fl,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,d=u._init;if(u=d(u._payload),i.type=u,typeof u=="function")Cc(u)?(n=Qo(u,n),i.tag=1,i=Wm(null,i,u,n,s)):(i.tag=0,i=af(null,i,u,n,s));else{if(u!=null){if(d=u.$$typeof,d===he){i.tag=11,i=$m(null,i,u,n,s);break e}else if(d===ae){i.tag=14,i=Zm(null,i,u,n,s);break e}}throw i=qe(u)||u,Error(o(306,i,""))}}return i;case 0:return af(n,i,i.type,i.pendingProps,s);case 1:return u=i.type,d=Qo(u,i.pendingProps),Wm(n,i,u,d,s);case 3:e:{if(it(i,i.stateNode.containerInfo),n===null)throw Error(o(387));u=i.pendingProps;var g=i.memoizedState;d=g.element,Lc(n,i),Ja(i,u,null,s);var C=i.memoizedState;if(u=C.cache,Qi(i,Rt,u),u!==g.cache&&Rc(i,[Rt],s,!0),Ka(),u=C.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=jm(n,i,u,s);break e}else if(u!==d){d=Cn(Error(o(424)),i),za(d),i=jm(n,i,u,s);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(_t=On(n.firstChild),Zt=i,Je=!0,Fo=null,Yn=!0,s=Lm(i,null,u,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ba(),u===d){i=Ei(n,i,s);break e}Vt(n,i,u,s)}i=i.child}return i;case 26:return Dl(n,i),n===null?(s=sg(i.type,null,i.pendingProps,null))?i.memoizedState=s:Je||(s=i.type,n=i.pendingProps,u=$l(Re.current).createElement(s),u[ht]=i,u[Ot]=n,Bt(u,s,n),vt(u),i.stateNode=u):i.memoizedState=sg(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return lr(i),n===null&&Je&&(u=i.stateNode=og(i.type,i.pendingProps,Re.current),Zt=i,Yn=!0,d=_t,fo(i.type)?(Zf=d,_t=On(u.firstChild)):_t=d),Vt(n,i,i.pendingProps.children,s),Dl(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Je&&((d=u=_t)&&(u=aT(u,i.type,i.pendingProps,Yn),u!==null?(i.stateNode=u,Zt=i,_t=On(u.firstChild),Yn=!1,d=!0):d=!1),d||Yo(i)),lr(i),d=i.type,g=i.pendingProps,C=n!==null?n.memoizedProps:null,u=g.children,Hf(d,g)?u=null:C!==null&&Hf(d,C)&&(i.flags|=32),i.memoizedState!==null&&(d=zc(n,i,A0,null,null,s),ys._currentValue=d),Dl(n,i),Vt(n,i,u,s),i.child;case 6:return n===null&&Je&&((n=s=_t)&&(s=sT(s,i.pendingProps,Yn),s!==null?(i.stateNode=s,Zt=i,_t=null,n=!0):n=!1),n||Yo(i)),null;case 13:return ep(n,i,s);case 4:return it(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=Vr(i,null,u,s):Vt(n,i,u,s),i.child;case 11:return $m(n,i,i.type,i.pendingProps,s);case 7:return Vt(n,i,i.pendingProps,s),i.child;case 8:return Vt(n,i,i.pendingProps.children,s),i.child;case 12:return Vt(n,i,i.pendingProps.children,s),i.child;case 10:return u=i.pendingProps,Qi(i,i.type,u.value),Vt(n,i,u.children,s),i.child;case 9:return d=i.type._context,u=i.pendingProps.children,Zo(i),d=Ft(d),u=u(d),i.flags|=1,Vt(n,i,u,s),i.child;case 14:return Zm(n,i,i.type,i.pendingProps,s);case 15:return Km(n,i,i.type,i.pendingProps,s);case 19:return np(n,i,s);case 31:return u=i.pendingProps,s=i.mode,u={mode:u.mode,children:u.children},n===null?(s=Il(u,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=pi(n.child,u),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Jm(n,i,s);case 24:return Zo(i),u=Ft(Rt),n===null?(d=Ic(),d===null&&(d=at,g=Nc(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=s),d=g),i.memoizedState={parent:u,cache:d},kc(i),Qi(i,Rt,d)):((n.lanes&s)!==0&&(Lc(n,i),Ja(i,null,null,s),Ka()),d=n.memoizedState,g=i.memoizedState,d.parent!==u?(d={parent:u,cache:u},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Qi(i,Rt,u)):(u=g.cache,Qi(i,Rt,u),u!==d.cache&&Rc(i,[Rt],s,!0))),Vt(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function Si(n){n.flags|=4}function op(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!dg(i)){if(i=bn.current,i!==null&&((Ye&4194048)===Ye?$n!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||i!==$n))throw $a=Uc,zh;n.flags|=8192}}function Ul(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?In():536870912,n.lanes|=i,Gr|=i)}function ns(n,i){if(!Je)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function yt(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,u=0;if(i)for(var d=n.child;d!==null;)s|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)s|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=s,i}function U0(n,i,s){var u=i.pendingProps;switch(bc(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(i),null;case 1:return yt(i),null;case 3:return s=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),_i(Rt),Rn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(qa(i)?Si(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Oh())),yt(i),null;case 26:return s=i.memoizedState,n===null?(Si(i),s!==null?(yt(i),op(i,s)):(yt(i),i.flags&=-16777217)):s?s!==n.memoizedState?(Si(i),yt(i),op(i,s)):(yt(i),i.flags&=-16777217):(n.memoizedProps!==u&&Si(i),yt(i),i.flags&=-16777217),null;case 27:ur(i),s=Re.current;var d=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Si(i);else{if(!u){if(i.stateNode===null)throw Error(o(166));return yt(i),null}n=Te.current,qa(i)?kh(i):(n=og(d,u,s),i.stateNode=n,Si(i))}return yt(i),null;case 5:if(ur(i),s=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Si(i);else{if(!u){if(i.stateNode===null)throw Error(o(166));return yt(i),null}if(n=Te.current,qa(i))kh(i);else{switch(d=$l(Re.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?d.createElement(s,{is:u.is}):d.createElement(s)}}n[ht]=i,n[Ot]=u;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=n;e:switch(Bt(n,s,u),s){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Si(i)}}return yt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&Si(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(o(166));if(n=Re.current,qa(i)){if(n=i.stateNode,s=i.memoizedProps,u=null,d=Zt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}n[ht]=i,n=!!(n.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||Xp(n.nodeValue,s)),n||Yo(i)}else n=$l(n).createTextNode(u),n[ht]=i,i.stateNode=n}return yt(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=qa(i),u!==null&&u.dehydrated!==null){if(n===null){if(!d)throw Error(o(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[ht]=i}else Ba(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),d=!1}else d=Oh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Ci(i),i):(Ci(i),null)}if(Ci(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=u!==null,n=n!==null&&n.memoizedState!==null,s){u=i.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return s!==n&&s&&(i.child.flags|=8192),Ul(i,i.updateQueue),yt(i),null;case 4:return Rn(),n===null&&Vf(i.stateNode.containerInfo),yt(i),null;case 10:return _i(i.type),yt(i),null;case 19:if(oe(Nt),d=i.memoizedState,d===null)return yt(i),null;if(u=(i.flags&128)!==0,g=d.rendering,g===null)if(u)ns(d,!1);else{if(Tt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(g=xl(n),g!==null){for(i.flags|=128,ns(d,!1),n=g.updateQueue,i.updateQueue=n,Ul(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)Ih(s,n),s=s.sibling;return ne(Nt,Nt.current&1|2),i.child}n=n.sibling}d.tail!==null&&Xt()>Ol&&(i.flags|=128,u=!0,ns(d,!1),i.lanes=4194304)}else{if(!u)if(n=xl(g),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Ul(i,n),ns(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Je)return yt(i),null}else 2*Xt()-d.renderingStartTime>Ol&&s!==536870912&&(i.flags|=128,u=!0,ns(d,!1),i.lanes=4194304);d.isBackwards?(g.sibling=i.child,i.child=g):(n=d.last,n!==null?n.sibling=g:i.child=g,d.last=g)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Xt(),i.sibling=null,n=Nt.current,ne(Nt,u?n&1|2:n&1),i):(yt(i),null);case 22:case 23:return Ci(i),qc(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(s&536870912)!==0&&(i.flags&128)===0&&(yt(i),i.subtreeFlags&6&&(i.flags|=8192)):yt(i),s=i.updateQueue,s!==null&&Ul(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048),n!==null&&oe(Ko),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),_i(Rt),yt(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function k0(n,i){switch(bc(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return _i(Rt),Rn(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return ur(i),null;case 13:if(Ci(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(o(340));Ba()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return oe(Nt),null;case 4:return Rn(),null;case 10:return _i(i.type),null;case 22:case 23:return Ci(i),qc(),n!==null&&oe(Ko),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return _i(Rt),null;case 25:return null;default:return null}}function rp(n,i){switch(bc(i),i.tag){case 3:_i(Rt),Rn();break;case 26:case 27:case 5:ur(i);break;case 4:Rn();break;case 13:Ci(i);break;case 19:oe(Nt);break;case 10:_i(i.type);break;case 22:case 23:Ci(i),qc(),n!==null&&oe(Ko);break;case 24:_i(Rt)}}function is(n,i){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var d=u.next;s=d;do{if((s.tag&n)===n){u=void 0;var g=s.create,C=s.inst;u=g(),C.destroy=u}s=s.next}while(s!==d)}}catch(S){ot(i,i.return,S)}}function io(n,i,s){try{var u=i.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&n)===n){var C=u.inst,S=C.destroy;if(S!==void 0){C.destroy=void 0,d=i;var M=s,P=S;try{P()}catch(G){ot(d,M,G)}}}u=u.next}while(u!==g)}}catch(G){ot(i,i.return,G)}}function ap(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{Zh(i,s)}catch(u){ot(n,n.return,u)}}}function sp(n,i,s){s.props=Qo(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(u){ot(n,i,u)}}function os(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof s=="function"?n.refCleanup=s(u):s.current=u}}catch(d){ot(n,i,d)}}function Zn(n,i){var s=n.ref,u=n.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(d){ot(n,i,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){ot(n,i,d)}else s.current=null}function lp(n){var i=n.type,s=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(d){ot(n,n.return,d)}}function mf(n,i,s){try{var u=n.stateNode;tT(u,n.type,s,i),u[Ot]=i}catch(d){ot(n,n.return,d)}}function up(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&fo(n.type)||n.tag===4}function pf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||up(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&fo(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function gf(n,i,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Yl));else if(u!==4&&(u===27&&fo(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for(gf(n,i,s),n=n.sibling;n!==null;)gf(n,i,s),n=n.sibling}function kl(n,i,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(u!==4&&(u===27&&fo(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(kl(n,i,s),n=n.sibling;n!==null;)kl(n,i,s),n=n.sibling}function cp(n){var i=n.stateNode,s=n.memoizedProps;try{for(var u=n.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Bt(i,u,s),i[ht]=n,i[Ot]=s}catch(g){ot(n,n.return,g)}}var Ai=!1,At=!1,yf=!1,fp=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function L0(n,i){if(n=n.containerInfo,zf=Wl,n=Eh(n),mc(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var C=0,S=-1,M=-1,P=0,G=0,Z=n,V=null;t:for(;;){for(var q;Z!==s||d!==0&&Z.nodeType!==3||(S=C+d),Z!==g||u!==0&&Z.nodeType!==3||(M=C+u),Z.nodeType===3&&(C+=Z.nodeValue.length),(q=Z.firstChild)!==null;)V=Z,Z=q;for(;;){if(Z===n)break t;if(V===s&&++P===d&&(S=C),V===g&&++G===u&&(M=C),(q=Z.nextSibling)!==null)break;Z=V,V=Z.parentNode}Z=q}s=S===-1||M===-1?null:{start:S,end:M}}else s=null}s=s||{start:0,end:0}}else s=null;for(Gf={focusedElem:n,selectionRange:s},Wl=!1,Ut=i;Ut!==null;)if(i=Ut,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Ut=n;else for(;Ut!==null;){switch(i=Ut,g=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,s=i,d=g.memoizedProps,g=g.memoizedState,u=s.stateNode;try{var we=Qo(s.type,d,s.elementType===s.type);n=u.getSnapshotBeforeUpdate(we,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(Se){ot(s,s.return,Se)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)Yf(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Yf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=i.sibling,n!==null){n.return=i.return,Ut=n;break}Ut=i.return}}function dp(n,i,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:oo(n,s),u&4&&is(5,s);break;case 1:if(oo(n,s),u&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(C){ot(s,s.return,C)}else{var d=Qo(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(d,i,n.__reactInternalSnapshotBeforeUpdate)}catch(C){ot(s,s.return,C)}}u&64&&ap(s),u&512&&os(s,s.return);break;case 3:if(oo(n,s),u&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Zh(n,i)}catch(C){ot(s,s.return,C)}}break;case 27:i===null&&u&4&&cp(s);case 26:case 5:oo(n,s),i===null&&u&4&&lp(s),u&512&&os(s,s.return);break;case 12:oo(n,s);break;case 13:oo(n,s),u&4&&pp(n,s),u&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=F0.bind(null,s),lT(n,s))));break;case 22:if(u=s.memoizedState!==null||Ai,!u){i=i!==null&&i.memoizedState!==null||At,d=Ai;var g=At;Ai=u,(At=i)&&!g?ro(n,s,(s.subtreeFlags&8772)!==0):oo(n,s),Ai=d,At=g}break;case 30:break;default:oo(n,s)}}function hp(n){var i=n.alternate;i!==null&&(n.alternate=null,hp(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&xt(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pt=null,rn=!1;function bi(n,i,s){for(s=s.child;s!==null;)mp(n,i,s),s=s.sibling}function mp(n,i,s){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Nn,s)}catch{}switch(s.tag){case 26:At||Zn(s,i),bi(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:At||Zn(s,i);var u=pt,d=rn;fo(s.type)&&(pt=s.stateNode,rn=!1),bi(n,i,s),hs(s.stateNode),pt=u,rn=d;break;case 5:At||Zn(s,i);case 6:if(u=pt,d=rn,pt=null,bi(n,i,s),pt=u,rn=d,pt!==null)if(rn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(s.stateNode)}catch(g){ot(s,i,g)}else try{pt.removeChild(s.stateNode)}catch(g){ot(s,i,g)}break;case 18:pt!==null&&(rn?(n=pt,ng(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),Cs(n)):ng(pt,s.stateNode));break;case 4:u=pt,d=rn,pt=s.stateNode.containerInfo,rn=!0,bi(n,i,s),pt=u,rn=d;break;case 0:case 11:case 14:case 15:At||io(2,s,i),At||io(4,s,i),bi(n,i,s);break;case 1:At||(Zn(s,i),u=s.stateNode,typeof u.componentWillUnmount=="function"&&sp(s,i,u)),bi(n,i,s);break;case 21:bi(n,i,s);break;case 22:At=(u=At)||s.memoizedState!==null,bi(n,i,s),At=u;break;default:bi(n,i,s)}}function pp(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Cs(n)}catch(s){ot(i,i.return,s)}}function O0(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new fp),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new fp),i;default:throw Error(o(435,n.tag))}}function vf(n,i){var s=O0(n);i.forEach(function(u){var d=Y0.bind(null,n,u);s.has(u)||(s.add(u),u.then(d,d))})}function dn(n,i){var s=i.deletions;if(s!==null)for(var u=0;u<s.length;u++){var d=s[u],g=n,C=i,S=C;e:for(;S!==null;){switch(S.tag){case 27:if(fo(S.type)){pt=S.stateNode,rn=!1;break e}break;case 5:pt=S.stateNode,rn=!1;break e;case 3:case 4:pt=S.stateNode.containerInfo,rn=!0;break e}S=S.return}if(pt===null)throw Error(o(160));mp(g,C,d),pt=null,rn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)gp(i,n),i=i.sibling}var Ln=null;function gp(n,i){var s=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:dn(i,n),hn(n),u&4&&(io(3,n,n.return),is(3,n),io(5,n,n.return));break;case 1:dn(i,n),hn(n),u&512&&(At||s===null||Zn(s,s.return)),u&64&&Ai&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var d=Ln;if(dn(i,n),hn(n),u&512&&(At||s===null||Zn(s,s.return)),u&4){var g=s!==null?s.memoizedState:null;if(u=n.memoizedState,s===null)if(u===null)if(n.stateNode===null){e:{u=n.type,s=n.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[zn]||g[ht]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Bt(g,u,s),g[ht]=n,vt(g),u=g;break e;case"link":var C=cg("link","href",d).get(u+(s.href||""));if(C){for(var S=0;S<C.length;S++)if(g=C[S],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){C.splice(S,1);break t}}g=d.createElement(u),Bt(g,u,s),d.head.appendChild(g);break;case"meta":if(C=cg("meta","content",d).get(u+(s.content||""))){for(S=0;S<C.length;S++)if(g=C[S],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){C.splice(S,1);break t}}g=d.createElement(u),Bt(g,u,s),d.head.appendChild(g);break;default:throw Error(o(468,u))}g[ht]=n,vt(g),u=g}n.stateNode=u}else fg(d,n.type,n.stateNode);else n.stateNode=ug(d,u,n.memoizedProps);else g!==u?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,u===null?fg(d,n.type,n.stateNode):ug(d,u,n.memoizedProps)):u===null&&n.stateNode!==null&&mf(n,n.memoizedProps,s.memoizedProps)}break;case 27:dn(i,n),hn(n),u&512&&(At||s===null||Zn(s,s.return)),s!==null&&u&4&&mf(n,n.memoizedProps,s.memoizedProps);break;case 5:if(dn(i,n),hn(n),u&512&&(At||s===null||Zn(s,s.return)),n.flags&32){d=n.stateNode;try{Fn(d,"")}catch(q){ot(n,n.return,q)}}u&4&&n.stateNode!=null&&(d=n.memoizedProps,mf(n,d,s!==null?s.memoizedProps:d)),u&1024&&(yf=!0);break;case 6:if(dn(i,n),hn(n),u&4){if(n.stateNode===null)throw Error(o(162));u=n.memoizedProps,s=n.stateNode;try{s.nodeValue=u}catch(q){ot(n,n.return,q)}}break;case 3:if(Jl=null,d=Ln,Ln=Zl(i.containerInfo),dn(i,n),Ln=d,hn(n),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Cs(i.containerInfo)}catch(q){ot(n,n.return,q)}yf&&(yf=!1,yp(n));break;case 4:u=Ln,Ln=Zl(n.stateNode.containerInfo),dn(i,n),hn(n),Ln=u;break;case 12:dn(i,n),hn(n);break;case 13:dn(i,n),hn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Af=Xt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,vf(n,u)));break;case 22:d=n.memoizedState!==null;var M=s!==null&&s.memoizedState!==null,P=Ai,G=At;if(Ai=P||d,At=G||M,dn(i,n),At=G,Ai=P,hn(n),u&8192)e:for(i=n.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(s===null||M||Ai||At||Xo(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){M=s=i;try{if(g=M.stateNode,d)C=g.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{S=M.stateNode;var Z=M.memoizedProps.style,V=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(q){ot(M,M.return,q)}}}else if(i.tag===6){if(s===null){M=i;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(q){ot(M,M.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,vf(n,s))));break;case 19:dn(i,n),hn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,vf(n,u)));break;case 30:break;case 21:break;default:dn(i,n),hn(n)}}function hn(n){var i=n.flags;if(i&2){try{for(var s,u=n.return;u!==null;){if(up(u)){s=u;break}u=u.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var d=s.stateNode,g=pf(n);kl(n,g,d);break;case 5:var C=s.stateNode;s.flags&32&&(Fn(C,""),s.flags&=-33);var S=pf(n);kl(n,S,C);break;case 3:case 4:var M=s.stateNode.containerInfo,P=pf(n);gf(n,P,M);break;default:throw Error(o(161))}}catch(G){ot(n,n.return,G)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function yp(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;yp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function oo(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)dp(n,i.alternate,i),i=i.sibling}function Xo(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:io(4,i,i.return),Xo(i);break;case 1:Zn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&sp(i,i.return,s),Xo(i);break;case 27:hs(i.stateNode);case 26:case 5:Zn(i,i.return),Xo(i);break;case 22:i.memoizedState===null&&Xo(i);break;case 30:Xo(i);break;default:Xo(i)}n=n.sibling}}function ro(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,d=n,g=i,C=g.flags;switch(g.tag){case 0:case 11:case 15:ro(d,g,s),is(4,g);break;case 1:if(ro(d,g,s),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(P){ot(u,u.return,P)}if(u=g,d=u.updateQueue,d!==null){var S=u.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)$h(M[d],S)}catch(P){ot(u,u.return,P)}}s&&C&64&&ap(g),os(g,g.return);break;case 27:cp(g);case 26:case 5:ro(d,g,s),s&&u===null&&C&4&&lp(g),os(g,g.return);break;case 12:ro(d,g,s);break;case 13:ro(d,g,s),s&&C&4&&pp(d,g);break;case 22:g.memoizedState===null&&ro(d,g,s),os(g,g.return);break;case 30:break;default:ro(d,g,s)}i=i.sibling}}function _f(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Ha(s))}function Tf(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ha(n))}function Kn(n,i,s,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)vp(n,i,s,u),i=i.sibling}function vp(n,i,s,u){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Kn(n,i,s,u),d&2048&&is(9,i);break;case 1:Kn(n,i,s,u);break;case 3:Kn(n,i,s,u),d&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ha(n)));break;case 12:if(d&2048){Kn(n,i,s,u),n=i.stateNode;try{var g=i.memoizedProps,C=g.id,S=g.onPostCommit;typeof S=="function"&&S(C,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){ot(i,i.return,M)}}else Kn(n,i,s,u);break;case 13:Kn(n,i,s,u);break;case 23:break;case 22:g=i.stateNode,C=i.alternate,i.memoizedState!==null?g._visibility&2?Kn(n,i,s,u):rs(n,i):g._visibility&2?Kn(n,i,s,u):(g._visibility|=2,qr(n,i,s,u,(i.subtreeFlags&10256)!==0)),d&2048&&_f(C,i);break;case 24:Kn(n,i,s,u),d&2048&&Tf(i.alternate,i);break;default:Kn(n,i,s,u)}}function qr(n,i,s,u,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=n,C=i,S=s,M=u,P=C.flags;switch(C.tag){case 0:case 11:case 15:qr(g,C,S,M,d),is(8,C);break;case 23:break;case 22:var G=C.stateNode;C.memoizedState!==null?G._visibility&2?qr(g,C,S,M,d):rs(g,C):(G._visibility|=2,qr(g,C,S,M,d)),d&&P&2048&&_f(C.alternate,C);break;case 24:qr(g,C,S,M,d),d&&P&2048&&Tf(C.alternate,C);break;default:qr(g,C,S,M,d)}i=i.sibling}}function rs(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,u=i,d=u.flags;switch(u.tag){case 22:rs(s,u),d&2048&&_f(u.alternate,u);break;case 24:rs(s,u),d&2048&&Tf(u.alternate,u);break;default:rs(s,u)}i=i.sibling}}var as=8192;function Br(n){if(n.subtreeFlags&as)for(n=n.child;n!==null;)_p(n),n=n.sibling}function _p(n){switch(n.tag){case 26:Br(n),n.flags&as&&n.memoizedState!==null&&CT(Ln,n.memoizedState,n.memoizedProps);break;case 5:Br(n);break;case 3:case 4:var i=Ln;Ln=Zl(n.stateNode.containerInfo),Br(n),Ln=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=as,as=16777216,Br(n),as=i):Br(n));break;default:Br(n)}}function Tp(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function ss(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];Ut=u,Ep(u,n)}Tp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cp(n),n=n.sibling}function Cp(n){switch(n.tag){case 0:case 11:case 15:ss(n),n.flags&2048&&io(9,n,n.return);break;case 3:ss(n);break;case 12:ss(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Ll(n)):ss(n);break;default:ss(n)}}function Ll(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];Ut=u,Ep(u,n)}Tp(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:io(8,i,i.return),Ll(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Ll(i));break;default:Ll(i)}n=n.sibling}}function Ep(n,i){for(;Ut!==null;){var s=Ut;switch(s.tag){case 0:case 11:case 15:io(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ha(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Ut=u;else e:for(s=n;Ut!==null;){u=Ut;var d=u.sibling,g=u.return;if(hp(u),u===s){Ut=null;break e}if(d!==null){d.return=g,Ut=d;break e}Ut=g}}}var P0={getCacheForType:function(n){var i=Ft(Rt),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s}},V0=typeof WeakMap=="function"?WeakMap:Map,Xe=0,at=null,ze=null,Ye=0,We=0,mn=null,ao=!1,zr=!1,Cf=!1,wi=0,Tt=0,so=0,Wo=0,Ef=0,wn=0,Gr=0,ls=null,an=null,Sf=!1,Af=0,Ol=1/0,Pl=null,lo=null,qt=0,uo=null,Hr=null,Fr=0,bf=0,wf=null,Sp=null,us=0,Mf=null;function pn(){if((Xe&2)!==0&&Ye!==0)return Ye&-Ye;if(z.T!==null){var n=Dr;return n!==0?n:kf()}return hr()}function Ap(){wn===0&&(wn=(Ye&536870912)===0||Je?Ys():536870912);var n=bn.current;return n!==null&&(n.flags|=32),wn}function gn(n,i,s){(n===at&&(We===2||We===9)||n.cancelPendingCommit!==null)&&(Yr(n,0),co(n,Ye,wn,!1)),Vi(n,s),((Xe&2)===0||n!==at)&&(n===at&&((Xe&2)===0&&(Wo|=s),Tt===4&&co(n,Ye,wn,!1)),Jn(n))}function bp(n,i,s){if((Xe&6)!==0)throw Error(o(327));var u=!s&&(i&124)===0&&(i&n.expiredLanes)===0||Oi(n,i),d=u?z0(n,i):Nf(n,i,!0),g=u;do{if(d===0){zr&&!u&&co(n,i,0,!1);break}else{if(s=n.current.alternate,g&&!q0(s)){d=Nf(n,i,!1),g=!1;continue}if(d===2){if(g=i,n.errorRecoveryDisabledLanes&g)var C=0;else C=n.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var S=n;d=ls;var M=S.current.memoizedState.isDehydrated;if(M&&(Yr(S,C).flags|=256),C=Nf(S,C,!1),C!==2){if(Cf&&!M){S.errorRecoveryDisabledLanes|=g,Wo|=g,d=4;break e}g=an,an=d,g!==null&&(an===null?an=g:an.push.apply(an,g))}d=C}if(g=!1,d!==2)continue}}if(d===1){Yr(n,0),co(n,i,0,!0);break}e:{switch(u=n,g=d,g){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:co(u,i,wn,!ao);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(d=Af+300-Xt(),10<d)){if(co(u,i,wn,!ao),Li(u,0,!0)!==0)break e;u.timeoutHandle=eg(wp.bind(null,u,s,an,Pl,Sf,i,wn,Wo,Gr,ao,g,2,-0,0),d);break e}wp(u,s,an,Pl,Sf,i,wn,Wo,Gr,ao,g,0,-0,0)}}break}while(!0);Jn(n)}function wp(n,i,s,u,d,g,C,S,M,P,G,Z,V,q){if(n.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(gs={stylesheets:null,count:0,unsuspend:TT},_p(i),Z=ET(),Z!==null)){n.cancelPendingCommit=Z(Up.bind(null,n,i,g,s,u,d,C,S,M,G,1,V,q)),co(n,g,C,!P);return}Up(n,i,g,s,u,d,C,S,M)}function q0(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var d=s[u],g=d.getSnapshot;d=d.value;try{if(!cn(g(),d))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function co(n,i,s,u){i&=~Ef,i&=~Wo,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var d=i;0<d;){var g=31-zt(d),C=1<<g;u[g]=-1,d&=~C}s!==0&&te(n,s,i)}function Vl(){return(Xe&6)===0?(cs(0),!1):!0}function xf(){if(ze!==null){if(We===0)var n=ze.return;else n=ze,vi=$o=null,Fc(n),Pr=null,es=0,n=ze;for(;n!==null;)rp(n.alternate,n),n=n.return;ze=null}}function Yr(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,iT(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),xf(),at=n,ze=s=pi(n.current,null),Ye=i,We=0,mn=null,ao=!1,zr=Oi(n,i),Cf=!1,Gr=wn=Ef=Wo=so=Tt=0,an=ls=null,Sf=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var d=31-zt(u),g=1<<d;i|=n[d],u&=~g}return wi=i,al(),s}function Mp(n,i){Pe=null,z.H=bl,i===Ya||i===pl?(i=Fh(),We=3):i===zh?(i=Fh(),We=4):We=i===Ym?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,ze===null&&(Tt=1,Nl(n,Cn(i,n.current)))}function xp(){var n=z.H;return z.H=bl,n===null?bl:n}function Rp(){var n=z.A;return z.A=P0,n}function Rf(){Tt=4,ao||(Ye&4194048)!==Ye&&bn.current!==null||(zr=!0),(so&134217727)===0&&(Wo&134217727)===0||at===null||co(at,Ye,wn,!1)}function Nf(n,i,s){var u=Xe;Xe|=2;var d=xp(),g=Rp();(at!==n||Ye!==i)&&(Pl=null,Yr(n,i)),i=!1;var C=Tt;e:do try{if(We!==0&&ze!==null){var S=ze,M=mn;switch(We){case 8:xf(),C=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var P=We;if(We=0,mn=null,$r(n,S,M,P),s&&zr){C=0;break e}break;default:P=We,We=0,mn=null,$r(n,S,M,P)}}B0(),C=Tt;break}catch(G){Mp(n,G)}while(!0);return i&&n.shellSuspendCounter++,vi=$o=null,Xe=u,z.H=d,z.A=g,ze===null&&(at=null,Ye=0,al()),C}function B0(){for(;ze!==null;)Np(ze)}function z0(n,i){var s=Xe;Xe|=2;var u=xp(),d=Rp();at!==n||Ye!==i?(Pl=null,Ol=Xt()+500,Yr(n,i)):zr=Oi(n,i);e:do try{if(We!==0&&ze!==null){i=ze;var g=mn;t:switch(We){case 1:We=0,mn=null,$r(n,i,g,1);break;case 2:case 9:if(Gh(g)){We=0,mn=null,Dp(i);break}i=function(){We!==2&&We!==9||at!==n||(We=7),Jn(n)},g.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Gh(g)?(We=0,mn=null,Dp(i)):(We=0,mn=null,$r(n,i,g,7));break;case 5:var C=null;switch(ze.tag){case 26:C=ze.memoizedState;case 5:case 27:var S=ze;if(!C||dg(C)){We=0,mn=null;var M=S.sibling;if(M!==null)ze=M;else{var P=S.return;P!==null?(ze=P,ql(P)):ze=null}break t}}We=0,mn=null,$r(n,i,g,5);break;case 6:We=0,mn=null,$r(n,i,g,6);break;case 8:xf(),Tt=6;break e;default:throw Error(o(462))}}G0();break}catch(G){Mp(n,G)}while(!0);return vi=$o=null,z.H=u,z.A=d,Xe=s,ze!==null?0:(at=null,Ye=0,al(),Tt)}function G0(){for(;ze!==null&&!Gs();)Np(ze)}function Np(n){var i=ip(n.alternate,n,wi);n.memoizedProps=n.pendingProps,i===null?ql(n):ze=i}function Dp(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=Xm(s,i,i.pendingProps,i.type,void 0,Ye);break;case 11:i=Xm(s,i,i.pendingProps,i.type.render,i.ref,Ye);break;case 5:Fc(i);default:rp(s,i),i=ze=Ih(i,wi),i=ip(s,i,wi)}n.memoizedProps=n.pendingProps,i===null?ql(n):ze=i}function $r(n,i,s,u){vi=$o=null,Fc(i),Pr=null,es=0;var d=i.return;try{if(D0(n,d,i,s,Ye)){Tt=1,Nl(n,Cn(s,n.current)),ze=null;return}}catch(g){if(d!==null)throw ze=d,g;Tt=1,Nl(n,Cn(s,n.current)),ze=null;return}i.flags&32768?(Je||u===1?n=!0:zr||(Ye&536870912)!==0?n=!1:(ao=n=!0,(u===2||u===9||u===3||u===6)&&(u=bn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ip(i,n)):ql(i)}function ql(n){var i=n;do{if((i.flags&32768)!==0){Ip(i,ao);return}n=i.return;var s=U0(i.alternate,i,wi);if(s!==null){ze=s;return}if(i=i.sibling,i!==null){ze=i;return}ze=i=n}while(i!==null);Tt===0&&(Tt=5)}function Ip(n,i){do{var s=k0(n.alternate,n);if(s!==null){s.flags&=32767,ze=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){ze=n;return}ze=n=s}while(n!==null);Tt=6,ze=null}function Up(n,i,s,u,d,g,C,S,M){n.cancelPendingCommit=null;do Bl();while(qt!==0);if((Xe&6)!==0)throw Error(o(327));if(i!==null){if(i===n.current)throw Error(o(177));if(g=i.lanes|i.childLanes,g|=_c,$s(n,s,g,C,S,M),n===at&&(ze=at=null,Ye=0),Hr=i,uo=n,Fr=s,bf=g,wf=d,Sp=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,$0(oi,function(){return Vp(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=z.T,z.T=null,d=ie.p,ie.p=2,C=Xe,Xe|=4;try{L0(n,i,s)}finally{Xe=C,ie.p=d,z.T=u}}qt=1,kp(),Lp(),Op()}}function kp(){if(qt===1){qt=0;var n=uo,i=Hr,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var u=ie.p;ie.p=2;var d=Xe;Xe|=4;try{gp(i,n);var g=Gf,C=Eh(n.containerInfo),S=g.focusedElem,M=g.selectionRange;if(C!==S&&S&&S.ownerDocument&&Ch(S.ownerDocument.documentElement,S)){if(M!==null&&mc(S)){var P=M.start,G=M.end;if(G===void 0&&(G=P),"selectionStart"in S)S.selectionStart=P,S.selectionEnd=Math.min(G,S.value.length);else{var Z=S.ownerDocument||document,V=Z&&Z.defaultView||window;if(V.getSelection){var q=V.getSelection(),we=S.textContent.length,Se=Math.min(M.start,we),nt=M.end===void 0?Se:Math.min(M.end,we);!q.extend&&Se>nt&&(C=nt,nt=Se,Se=C);var I=Th(S,Se),N=Th(S,nt);if(I&&N&&(q.rangeCount!==1||q.anchorNode!==I.node||q.anchorOffset!==I.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var O=Z.createRange();O.setStart(I.node,I.offset),q.removeAllRanges(),Se>nt?(q.addRange(O),q.extend(N.node,N.offset)):(O.setEnd(N.node,N.offset),q.addRange(O))}}}}for(Z=[],q=S;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var F=Z[S];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Wl=!!zf,Gf=zf=null}finally{Xe=d,ie.p=u,z.T=s}}n.current=i,qt=2}}function Lp(){if(qt===2){qt=0;var n=uo,i=Hr,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var u=ie.p;ie.p=2;var d=Xe;Xe|=4;try{dp(n,i.alternate,i)}finally{Xe=d,ie.p=u,z.T=s}}qt=3}}function Op(){if(qt===4||qt===3){qt=0,dt();var n=uo,i=Hr,s=Fr,u=Sp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?qt=5:(qt=0,Hr=uo=null,Pp(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(lo=null),Gt(s),i=i.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Nn,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=z.T,d=ie.p,ie.p=2,z.T=null;try{for(var g=n.onRecoverableError,C=0;C<u.length;C++){var S=u[C];g(S.value,{componentStack:S.stack})}}finally{z.T=i,ie.p=d}}(Fr&3)!==0&&Bl(),Jn(n),d=n.pendingLanes,(s&4194090)!==0&&(d&42)!==0?n===Mf?us++:(us=0,Mf=n):us=0,cs(0)}}function Pp(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Ha(i)))}function Bl(n){return kp(),Lp(),Op(),Vp()}function Vp(){if(qt!==5)return!1;var n=uo,i=bf;bf=0;var s=Gt(Fr),u=z.T,d=ie.p;try{ie.p=32>s?32:s,z.T=null,s=wf,wf=null;var g=uo,C=Fr;if(qt=0,Hr=uo=null,Fr=0,(Xe&6)!==0)throw Error(o(331));var S=Xe;if(Xe|=4,Cp(g.current),vp(g,g.current,C,s),Xe=S,cs(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Nn,g)}catch{}return!0}finally{ie.p=d,z.T=u,Pp(n,i)}}function qp(n,i,s){i=Cn(s,i),i=rf(n.stateNode,i,2),n=ji(n,i,2),n!==null&&(Vi(n,2),Jn(n))}function ot(n,i,s){if(n.tag===3)qp(n,n,s);else for(;i!==null;){if(i.tag===3){qp(i,n,s);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(lo===null||!lo.has(u))){n=Cn(s,n),s=Hm(2),u=ji(i,s,2),u!==null&&(Fm(s,u,i,n),Vi(u,2),Jn(u));break}}i=i.return}}function Df(n,i,s){var u=n.pingCache;if(u===null){u=n.pingCache=new V0;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(s)||(Cf=!0,d.add(s),n=H0.bind(null,n,i,s),i.then(n,n))}function H0(n,i,s){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,at===n&&(Ye&s)===s&&(Tt===4||Tt===3&&(Ye&62914560)===Ye&&300>Xt()-Af?(Xe&2)===0&&Yr(n,0):Ef|=s,Gr===Ye&&(Gr=0)),Jn(n)}function Bp(n,i){i===0&&(i=In()),n=Mr(n,i),n!==null&&(Vi(n,i),Jn(n))}function F0(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),Bp(n,s)}function Y0(n,i){var s=0;switch(n.tag){case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(s=d.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(i),Bp(n,s)}function $0(n,i){return Io(n,i)}var zl=null,Zr=null,If=!1,Gl=!1,Uf=!1,jo=0;function Jn(n){n!==Zr&&n.next===null&&(Zr===null?zl=Zr=n:Zr=Zr.next=n),Gl=!0,If||(If=!0,K0())}function cs(n,i){if(!Uf&&Gl){Uf=!0;do for(var s=!1,u=zl;u!==null;){if(n!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var C=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-zt(42|n)+1)-1,g&=d&~(C&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,Fp(u,g))}else g=Ye,g=Li(u,u===at?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Oi(u,g)||(s=!0,Fp(u,g));u=u.next}while(s);Uf=!1}}function Z0(){zp()}function zp(){Gl=If=!1;var n=0;jo!==0&&(nT()&&(n=jo),jo=0);for(var i=Xt(),s=null,u=zl;u!==null;){var d=u.next,g=Gp(u,i);g===0?(u.next=null,s===null?zl=d:s.next=d,d===null&&(Zr=s)):(s=u,(n!==0||(g&3)!==0)&&(Gl=!0)),u=d}cs(n)}function Gp(n,i){for(var s=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var C=31-zt(g),S=1<<C,M=d[C];M===-1?((S&s)===0||(S&u)!==0)&&(d[C]=Pi(S,i)):M<=i&&(n.expiredLanes|=S),g&=~S}if(i=at,s=Ye,s=Li(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,s===0||n===i&&(We===2||We===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&ii(u),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Oi(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(u!==null&&ii(u),Gt(s)){case 2:case 8:s=_a;break;case 32:s=oi;break;case 268435456:s=Ta;break;default:s=oi}return u=Hp.bind(null,n),s=Io(s,u),n.callbackPriority=i,n.callbackNode=s,i}return u!==null&&u!==null&&ii(u),n.callbackPriority=2,n.callbackNode=null,2}function Hp(n,i){if(qt!==0&&qt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Bl()&&n.callbackNode!==s)return null;var u=Ye;return u=Li(n,n===at?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(bp(n,u,i),Gp(n,Xt()),n.callbackNode!=null&&n.callbackNode===s?Hp.bind(null,n):null)}function Fp(n,i){if(Bl())return null;bp(n,i,!0)}function K0(){oT(function(){(Xe&6)!==0?Io(cr,Z0):zp()})}function kf(){return jo===0&&(jo=Ys()),jo}function Yp(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:en(""+n)}function $p(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function J0(n,i,s,u,d){if(i==="submit"&&s&&s.stateNode===d){var g=Yp((d[Ot]||null).action),C=u.submitter;C&&(i=(i=C[Ot]||null)?Yp(i.formAction):C.getAttribute("formAction"),i!==null&&(g=i,C=null));var S=new ke("action","action",null,u,d);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(jo!==0){var M=C?$p(d,C):new FormData(d);jc(s,{pending:!0,data:M,method:d.method,action:g},null,M)}}else typeof g=="function"&&(S.preventDefault(),M=C?$p(d,C):new FormData(d),jc(s,{pending:!0,data:M,method:d.method,action:g},g,M))},currentTarget:d}]})}}for(var Lf=0;Lf<vc.length;Lf++){var Of=vc[Lf],Q0=Of.toLowerCase(),X0=Of[0].toUpperCase()+Of.slice(1);kn(Q0,"on"+X0)}kn(bh,"onAnimationEnd"),kn(wh,"onAnimationIteration"),kn(Mh,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(m0,"onTransitionRun"),kn(p0,"onTransitionStart"),kn(g0,"onTransitionCancel"),kn(xh,"onTransitionEnd"),Pt("onMouseEnter",["mouseout","mouseover"]),Pt("onMouseLeave",["mouseout","mouseover"]),Pt("onPointerEnter",["pointerout","pointerover"]),Pt("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fs));function Zp(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var u=n[s],d=u.event;u=u.listeners;e:{var g=void 0;if(i)for(var C=u.length-1;0<=C;C--){var S=u[C],M=S.instance,P=S.currentTarget;if(S=S.listener,M!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=P;try{g(d)}catch(G){Rl(G)}d.currentTarget=null,g=M}else for(C=0;C<u.length;C++){if(S=u[C],M=S.instance,P=S.currentTarget,S=S.listener,M!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=P;try{g(d)}catch(G){Rl(G)}d.currentTarget=null,g=M}}}}function Ge(n,i){var s=i[mr];s===void 0&&(s=i[mr]=new Set);var u=n+"__bubble";s.has(u)||(Kp(i,n,2,!1),s.add(u))}function Pf(n,i,s){var u=0;i&&(u|=4),Kp(s,n,u,i)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function Vf(n){if(!n[Hl]){n[Hl]=!0,ba.forEach(function(s){s!=="selectionchange"&&(W0.has(s)||Pf(s,!1,n),Pf(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Hl]||(i[Hl]=!0,Pf("selectionchange",!1,i))}}function Kp(n,i,s,u){switch(vg(i)){case 2:var d=bT;break;case 8:d=wT;break;default:d=Wf}s=d.bind(null,i,s,n),d=void 0,!_n||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(i,s,{capture:!0,passive:d}):n.addEventListener(i,s,!0):d!==void 0?n.addEventListener(i,s,{passive:d}):n.addEventListener(i,s,!1)}function qf(n,i,s,u,d){var g=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var C=u.tag;if(C===3||C===4){var S=u.stateNode.containerInfo;if(S===d)break;if(C===4)for(C=u.return;C!==null;){var M=C.tag;if((M===3||M===4)&&C.stateNode.containerInfo===d)return;C=C.return}for(;S!==null;){if(C=ri(S),C===null)return;if(M=C.tag,M===5||M===6||M===26||M===27){u=g=C;continue e}S=S.parentNode}}u=u.return}Ia(function(){var P=g,G=hi(s),Z=[];e:{var V=Rh.get(n);if(V!==void 0){var q=ke,we=n;switch(n){case"keypress":if(A(s)===0)break e;case"keydown":case"keyup":q=nc;break;case"focusin":we="focus",q=Ua;break;case"focusout":we="blur",q=Ua;break;case"beforeblur":case"afterblur":q=Ua;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=oc;break;case bh:case wh:case Mh:q=Zu;break;case xh:q=ac;break;case"scroll":case"scrollend":q=mt;break;case"wheel":q=il;break;case"copy":case"cut":case"paste":q=Ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=nl;break;case"toggle":case"beforetoggle":q=uc}var Se=(i&4)!==0,nt=!Se&&(n==="scroll"||n==="scrollend"),I=Se?V!==null?V+"Capture":null:V;Se=[];for(var N=P,O;N!==null;){var F=N;if(O=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||O===null||I===null||(F=Zi(N,I),F!=null&&Se.push(ds(N,F,O))),nt)break;N=N.return}0<Se.length&&(V=new q(V,we,null,s,G),Z.push({event:V,listeners:Se}))}}if((i&7)===0){e:{if(V=n==="mouseover"||n==="pointerover",q=n==="mouseout"||n==="pointerout",V&&s!==vn&&(we=s.relatedTarget||s.fromElement)&&(ri(we)||we[Ct]))break e;if((q||V)&&(V=G.window===G?G:(V=G.ownerDocument)?V.defaultView||V.parentWindow:window,q?(we=s.relatedTarget||s.toElement,q=P,we=we?ri(we):null,we!==null&&(nt=l(we),Se=we.tag,we!==nt||Se!==5&&Se!==27&&Se!==6)&&(we=null)):(q=null,we=P),q!==we)){if(Se=js,F="onMouseLeave",I="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(Se=nl,F="onPointerLeave",I="onPointerEnter",N="pointer"),nt=q==null?V:ai(q),O=we==null?V:ai(we),V=new Se(F,N+"leave",q,s,G),V.target=nt,V.relatedTarget=O,F=null,ri(G)===P&&(Se=new Se(I,N+"enter",we,s,G),Se.target=O,Se.relatedTarget=nt,F=Se),nt=F,q&&we)t:{for(Se=q,I=we,N=0,O=Se;O;O=Kr(O))N++;for(O=0,F=I;F;F=Kr(F))O++;for(;0<N-O;)Se=Kr(Se),N--;for(;0<O-N;)I=Kr(I),O--;for(;N--;){if(Se===I||I!==null&&Se===I.alternate)break t;Se=Kr(Se),I=Kr(I)}Se=null}else Se=null;q!==null&&Jp(Z,V,q,Se,!1),we!==null&&nt!==null&&Jp(Z,nt,we,Se,!0)}}e:{if(V=P?ai(P):window,q=V.nodeName&&V.nodeName.toLowerCase(),q==="select"||q==="input"&&V.type==="file")var fe=mh;else if(Ht(V))if(ph)fe=f0;else{fe=u0;var Be=l0}else q=V.nodeName,!q||q.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?P&&Fi(P.elementType)&&(fe=mh):fe=c0;if(fe&&(fe=fe(n,P))){nn(Z,fe,s,G);break e}Be&&Be(n,V,P),n==="focusout"&&P&&V.type==="number"&&P.memoizedProps.value!=null&&Tr(V,"number",V.value)}switch(Be=P?ai(P):window,n){case"focusin":(Ht(Be)||Be.contentEditable==="true")&&(Ar=Be,pc=P,Va=null);break;case"focusout":Va=pc=Ar=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,Sh(Z,s,G);break;case"selectionchange":if(h0)break;case"keydown":case"keyup":Sh(Z,s,G)}var ve;if(Ki)e:{switch(n){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Ae?ce(n,s)&&(be="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(be="onCompositionStart");be&&(Oa&&s.locale!=="ko"&&(Ae||be!=="onCompositionStart"?be==="onCompositionEnd"&&Ae&&(ve=E()):(Tn=G,p="value"in Tn?Tn.value:Tn.textContent,Ae=!0)),Be=Fl(P,be),0<Be.length&&(be=new ka(be,n,null,s,G),Z.push({event:be,listeners:Be}),ve?be.data=ve:(ve=Ce(s),ve!==null&&(be.data=ve)))),(ve=ol?Ke(n,s):ln(n,s))&&(be=Fl(P,"onBeforeInput"),0<be.length&&(Be=new ka("onBeforeInput","beforeinput",null,s,G),Z.push({event:Be,listeners:be}),Be.data=ve)),J0(Z,n,P,s,G)}Zp(Z,i)})}function ds(n,i,s){return{instance:n,listener:i,currentTarget:s}}function Fl(n,i){for(var s=i+"Capture",u=[];n!==null;){var d=n,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Zi(n,s),d!=null&&u.unshift(ds(n,d,g)),d=Zi(n,i),d!=null&&u.push(ds(n,d,g))),n.tag===3)return u;n=n.return}return[]}function Kr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Jp(n,i,s,u,d){for(var g=i._reactName,C=[];s!==null&&s!==u;){var S=s,M=S.alternate,P=S.stateNode;if(S=S.tag,M!==null&&M===u)break;S!==5&&S!==26&&S!==27||P===null||(M=P,d?(P=Zi(s,g),P!=null&&C.unshift(ds(s,P,M))):d||(P=Zi(s,g),P!=null&&C.push(ds(s,P,M)))),s=s.return}C.length!==0&&n.push({event:i,listeners:C})}var j0=/\r\n?/g,eT=/\u0000|\uFFFD/g;function Qp(n){return(typeof n=="string"?n:""+n).replace(j0,`
`).replace(eT,"")}function Xp(n,i){return i=Qp(i),Qp(n)===i}function Yl(){}function tt(n,i,s,u,d,g){switch(s){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Fn(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Fn(n,""+u);break;case"className":ko(n,"class",u);break;case"tabIndex":ko(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ko(n,s,u);break;case"style":Oo(n,u,g);break;case"data":if(i!=="object"){ko(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=en(""+u),n.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(i!=="input"&&tt(n,i,"name",d.name,d,null),tt(n,i,"formEncType",d.formEncType,d,null),tt(n,i,"formMethod",d.formMethod,d,null),tt(n,i,"formTarget",d.formTarget,d,null)):(tt(n,i,"encType",d.encType,d,null),tt(n,i,"method",d.method,d,null),tt(n,i,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=en(""+u),n.setAttribute(s,u);break;case"onClick":u!=null&&(n.onclick=Yl);break;case"onScroll":u!=null&&Ge("scroll",n);break;case"onScrollEnd":u!=null&&Ge("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(s=u.__html,s!=null){if(d.children!=null)throw Error(o(60));n.innerHTML=s}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}s=en(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""+u):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":u===!0?n.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,u):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(s,u):n.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(s):n.setAttribute(s,u);break;case"popover":Ge("beforetoggle",n),Ge("toggle",n),Gn(n,"popover",u);break;case"xlinkActuate":Wt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Wt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Wt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Wt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Wt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Wt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Wt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Wt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Wt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Gn(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=di.get(s)||s,Gn(n,s,u))}}function Bf(n,i,s,u,d,g){switch(s){case"style":Oo(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(s=u.__html,s!=null){if(d.children!=null)throw Error(o(60));n.innerHTML=s}}break;case"children":typeof u=="string"?Fn(n,u):(typeof u=="number"||typeof u=="bigint")&&Fn(n,""+u);break;case"onScroll":u!=null&&Ge("scroll",n);break;case"onScrollEnd":u!=null&&Ge("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Yl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),i=s.slice(2,d?s.length-7:void 0),g=n[Ot]||null,g=g!=null?g[s]:null,typeof g=="function"&&n.removeEventListener(i,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,u,d);break e}s in n?n[s]=u:u===!0?n.setAttribute(s,""):Gn(n,s,u)}}}function Bt(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",n),Ge("load",n);var u=!1,d=!1,g;for(g in s)if(s.hasOwnProperty(g)){var C=s[g];if(C!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:tt(n,i,g,C,s,null)}}d&&tt(n,i,"srcSet",s.srcSet,s,null),u&&tt(n,i,"src",s.src,s,null);return;case"input":Ge("invalid",n);var S=g=C=d=null,M=null,P=null;for(u in s)if(s.hasOwnProperty(u)){var G=s[u];if(G!=null)switch(u){case"name":d=G;break;case"type":C=G;break;case"checked":M=G;break;case"defaultChecked":P=G;break;case"value":g=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,i));break;default:tt(n,i,u,G,s,null)}}Gi(n,g,S,M,P,C,d,!1),ci(n);return;case"select":Ge("invalid",n),u=C=g=null;for(d in s)if(s.hasOwnProperty(d)&&(S=s[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":C=S;break;case"multiple":u=S;default:tt(n,i,d,S,s,null)}i=g,s=C,n.multiple=!!u,i!=null?Hi(n,!!u,i,!1):s!=null&&Hi(n,!!u,s,!0);return;case"textarea":Ge("invalid",n),g=d=u=null;for(C in s)if(s.hasOwnProperty(C)&&(S=s[C],S!=null))switch(C){case"value":u=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(o(91));break;default:tt(n,i,C,S,s,null)}Ra(n,u,d,g),ci(n);return;case"option":for(M in s)if(s.hasOwnProperty(M)&&(u=s[M],u!=null))switch(M){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:tt(n,i,M,u,s,null)}return;case"dialog":Ge("beforetoggle",n),Ge("toggle",n),Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":Ge("load",n);break;case"video":case"audio":for(u=0;u<fs.length;u++)Ge(fs[u],n);break;case"image":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"embed":case"source":case"link":Ge("error",n),Ge("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(u=s[P],u!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:tt(n,i,P,u,s,null)}return;default:if(Fi(i)){for(G in s)s.hasOwnProperty(G)&&(u=s[G],u!==void 0&&Bf(n,i,G,u,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(u=s[S],u!=null&&tt(n,i,S,u,s,null))}function tT(n,i,s,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,C=null,S=null,M=null,P=null,G=null;for(q in s){var Z=s[q];if(s.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":M=Z;default:u.hasOwnProperty(q)||tt(n,i,q,null,u,Z)}}for(var V in u){var q=u[V];if(Z=s[V],u.hasOwnProperty(V)&&(q!=null||Z!=null))switch(V){case"type":g=q;break;case"name":d=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":C=q;break;case"defaultValue":S=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,i));break;default:q!==Z&&tt(n,i,V,q,u,Z)}}xa(n,C,S,M,P,G,g,d);return;case"select":q=C=S=V=null;for(g in s)if(M=s[g],s.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":q=M;default:u.hasOwnProperty(g)||tt(n,i,g,null,u,M)}for(d in u)if(g=u[d],M=s[d],u.hasOwnProperty(d)&&(g!=null||M!=null))switch(d){case"value":V=g;break;case"defaultValue":S=g;break;case"multiple":C=g;default:g!==M&&tt(n,i,d,g,u,M)}i=S,s=C,u=q,V!=null?Hi(n,!!s,V,!1):!!u!=!!s&&(i!=null?Hi(n,!!s,i,!0):Hi(n,!!s,s?[]:"",!1));return;case"textarea":q=V=null;for(S in s)if(d=s[S],s.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:tt(n,i,S,null,u,d)}for(C in u)if(d=u[C],g=s[C],u.hasOwnProperty(C)&&(d!=null||g!=null))switch(C){case"value":V=d;break;case"defaultValue":q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==g&&tt(n,i,C,d,u,g)}Cr(n,V,q);return;case"option":for(var we in s)if(V=s[we],s.hasOwnProperty(we)&&V!=null&&!u.hasOwnProperty(we))switch(we){case"selected":n.selected=!1;break;default:tt(n,i,we,null,u,V)}for(M in u)if(V=u[M],q=s[M],u.hasOwnProperty(M)&&V!==q&&(V!=null||q!=null))switch(M){case"selected":n.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:tt(n,i,M,V,u,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in s)V=s[Se],s.hasOwnProperty(Se)&&V!=null&&!u.hasOwnProperty(Se)&&tt(n,i,Se,null,u,V);for(P in u)if(V=u[P],q=s[P],u.hasOwnProperty(P)&&V!==q&&(V!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,i));break;default:tt(n,i,P,V,u,q)}return;default:if(Fi(i)){for(var nt in s)V=s[nt],s.hasOwnProperty(nt)&&V!==void 0&&!u.hasOwnProperty(nt)&&Bf(n,i,nt,void 0,u,V);for(G in u)V=u[G],q=s[G],!u.hasOwnProperty(G)||V===q||V===void 0&&q===void 0||Bf(n,i,G,V,u,q);return}}for(var I in s)V=s[I],s.hasOwnProperty(I)&&V!=null&&!u.hasOwnProperty(I)&&tt(n,i,I,null,u,V);for(Z in u)V=u[Z],q=s[Z],!u.hasOwnProperty(Z)||V===q||V==null&&q==null||tt(n,i,Z,V,u,q)}var zf=null,Gf=null;function $l(n){return n.nodeType===9?n:n.ownerDocument}function Wp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jp(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Hf(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=null;function nT(){var n=window.event;return n&&n.type==="popstate"?n===Ff?!1:(Ff=n,!0):(Ff=null,!1)}var eg=typeof setTimeout=="function"?setTimeout:void 0,iT=typeof clearTimeout=="function"?clearTimeout:void 0,tg=typeof Promise=="function"?Promise:void 0,oT=typeof queueMicrotask=="function"?queueMicrotask:typeof tg<"u"?function(n){return tg.resolve(null).then(n).catch(rT)}:eg;function rT(n){setTimeout(function(){throw n})}function fo(n){return n==="head"}function ng(n,i){var s=i,u=0,d=0;do{var g=s.nextSibling;if(n.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"){if(0<u&&8>u){s=u;var C=n.ownerDocument;if(s&1&&hs(C.documentElement),s&2&&hs(C.body),s&4)for(s=C.head,hs(s),C=s.firstChild;C;){var S=C.nextSibling,M=C.nodeName;C[zn]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&C.rel.toLowerCase()==="stylesheet"||s.removeChild(C),C=S}}if(d===0){n.removeChild(g),Cs(i);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:u=s.charCodeAt(0)-48;else u=0;s=g}while(s);Cs(i)}function Yf(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Yf(s),xt(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function aT(n,i,s,u){for(;n.nodeType===1;){var d=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[zn])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=On(n.nextSibling),n===null)break}return null}function sT(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=On(n.nextSibling),n===null))return null;return n}function $f(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function lT(n,i){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")i();else{var u=function(){i(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function On(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Zf=null;function ig(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return n;i--}else s==="/$"&&i++}n=n.previousSibling}return null}function og(n,i,s){switch(i=$l(s),n){case"html":if(n=i.documentElement,!n)throw Error(o(452));return n;case"head":if(n=i.head,!n)throw Error(o(453));return n;case"body":if(n=i.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function hs(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);xt(n)}var Mn=new Map,rg=new Set;function Zl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Mi=ie.d;ie.d={f:uT,r:cT,D:fT,C:dT,L:hT,m:mT,X:gT,S:pT,M:yT};function uT(){var n=Mi.f(),i=Vl();return n||i}function cT(n){var i=Bi(n);i!==null&&i.tag===5&&i.type==="form"?bm(i):Mi.r(n)}var Jr=typeof document>"u"?null:document;function ag(n,i,s){var u=Jr;if(u&&typeof i=="string"&&i){var d=jt(i);d='link[rel="'+n+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),rg.has(d)||(rg.add(d),n={rel:n,crossOrigin:s,href:i},u.querySelector(d)===null&&(i=u.createElement("link"),Bt(i,"link",n),vt(i),u.head.appendChild(i)))}}function fT(n){Mi.D(n),ag("dns-prefetch",n,null)}function dT(n,i){Mi.C(n,i),ag("preconnect",n,i)}function hT(n,i,s){Mi.L(n,i,s);var u=Jr;if(u&&n&&i){var d='link[rel="preload"][as="'+jt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+jt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+jt(s.imageSizes)+'"]')):d+='[href="'+jt(n)+'"]';var g=d;switch(i){case"style":g=Qr(n);break;case"script":g=Xr(n)}Mn.has(g)||(n=T({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),Mn.set(g,n),u.querySelector(d)!==null||i==="style"&&u.querySelector(ms(g))||i==="script"&&u.querySelector(ps(g))||(i=u.createElement("link"),Bt(i,"link",n),vt(i),u.head.appendChild(i)))}}function mT(n,i){Mi.m(n,i);var s=Jr;if(s&&n){var u=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+jt(u)+'"][href="'+jt(n)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Xr(n)}if(!Mn.has(g)&&(n=T({rel:"modulepreload",href:n},i),Mn.set(g,n),s.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ps(g)))return}u=s.createElement("link"),Bt(u,"link",n),vt(u),s.head.appendChild(u)}}}function pT(n,i,s){Mi.S(n,i,s);var u=Jr;if(u&&n){var d=zi(u).hoistableStyles,g=Qr(n);i=i||"default";var C=d.get(g);if(!C){var S={loading:0,preload:null};if(C=u.querySelector(ms(g)))S.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":i},s),(s=Mn.get(g))&&Kf(n,s);var M=C=u.createElement("link");vt(M),Bt(M,"link",n),M._p=new Promise(function(P,G){M.onload=P,M.onerror=G}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Kl(C,i,u)}C={type:"stylesheet",instance:C,count:1,state:S},d.set(g,C)}}}function gT(n,i){Mi.X(n,i);var s=Jr;if(s&&n){var u=zi(s).hoistableScripts,d=Xr(n),g=u.get(d);g||(g=s.querySelector(ps(d)),g||(n=T({src:n,async:!0},i),(i=Mn.get(d))&&Jf(n,i),g=s.createElement("script"),vt(g),Bt(g,"link",n),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function yT(n,i){Mi.M(n,i);var s=Jr;if(s&&n){var u=zi(s).hoistableScripts,d=Xr(n),g=u.get(d);g||(g=s.querySelector(ps(d)),g||(n=T({src:n,async:!0,type:"module"},i),(i=Mn.get(d))&&Jf(n,i),g=s.createElement("script"),vt(g),Bt(g,"link",n),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function sg(n,i,s,u){var d=(d=Re.current)?Zl(d):null;if(!d)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Qr(s.href),s=zi(d).hoistableStyles,u=s.get(i),u||(u={type:"style",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Qr(s.href);var g=zi(d).hoistableStyles,C=g.get(n);if(C||(d=d.ownerDocument||d,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,C),(g=d.querySelector(ms(n)))&&!g._p&&(C.instance=g,C.state.loading=5),Mn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(n,s),g||vT(d,n,s,C.state))),i&&u===null)throw Error(o(528,""));return C}if(i&&u!==null)throw Error(o(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xr(s),s=zi(d).hoistableScripts,u=s.get(i),u||(u={type:"script",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function Qr(n){return'href="'+jt(n)+'"'}function ms(n){return'link[rel="stylesheet"]['+n+"]"}function lg(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function vT(n,i,s,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Bt(i,"link",s),vt(i),n.head.appendChild(i))}function Xr(n){return'[src="'+jt(n)+'"]'}function ps(n){return"script[async]"+n}function ug(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+jt(s.href)+'"]');if(u)return i.instance=u,vt(u),u;var d=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),vt(u),Bt(u,"style",d),Kl(u,s.precedence,n),i.instance=u;case"stylesheet":d=Qr(s.href);var g=n.querySelector(ms(d));if(g)return i.state.loading|=4,i.instance=g,vt(g),g;u=lg(s),(d=Mn.get(d))&&Kf(u,d),g=(n.ownerDocument||n).createElement("link"),vt(g);var C=g;return C._p=new Promise(function(S,M){C.onload=S,C.onerror=M}),Bt(g,"link",u),i.state.loading|=4,Kl(g,s.precedence,n),i.instance=g;case"script":return g=Xr(s.src),(d=n.querySelector(ps(g)))?(i.instance=d,vt(d),d):(u=s,(d=Mn.get(g))&&(u=T({},s),Jf(u,d)),n=n.ownerDocument||n,d=n.createElement("script"),vt(d),Bt(d,"link",u),n.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Kl(u,s.precedence,n));return i.instance}function Kl(n,i,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,C=0;C<u.length;C++){var S=u[C];if(S.dataset.precedence===i)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(n,g.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function Kf(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Jf(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Jl=null;function cg(n,i,s){if(Jl===null){var u=new Map,d=Jl=new Map;d.set(s,u)}else d=Jl,u=d.get(s),u||(u=new Map,d.set(s,u));if(u.has(n))return u;for(u.set(n,null),s=s.getElementsByTagName(n),d=0;d<s.length;d++){var g=s[d];if(!(g[zn]||g[ht]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var C=g.getAttribute(i)||"";C=n+C;var S=u.get(C);S?S.push(g):u.set(C,[g])}}return u}function fg(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function _T(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function dg(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var gs=null;function TT(){}function CT(n,i,s){if(gs===null)throw Error(o(475));var u=gs;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=Qr(s.href),g=n.querySelector(ms(d));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Ql.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=g,vt(g);return}g=n.ownerDocument||n,s=lg(s),(d=Mn.get(d))&&Kf(s,d),g=g.createElement("link"),vt(g);var C=g;C._p=new Promise(function(S,M){C.onload=S,C.onerror=M}),Bt(g,"link",s),i.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Ql.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function ET(){if(gs===null)throw Error(o(475));var n=gs;return n.stylesheets&&n.count===0&&Qf(n,n.stylesheets),0<n.count?function(i){var s=setTimeout(function(){if(n.stylesheets&&Qf(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(s)}}:null}function Ql(){if(this.count--,this.count===0){if(this.stylesheets)Qf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xl=null;function Qf(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xl=new Map,i.forEach(ST,n),Xl=null,Ql.call(n))}function ST(n,i){if(!(i.state.loading&4)){var s=Xl.get(n);if(s)var u=s.get(null);else{s=new Map,Xl.set(n,s);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var C=d[g];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(s.set(C.dataset.precedence,C),u=C)}u&&s.set(null,u)}d=i.instance,C=d.getAttribute("data-precedence"),g=s.get(C)||u,g===u&&s.set(null,d),s.set(C,d),this.count++,u=Ql.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),i.state.loading|=4}}var ys={$$typeof:W,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function AT(n,i,s,u,d,g,C,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dr(0),this.hiddenUpdates=dr(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function hg(n,i,s,u,d,g,C,S,M,P,G,Z){return n=new AT(n,i,s,C,S,M,P,Z),i=1,g===!0&&(i|=24),g=fn(3,null,null,i),n.current=g,g.stateNode=n,i=Nc(),i.refCount++,n.pooledCache=i,i.refCount++,g.memoizedState={element:u,isDehydrated:s,cache:i},kc(g),n}function mg(n){return n?(n=xr,n):xr}function pg(n,i,s,u,d,g){d=mg(d),u.context===null?u.context=d:u.pendingContext=d,u=Wi(i),u.payload={element:s},g=g===void 0?null:g,g!==null&&(u.callback=g),s=ji(n,u,i),s!==null&&(gn(s,n,i),Za(s,n,i))}function gg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function Xf(n,i){gg(n,i),(n=n.alternate)&&gg(n,i)}function yg(n){if(n.tag===13){var i=Mr(n,67108864);i!==null&&gn(i,n,67108864),Xf(n,67108864)}}var Wl=!0;function bT(n,i,s,u){var d=z.T;z.T=null;var g=ie.p;try{ie.p=2,Wf(n,i,s,u)}finally{ie.p=g,z.T=d}}function wT(n,i,s,u){var d=z.T;z.T=null;var g=ie.p;try{ie.p=8,Wf(n,i,s,u)}finally{ie.p=g,z.T=d}}function Wf(n,i,s,u){if(Wl){var d=jf(u);if(d===null)qf(n,i,u,jl,s),_g(n,u);else if(xT(d,n,i,s,u))u.stopPropagation();else if(_g(n,u),i&4&&-1<MT.indexOf(n)){for(;d!==null;){var g=Bi(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var C=Bn(g.pendingLanes);if(C!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;C;){var M=1<<31-zt(C);S.entanglements[1]|=M,C&=~M}Jn(g),(Xe&6)===0&&(Ol=Xt()+500,cs(0))}}break;case 13:S=Mr(g,2),S!==null&&gn(S,g,2),Vl(),Xf(g,2)}if(g=jf(u),g===null&&qf(n,i,u,jl,s),g===d)break;d=g}d!==null&&u.stopPropagation()}else qf(n,i,u,null,s)}}function jf(n){return n=hi(n),ed(n)}var jl=null;function ed(n){if(jl=null,n=ri(n),n!==null){var i=l(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=h(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return jl=n,null}function vg(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hs()){case cr:return 2;case _a:return 8;case oi:case Bu:return 32;case Ta:return 268435456;default:return 32}default:return 32}}var td=!1,ho=null,mo=null,po=null,vs=new Map,_s=new Map,go=[],MT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _g(n,i){switch(n){case"focusin":case"focusout":ho=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":po=null;break;case"pointerover":case"pointerout":vs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(i.pointerId)}}function Ts(n,i,s,u,d,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:s,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},i!==null&&(i=Bi(i),i!==null&&yg(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function xT(n,i,s,u,d){switch(i){case"focusin":return ho=Ts(ho,n,i,s,u,d),!0;case"dragenter":return mo=Ts(mo,n,i,s,u,d),!0;case"mouseover":return po=Ts(po,n,i,s,u,d),!0;case"pointerover":var g=d.pointerId;return vs.set(g,Ts(vs.get(g)||null,n,i,s,u,d)),!0;case"gotpointercapture":return g=d.pointerId,_s.set(g,Ts(_s.get(g)||null,n,i,s,u,d)),!0}return!1}function Tg(n){var i=ri(n.target);if(i!==null){var s=l(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){n.blockedOn=i,Sa(n.priority,function(){if(s.tag===13){var u=pn();u=Ea(u);var d=Mr(s,u);d!==null&&gn(d,s,u),Xf(s,u)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function eu(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=jf(n.nativeEvent);if(s===null){s=n.nativeEvent;var u=new s.constructor(s.type,s);vn=u,s.target.dispatchEvent(u),vn=null}else return i=Bi(s),i!==null&&yg(i),n.blockedOn=s,!1;i.shift()}return!0}function Cg(n,i,s){eu(n)&&s.delete(i)}function RT(){td=!1,ho!==null&&eu(ho)&&(ho=null),mo!==null&&eu(mo)&&(mo=null),po!==null&&eu(po)&&(po=null),vs.forEach(Cg),_s.forEach(Cg)}function tu(n,i){n.blockedOn===i&&(n.blockedOn=null,td||(td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,RT)))}var nu=null;function Eg(n){nu!==n&&(nu=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){nu===n&&(nu=null);for(var i=0;i<n.length;i+=3){var s=n[i],u=n[i+1],d=n[i+2];if(typeof u!="function"){if(ed(u||s)===null)continue;break}var g=Bi(s);g!==null&&(n.splice(i,3),i-=3,jc(g,{pending:!0,data:d,method:s.method,action:u},u,d))}}))}function Cs(n){function i(M){return tu(M,n)}ho!==null&&tu(ho,n),mo!==null&&tu(mo,n),po!==null&&tu(po,n),vs.forEach(i),_s.forEach(i);for(var s=0;s<go.length;s++){var u=go[s];u.blockedOn===n&&(u.blockedOn=null)}for(;0<go.length&&(s=go[0],s.blockedOn===null);)Tg(s),s.blockedOn===null&&go.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var d=s[u],g=s[u+1],C=d[Ot]||null;if(typeof g=="function")C||Eg(s);else if(C){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,C=g[Ot]||null)S=C.formAction;else if(ed(d)!==null)continue}else S=C.action;typeof S=="function"?s[u+1]=S:(s.splice(u,3),u-=3),Eg(s)}}}function nd(n){this._internalRoot=n}iu.prototype.render=nd.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(o(409));var s=i.current,u=pn();pg(s,u,n,i,null,null)},iu.prototype.unmount=nd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;pg(n.current,2,null,n,null,null),Vl(),i[Ct]=null}};function iu(n){this._internalRoot=n}iu.prototype.unstable_scheduleHydration=function(n){if(n){var i=hr();n={blockedOn:null,target:n,priority:i};for(var s=0;s<go.length&&i!==0&&i<go[s].priority;s++);go.splice(s,0,n),s===0&&Tg(n)}};var Sg=e.version;if(Sg!=="19.1.0")throw Error(o(527,Sg,"19.1.0"));ie.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=v(i),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var NT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{Nn=ou.inject(NT),gt=ou}catch{}}return Ss.createRoot=function(n,i){if(!a(n))throw Error(o(299));var s=!1,u="",d=qm,g=Bm,C=zm,S=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=hg(n,1,!1,null,null,s,u,d,g,C,S,null),n[Ct]=i.current,Vf(n),new nd(i)},Ss.hydrateRoot=function(n,i,s){if(!a(n))throw Error(o(299));var u=!1,d="",g=qm,C=Bm,S=zm,M=null,P=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(C=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(M=s.unstable_transitionCallbacks),s.formState!==void 0&&(P=s.formState)),i=hg(n,1,!0,i,s??null,u,d,g,C,S,M,P),i.context=mg(null),s=i.current,u=pn(),u=Ea(u),d=Wi(u),d.callback=null,ji(s,d,u),s=u,i.current.lanes=s,Vi(i,s),Jn(i),n[Ct]=i.current,Vf(n),new iu(i)},Ss.version="19.1.0",Ss}var Ug;function FT(){if(Ug)return rd.exports;Ug=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rd.exports=HT(),rd.exports}var YT=FT();const $T=$d(YT);var Ze;(function(r){r.assertEqual=a=>{};function e(a){}r.assertIs=e;function t(a){throw new Error}r.assertNever=t,r.arrayToEnum=a=>{const l={};for(const h of a)l[h]=h;return l},r.getValidEnumValues=a=>{const l=r.objectKeys(a).filter(y=>typeof a[a[y]]!="number"),h={};for(const y of l)h[y]=a[y];return r.objectValues(h)},r.objectValues=a=>r.objectKeys(a).map(function(l){return a[l]}),r.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const l=[];for(const h in a)Object.prototype.hasOwnProperty.call(a,h)&&l.push(h);return l},r.find=(a,l)=>{for(const h of a)if(l(h))return h},r.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function o(a,l=" | "){return a.map(h=>typeof h=="string"?`'${h}'`:h).join(l)}r.joinValues=o,r.jsonStringifyReplacer=(a,l)=>typeof l=="bigint"?l.toString():l})(Ze||(Ze={}));var kg;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(kg||(kg={}));const de=Ze.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),To=r=>{switch(typeof r){case"undefined":return de.undefined;case"string":return de.string;case"number":return Number.isNaN(r)?de.nan:de.number;case"boolean":return de.boolean;case"function":return de.function;case"bigint":return de.bigint;case"symbol":return de.symbol;case"object":return Array.isArray(r)?de.array:r===null?de.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?de.promise:typeof Map<"u"&&r instanceof Map?de.map:typeof Set<"u"&&r instanceof Set?de.set:typeof Date<"u"&&r instanceof Date?de.date:de.object;default:return de.unknown}},ee=Ze.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ii extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(l){return l.message},o={_errors:[]},a=l=>{for(const h of l.issues)if(h.code==="invalid_union")h.unionErrors.map(a);else if(h.code==="invalid_return_type")a(h.returnTypeError);else if(h.code==="invalid_arguments")a(h.argumentsError);else if(h.path.length===0)o._errors.push(t(h));else{let y=o,v=0;for(;v<h.path.length;){const m=h.path[v];v===h.path.length-1?(y[m]=y[m]||{_errors:[]},y[m]._errors.push(t(h))):y[m]=y[m]||{_errors:[]},y=y[m],v++}}};return a(this),o}static assert(e){if(!(e instanceof Ii))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ze.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},o=[];for(const a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):o.push(e(a));return{formErrors:o,fieldErrors:t}}get formErrors(){return this.flatten()}}Ii.create=r=>new Ii(r);const Td=(r,e)=>{let t;switch(r.code){case ee.invalid_type:r.received===de.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case ee.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,Ze.jsonStringifyReplacer)}`;break;case ee.unrecognized_keys:t=`Unrecognized key(s) in object: ${Ze.joinValues(r.keys,", ")}`;break;case ee.invalid_union:t="Invalid input";break;case ee.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Ze.joinValues(r.options)}`;break;case ee.invalid_enum_value:t=`Invalid enum value. Expected ${Ze.joinValues(r.options)}, received '${r.received}'`;break;case ee.invalid_arguments:t="Invalid function arguments";break;case ee.invalid_return_type:t="Invalid function return type";break;case ee.invalid_date:t="Invalid date";break;case ee.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:Ze.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case ee.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case ee.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case ee.custom:t="Invalid input";break;case ee.invalid_intersection_types:t="Intersection results could not be merged";break;case ee.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case ee.not_finite:t="Number must be finite";break;default:t=e.defaultError,Ze.assertNever(r)}return{message:t}};let ZT=Td;function KT(){return ZT}const JT=r=>{const{data:e,path:t,errorMaps:o,issueData:a}=r,l=[...t,...a.path||[]],h={...a,path:l};if(a.message!==void 0)return{...a,path:l,message:a.message};let y="";const v=o.filter(m=>!!m).slice().reverse();for(const m of v)y=m(h,{data:e,defaultError:y}).message;return{...a,path:l,message:y}};function re(r,e){const t=KT(),o=JT({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===Td?void 0:Td].filter(a=>!!a)});r.common.issues.push(o)}class Jt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const o=[];for(const a of t){if(a.status==="aborted")return Ue;a.status==="dirty"&&e.dirty(),o.push(a.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,t){const o=[];for(const a of t){const l=await a.key,h=await a.value;o.push({key:l,value:h})}return Jt.mergeObjectSync(e,o)}static mergeObjectSync(e,t){const o={};for(const a of t){const{key:l,value:h}=a;if(l.status==="aborted"||h.status==="aborted")return Ue;l.status==="dirty"&&e.dirty(),h.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof h.value<"u"||a.alwaysSet)&&(o[l.value]=h.value)}return{status:e.value,value:o}}}const Ue=Object.freeze({status:"aborted"}),bs=r=>({status:"dirty",value:r}),xn=r=>({status:"valid",value:r}),Lg=r=>r.status==="aborted",Og=r=>r.status==="dirty",sa=r=>r.status==="valid",vu=r=>typeof Promise<"u"&&r instanceof Promise;var ye;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ye||(ye={}));class ti{constructor(e,t,o,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=o,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Pg=(r,e)=>{if(sa(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Ii(r.common.issues);return this._error=t,this._error}}};function Oe(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:o,description:a}=r;if(e&&(t||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(h,y)=>{const{message:v}=r;return h.code==="invalid_enum_value"?{message:v??y.defaultError}:typeof y.data>"u"?{message:v??o??y.defaultError}:h.code!=="invalid_type"?{message:y.defaultError}:{message:v??t??y.defaultError}},description:a}}class He{get description(){return this._def.description}_getType(e){return To(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:To(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Jt,ctx:{common:e.parent.common,data:e.data,parsedType:To(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(vu(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const o=this.safeParse(e,t);if(o.success)return o.data;throw o.error}safeParse(e,t){const o={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:To(e)},a=this._parseSync({data:e,path:o.path,parent:o});return Pg(o,a)}"~validate"(e){var o,a;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:To(e)};if(!this["~standard"].async)try{const l=this._parseSync({data:e,path:[],parent:t});return sa(l)?{value:l.value}:{issues:t.common.issues}}catch(l){(a=(o=l==null?void 0:l.message)==null?void 0:o.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(l=>sa(l)?{value:l.value}:{issues:t.common.issues})}async parseAsync(e,t){const o=await this.safeParseAsync(e,t);if(o.success)return o.data;throw o.error}async safeParseAsync(e,t){const o={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:To(e)},a=this._parse({data:e,path:o.path,parent:o}),l=await(vu(a)?a:Promise.resolve(a));return Pg(o,l)}refine(e,t){const o=a=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,l)=>{const h=e(a),y=()=>l.addIssue({code:ee.custom,...o(a)});return typeof Promise<"u"&&h instanceof Promise?h.then(v=>v?!0:(y(),!1)):h?!0:(y(),!1)})}refinement(e,t){return this._refinement((o,a)=>e(o)?!0:(a.addIssue(typeof t=="function"?t(o,a):t),!1))}_refinement(e){return new ca({schema:this,typeName:Ie.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Ao.create(this,this._def)}nullable(){return fa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return jn.create(this)}promise(){return Su.create(this,this._def)}or(e){return Tu.create([this,e],this._def)}and(e){return Cu.create(this,e,this._def)}transform(e){return new ca({...Oe(this._def),schema:this,typeName:Ie.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Ad({...Oe(this._def),innerType:this,defaultValue:t,typeName:Ie.ZodDefault})}brand(){return new vC({typeName:Ie.ZodBranded,type:this,...Oe(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new bd({...Oe(this._def),innerType:this,catchValue:t,typeName:Ie.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Kd.create(this,e)}readonly(){return wd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const QT=/^c[^\s-]{8,}$/i,XT=/^[0-9a-z]+$/,WT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,jT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eC=/^[a-z0-9_-]{21}$/i,tC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,nC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,iC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,oC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ud;const rC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,lC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,uC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cC=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Hv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fC=new RegExp(`^${Hv}$`);function Fv(r){let e="[0-5]\\d";r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`);const t=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function dC(r){return new RegExp(`^${Fv(r)}$`)}function hC(r){let e=`${Hv}T${Fv(r)}`;const t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function mC(r,e){return!!((e==="v4"||!e)&&rC.test(r)||(e==="v6"||!e)&&sC.test(r))}function pC(r,e){if(!tC.test(r))return!1;try{const[t]=r.split("."),o=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),a=JSON.parse(atob(o));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function gC(r,e){return!!((e==="v4"||!e)&&aC.test(r)||(e==="v6"||!e)&&lC.test(r))}class Xn extends He{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==de.string){const l=this._getOrReturnCtx(e);return re(l,{code:ee.invalid_type,expected:de.string,received:l.parsedType}),Ue}const o=new Jt;let a;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(a=this._getOrReturnCtx(e,a),re(a,{code:ee.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if(l.kind==="max")e.data.length>l.value&&(a=this._getOrReturnCtx(e,a),re(a,{code:ee.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if(l.kind==="length"){const h=e.data.length>l.value,y=e.data.length<l.value;(h||y)&&(a=this._getOrReturnCtx(e,a),h?re(a,{code:ee.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):y&&re(a,{code:ee.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),o.dirty())}else if(l.kind==="email")iC.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"email",code:ee.invalid_string,message:l.message}),o.dirty());else if(l.kind==="emoji")ud||(ud=new RegExp(oC,"u")),ud.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"emoji",code:ee.invalid_string,message:l.message}),o.dirty());else if(l.kind==="uuid")jT.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"uuid",code:ee.invalid_string,message:l.message}),o.dirty());else if(l.kind==="nanoid")eC.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"nanoid",code:ee.invalid_string,message:l.message}),o.dirty());else if(l.kind==="cuid")QT.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"cuid",code:ee.invalid_string,message:l.message}),o.dirty());else if(l.kind==="cuid2")XT.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"cuid2",code:ee.invalid_string,message:l.message}),o.dirty());else if(l.kind==="ulid")WT.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"ulid",code:ee.invalid_string,message:l.message}),o.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),re(a,{validation:"url",code:ee.invalid_string,message:l.message}),o.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"regex",code:ee.invalid_string,message:l.message}),o.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(a=this._getOrReturnCtx(e,a),re(a,{code:ee.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),o.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(a=this._getOrReturnCtx(e,a),re(a,{code:ee.invalid_string,validation:{startsWith:l.value},message:l.message}),o.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(a=this._getOrReturnCtx(e,a),re(a,{code:ee.invalid_string,validation:{endsWith:l.value},message:l.message}),o.dirty()):l.kind==="datetime"?hC(l).test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{code:ee.invalid_string,validation:"datetime",message:l.message}),o.dirty()):l.kind==="date"?fC.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{code:ee.invalid_string,validation:"date",message:l.message}),o.dirty()):l.kind==="time"?dC(l).test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{code:ee.invalid_string,validation:"time",message:l.message}),o.dirty()):l.kind==="duration"?nC.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"duration",code:ee.invalid_string,message:l.message}),o.dirty()):l.kind==="ip"?mC(e.data,l.version)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"ip",code:ee.invalid_string,message:l.message}),o.dirty()):l.kind==="jwt"?pC(e.data,l.alg)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"jwt",code:ee.invalid_string,message:l.message}),o.dirty()):l.kind==="cidr"?gC(e.data,l.version)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"cidr",code:ee.invalid_string,message:l.message}),o.dirty()):l.kind==="base64"?uC.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"base64",code:ee.invalid_string,message:l.message}),o.dirty()):l.kind==="base64url"?cC.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"base64url",code:ee.invalid_string,message:l.message}),o.dirty()):Ze.assertNever(l);return{status:o.value,value:e.data}}_regex(e,t,o){return this.refinement(a=>e.test(a),{validation:t,code:ee.invalid_string,...ye.errToObj(o)})}_addCheck(e){return new Xn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ye.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ye.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ye.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ye.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ye.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ye.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ye.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ye.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ye.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ye.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ye.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ye.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ye.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ye.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ye.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ye.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ye.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...ye.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ye.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ye.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ye.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ye.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ye.errToObj(t)})}nonempty(e){return this.min(1,ye.errToObj(e))}trim(){return new Xn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Xn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Xn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Xn.create=r=>new Xn({checks:[],typeName:Ie.ZodString,coerce:(r==null?void 0:r.coerce)??!1,...Oe(r)});function yC(r,e){const t=(r.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,a=t>o?t:o,l=Number.parseInt(r.toFixed(a).replace(".","")),h=Number.parseInt(e.toFixed(a).replace(".",""));return l%h/10**a}class or extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==de.number){const l=this._getOrReturnCtx(e);return re(l,{code:ee.invalid_type,expected:de.number,received:l.parsedType}),Ue}let o;const a=new Jt;for(const l of this._def.checks)l.kind==="int"?Ze.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),re(o,{code:ee.invalid_type,expected:"integer",received:"float",message:l.message}),a.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(o=this._getOrReturnCtx(e,o),re(o,{code:ee.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(o=this._getOrReturnCtx(e,o),re(o,{code:ee.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="multipleOf"?yC(e.data,l.value)!==0&&(o=this._getOrReturnCtx(e,o),re(o,{code:ee.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),re(o,{code:ee.not_finite,message:l.message}),a.dirty()):Ze.assertNever(l);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ye.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ye.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ye.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ye.toString(t))}setLimit(e,t,o,a){return new or({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:o,message:ye.toString(a)}]})}_addCheck(e){return new or({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ye.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ye.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ye.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ye.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ye.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ye.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ye.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ye.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ye.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ze.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(t===null||o.value>t)&&(t=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(t)&&Number.isFinite(e)}}or.create=r=>new or({checks:[],typeName:Ie.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...Oe(r)});class rr extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==de.bigint)return this._getInvalidInput(e);let o;const a=new Jt;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(o=this._getOrReturnCtx(e,o),re(o,{code:ee.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(o=this._getOrReturnCtx(e,o),re(o,{code:ee.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),re(o,{code:ee.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):Ze.assertNever(l);return{status:a.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return re(t,{code:ee.invalid_type,expected:de.bigint,received:t.parsedType}),Ue}gte(e,t){return this.setLimit("min",e,!0,ye.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ye.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ye.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ye.toString(t))}setLimit(e,t,o,a){return new rr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:o,message:ye.toString(a)}]})}_addCheck(e){return new rr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ye.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ye.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ye.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ye.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ye.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}rr.create=r=>new rr({checks:[],typeName:Ie.ZodBigInt,coerce:(r==null?void 0:r.coerce)??!1,...Oe(r)});class _u extends He{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==de.boolean){const o=this._getOrReturnCtx(e);return re(o,{code:ee.invalid_type,expected:de.boolean,received:o.parsedType}),Ue}return xn(e.data)}}_u.create=r=>new _u({typeName:Ie.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...Oe(r)});class la extends He{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==de.date){const l=this._getOrReturnCtx(e);return re(l,{code:ee.invalid_type,expected:de.date,received:l.parsedType}),Ue}if(Number.isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return re(l,{code:ee.invalid_date}),Ue}const o=new Jt;let a;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(a=this._getOrReturnCtx(e,a),re(a,{code:ee.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),o.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(a=this._getOrReturnCtx(e,a),re(a,{code:ee.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),o.dirty()):Ze.assertNever(l);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new la({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ye.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ye.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}la.create=r=>new la({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:Ie.ZodDate,...Oe(r)});class Vg extends He{_parse(e){if(this._getType(e)!==de.symbol){const o=this._getOrReturnCtx(e);return re(o,{code:ee.invalid_type,expected:de.symbol,received:o.parsedType}),Ue}return xn(e.data)}}Vg.create=r=>new Vg({typeName:Ie.ZodSymbol,...Oe(r)});class qg extends He{_parse(e){if(this._getType(e)!==de.undefined){const o=this._getOrReturnCtx(e);return re(o,{code:ee.invalid_type,expected:de.undefined,received:o.parsedType}),Ue}return xn(e.data)}}qg.create=r=>new qg({typeName:Ie.ZodUndefined,...Oe(r)});class Bg extends He{_parse(e){if(this._getType(e)!==de.null){const o=this._getOrReturnCtx(e);return re(o,{code:ee.invalid_type,expected:de.null,received:o.parsedType}),Ue}return xn(e.data)}}Bg.create=r=>new Bg({typeName:Ie.ZodNull,...Oe(r)});class zg extends He{constructor(){super(...arguments),this._any=!0}_parse(e){return xn(e.data)}}zg.create=r=>new zg({typeName:Ie.ZodAny,...Oe(r)});class Cd extends He{constructor(){super(...arguments),this._unknown=!0}_parse(e){return xn(e.data)}}Cd.create=r=>new Cd({typeName:Ie.ZodUnknown,...Oe(r)});class Mo extends He{_parse(e){const t=this._getOrReturnCtx(e);return re(t,{code:ee.invalid_type,expected:de.never,received:t.parsedType}),Ue}}Mo.create=r=>new Mo({typeName:Ie.ZodNever,...Oe(r)});class Gg extends He{_parse(e){if(this._getType(e)!==de.undefined){const o=this._getOrReturnCtx(e);return re(o,{code:ee.invalid_type,expected:de.void,received:o.parsedType}),Ue}return xn(e.data)}}Gg.create=r=>new Gg({typeName:Ie.ZodVoid,...Oe(r)});class jn extends He{_parse(e){const{ctx:t,status:o}=this._processInputParams(e),a=this._def;if(t.parsedType!==de.array)return re(t,{code:ee.invalid_type,expected:de.array,received:t.parsedType}),Ue;if(a.exactLength!==null){const h=t.data.length>a.exactLength.value,y=t.data.length<a.exactLength.value;(h||y)&&(re(t,{code:h?ee.too_big:ee.too_small,minimum:y?a.exactLength.value:void 0,maximum:h?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),o.dirty())}if(a.minLength!==null&&t.data.length<a.minLength.value&&(re(t,{code:ee.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),o.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(re(t,{code:ee.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),o.dirty()),t.common.async)return Promise.all([...t.data].map((h,y)=>a.type._parseAsync(new ti(t,h,t.path,y)))).then(h=>Jt.mergeArray(o,h));const l=[...t.data].map((h,y)=>a.type._parseSync(new ti(t,h,t.path,y)));return Jt.mergeArray(o,l)}get element(){return this._def.type}min(e,t){return new jn({...this._def,minLength:{value:e,message:ye.toString(t)}})}max(e,t){return new jn({...this._def,maxLength:{value:e,message:ye.toString(t)}})}length(e,t){return new jn({...this._def,exactLength:{value:e,message:ye.toString(t)}})}nonempty(e){return this.min(1,e)}}jn.create=(r,e)=>new jn({type:r,minLength:null,maxLength:null,exactLength:null,typeName:Ie.ZodArray,...Oe(e)});function jr(r){if(r instanceof Mt){const e={};for(const t in r.shape){const o=r.shape[t];e[t]=Ao.create(jr(o))}return new Mt({...r._def,shape:()=>e})}else return r instanceof jn?new jn({...r._def,type:jr(r.element)}):r instanceof Ao?Ao.create(jr(r.unwrap())):r instanceof fa?fa.create(jr(r.unwrap())):r instanceof ar?ar.create(r.items.map(e=>jr(e))):r}class Mt extends He{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Ze.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==de.object){const m=this._getOrReturnCtx(e);return re(m,{code:ee.invalid_type,expected:de.object,received:m.parsedType}),Ue}const{status:o,ctx:a}=this._processInputParams(e),{shape:l,keys:h}=this._getCached(),y=[];if(!(this._def.catchall instanceof Mo&&this._def.unknownKeys==="strip"))for(const m in a.data)h.includes(m)||y.push(m);const v=[];for(const m of h){const T=l[m],b=a.data[m];v.push({key:{status:"valid",value:m},value:T._parse(new ti(a,b,a.path,m)),alwaysSet:m in a.data})}if(this._def.catchall instanceof Mo){const m=this._def.unknownKeys;if(m==="passthrough")for(const T of y)v.push({key:{status:"valid",value:T},value:{status:"valid",value:a.data[T]}});else if(m==="strict")y.length>0&&(re(a,{code:ee.unrecognized_keys,keys:y}),o.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const T of y){const b=a.data[T];v.push({key:{status:"valid",value:T},value:m._parse(new ti(a,b,a.path,T)),alwaysSet:T in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const m=[];for(const T of v){const b=await T.key,w=await T.value;m.push({key:b,value:w,alwaysSet:T.alwaysSet})}return m}).then(m=>Jt.mergeObjectSync(o,m)):Jt.mergeObjectSync(o,v)}get shape(){return this._def.shape()}strict(e){return ye.errToObj,new Mt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,o)=>{var l,h;const a=((h=(l=this._def).errorMap)==null?void 0:h.call(l,t,o).message)??o.defaultError;return t.code==="unrecognized_keys"?{message:ye.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new Mt({...this._def,unknownKeys:"strip"})}passthrough(){return new Mt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Mt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Mt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ie.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Mt({...this._def,catchall:e})}pick(e){const t={};for(const o of Ze.objectKeys(e))e[o]&&this.shape[o]&&(t[o]=this.shape[o]);return new Mt({...this._def,shape:()=>t})}omit(e){const t={};for(const o of Ze.objectKeys(this.shape))e[o]||(t[o]=this.shape[o]);return new Mt({...this._def,shape:()=>t})}deepPartial(){return jr(this)}partial(e){const t={};for(const o of Ze.objectKeys(this.shape)){const a=this.shape[o];e&&!e[o]?t[o]=a:t[o]=a.optional()}return new Mt({...this._def,shape:()=>t})}required(e){const t={};for(const o of Ze.objectKeys(this.shape))if(e&&!e[o])t[o]=this.shape[o];else{let l=this.shape[o];for(;l instanceof Ao;)l=l._def.innerType;t[o]=l}return new Mt({...this._def,shape:()=>t})}keyof(){return Yv(Ze.objectKeys(this.shape))}}Mt.create=(r,e)=>new Mt({shape:()=>r,unknownKeys:"strip",catchall:Mo.create(),typeName:Ie.ZodObject,...Oe(e)});Mt.strictCreate=(r,e)=>new Mt({shape:()=>r,unknownKeys:"strict",catchall:Mo.create(),typeName:Ie.ZodObject,...Oe(e)});Mt.lazycreate=(r,e)=>new Mt({shape:r,unknownKeys:"strip",catchall:Mo.create(),typeName:Ie.ZodObject,...Oe(e)});class Tu extends He{_parse(e){const{ctx:t}=this._processInputParams(e),o=this._def.options;function a(l){for(const y of l)if(y.result.status==="valid")return y.result;for(const y of l)if(y.result.status==="dirty")return t.common.issues.push(...y.ctx.common.issues),y.result;const h=l.map(y=>new Ii(y.ctx.common.issues));return re(t,{code:ee.invalid_union,unionErrors:h}),Ue}if(t.common.async)return Promise.all(o.map(async l=>{const h={...t,common:{...t.common,issues:[]},parent:null};return{result:await l._parseAsync({data:t.data,path:t.path,parent:h}),ctx:h}})).then(a);{let l;const h=[];for(const v of o){const m={...t,common:{...t.common,issues:[]},parent:null},T=v._parseSync({data:t.data,path:t.path,parent:m});if(T.status==="valid")return T;T.status==="dirty"&&!l&&(l={result:T,ctx:m}),m.common.issues.length&&h.push(m.common.issues)}if(l)return t.common.issues.push(...l.ctx.common.issues),l.result;const y=h.map(v=>new Ii(v));return re(t,{code:ee.invalid_union,unionErrors:y}),Ue}}get options(){return this._def.options}}Tu.create=(r,e)=>new Tu({options:r,typeName:Ie.ZodUnion,...Oe(e)});function Ed(r,e){const t=To(r),o=To(e);if(r===e)return{valid:!0,data:r};if(t===de.object&&o===de.object){const a=Ze.objectKeys(e),l=Ze.objectKeys(r).filter(y=>a.indexOf(y)!==-1),h={...r,...e};for(const y of l){const v=Ed(r[y],e[y]);if(!v.valid)return{valid:!1};h[y]=v.data}return{valid:!0,data:h}}else if(t===de.array&&o===de.array){if(r.length!==e.length)return{valid:!1};const a=[];for(let l=0;l<r.length;l++){const h=r[l],y=e[l],v=Ed(h,y);if(!v.valid)return{valid:!1};a.push(v.data)}return{valid:!0,data:a}}else return t===de.date&&o===de.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class Cu extends He{_parse(e){const{status:t,ctx:o}=this._processInputParams(e),a=(l,h)=>{if(Lg(l)||Lg(h))return Ue;const y=Ed(l.value,h.value);return y.valid?((Og(l)||Og(h))&&t.dirty(),{status:t.value,value:y.data}):(re(o,{code:ee.invalid_intersection_types}),Ue)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([l,h])=>a(l,h)):a(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}Cu.create=(r,e,t)=>new Cu({left:r,right:e,typeName:Ie.ZodIntersection,...Oe(t)});class ar extends He{_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==de.array)return re(o,{code:ee.invalid_type,expected:de.array,received:o.parsedType}),Ue;if(o.data.length<this._def.items.length)return re(o,{code:ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ue;!this._def.rest&&o.data.length>this._def.items.length&&(re(o,{code:ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const l=[...o.data].map((h,y)=>{const v=this._def.items[y]||this._def.rest;return v?v._parse(new ti(o,h,o.path,y)):null}).filter(h=>!!h);return o.common.async?Promise.all(l).then(h=>Jt.mergeArray(t,h)):Jt.mergeArray(t,l)}get items(){return this._def.items}rest(e){return new ar({...this._def,rest:e})}}ar.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ar({items:r,typeName:Ie.ZodTuple,rest:null,...Oe(e)})};class Eu extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==de.object)return re(o,{code:ee.invalid_type,expected:de.object,received:o.parsedType}),Ue;const a=[],l=this._def.keyType,h=this._def.valueType;for(const y in o.data)a.push({key:l._parse(new ti(o,y,o.path,y)),value:h._parse(new ti(o,o.data[y],o.path,y)),alwaysSet:y in o.data});return o.common.async?Jt.mergeObjectAsync(t,a):Jt.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,o){return t instanceof He?new Eu({keyType:e,valueType:t,typeName:Ie.ZodRecord,...Oe(o)}):new Eu({keyType:Xn.create(),valueType:e,typeName:Ie.ZodRecord,...Oe(t)})}}class Hg extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==de.map)return re(o,{code:ee.invalid_type,expected:de.map,received:o.parsedType}),Ue;const a=this._def.keyType,l=this._def.valueType,h=[...o.data.entries()].map(([y,v],m)=>({key:a._parse(new ti(o,y,o.path,[m,"key"])),value:l._parse(new ti(o,v,o.path,[m,"value"]))}));if(o.common.async){const y=new Map;return Promise.resolve().then(async()=>{for(const v of h){const m=await v.key,T=await v.value;if(m.status==="aborted"||T.status==="aborted")return Ue;(m.status==="dirty"||T.status==="dirty")&&t.dirty(),y.set(m.value,T.value)}return{status:t.value,value:y}})}else{const y=new Map;for(const v of h){const m=v.key,T=v.value;if(m.status==="aborted"||T.status==="aborted")return Ue;(m.status==="dirty"||T.status==="dirty")&&t.dirty(),y.set(m.value,T.value)}return{status:t.value,value:y}}}}Hg.create=(r,e,t)=>new Hg({valueType:e,keyType:r,typeName:Ie.ZodMap,...Oe(t)});class Ns extends He{_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.parsedType!==de.set)return re(o,{code:ee.invalid_type,expected:de.set,received:o.parsedType}),Ue;const a=this._def;a.minSize!==null&&o.data.size<a.minSize.value&&(re(o,{code:ee.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&o.data.size>a.maxSize.value&&(re(o,{code:ee.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const l=this._def.valueType;function h(v){const m=new Set;for(const T of v){if(T.status==="aborted")return Ue;T.status==="dirty"&&t.dirty(),m.add(T.value)}return{status:t.value,value:m}}const y=[...o.data.values()].map((v,m)=>l._parse(new ti(o,v,o.path,m)));return o.common.async?Promise.all(y).then(v=>h(v)):h(y)}min(e,t){return new Ns({...this._def,minSize:{value:e,message:ye.toString(t)}})}max(e,t){return new Ns({...this._def,maxSize:{value:e,message:ye.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ns.create=(r,e)=>new Ns({valueType:r,minSize:null,maxSize:null,typeName:Ie.ZodSet,...Oe(e)});class Sd extends He{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Sd.create=(r,e)=>new Sd({getter:r,typeName:Ie.ZodLazy,...Oe(e)});class Fg extends He{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return re(t,{received:t.data,code:ee.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:e.data}}get value(){return this._def.value}}Fg.create=(r,e)=>new Fg({value:r,typeName:Ie.ZodLiteral,...Oe(e)});function Yv(r,e){return new ua({values:r,typeName:Ie.ZodEnum,...Oe(e)})}class ua extends He{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),o=this._def.values;return re(t,{expected:Ze.joinValues(o),received:t.parsedType,code:ee.invalid_type}),Ue}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),o=this._def.values;return re(t,{received:t.data,code:ee.invalid_enum_value,options:o}),Ue}return xn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ua.create(e,{...this._def,...t})}exclude(e,t=this._def){return ua.create(this.options.filter(o=>!e.includes(o)),{...this._def,...t})}}ua.create=Yv;class Yg extends He{_parse(e){const t=Ze.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==de.string&&o.parsedType!==de.number){const a=Ze.objectValues(t);return re(o,{expected:Ze.joinValues(a),received:o.parsedType,code:ee.invalid_type}),Ue}if(this._cache||(this._cache=new Set(Ze.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=Ze.objectValues(t);return re(o,{received:o.data,code:ee.invalid_enum_value,options:a}),Ue}return xn(e.data)}get enum(){return this._def.values}}Yg.create=(r,e)=>new Yg({values:r,typeName:Ie.ZodNativeEnum,...Oe(e)});class Su extends He{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==de.promise&&t.common.async===!1)return re(t,{code:ee.invalid_type,expected:de.promise,received:t.parsedType}),Ue;const o=t.parsedType===de.promise?t.data:Promise.resolve(t.data);return xn(o.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Su.create=(r,e)=>new Su({type:r,typeName:Ie.ZodPromise,...Oe(e)});class ca extends He{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ie.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:o}=this._processInputParams(e),a=this._def.effect||null,l={addIssue:h=>{re(o,h),h.fatal?t.abort():t.dirty()},get path(){return o.path}};if(l.addIssue=l.addIssue.bind(l),a.type==="preprocess"){const h=a.transform(o.data,l);if(o.common.async)return Promise.resolve(h).then(async y=>{if(t.value==="aborted")return Ue;const v=await this._def.schema._parseAsync({data:y,path:o.path,parent:o});return v.status==="aborted"?Ue:v.status==="dirty"||t.value==="dirty"?bs(v.value):v});{if(t.value==="aborted")return Ue;const y=this._def.schema._parseSync({data:h,path:o.path,parent:o});return y.status==="aborted"?Ue:y.status==="dirty"||t.value==="dirty"?bs(y.value):y}}if(a.type==="refinement"){const h=y=>{const v=a.refinement(y,l);if(o.common.async)return Promise.resolve(v);if(v instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return y};if(o.common.async===!1){const y=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return y.status==="aborted"?Ue:(y.status==="dirty"&&t.dirty(),h(y.value),{status:t.value,value:y.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(y=>y.status==="aborted"?Ue:(y.status==="dirty"&&t.dirty(),h(y.value).then(()=>({status:t.value,value:y.value}))))}if(a.type==="transform")if(o.common.async===!1){const h=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!sa(h))return Ue;const y=a.transform(h.value,l);if(y instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:y}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(h=>sa(h)?Promise.resolve(a.transform(h.value,l)).then(y=>({status:t.value,value:y})):Ue);Ze.assertNever(a)}}ca.create=(r,e,t)=>new ca({schema:r,typeName:Ie.ZodEffects,effect:e,...Oe(t)});ca.createWithPreprocess=(r,e,t)=>new ca({schema:e,effect:{type:"preprocess",transform:r},typeName:Ie.ZodEffects,...Oe(t)});class Ao extends He{_parse(e){return this._getType(e)===de.undefined?xn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ao.create=(r,e)=>new Ao({innerType:r,typeName:Ie.ZodOptional,...Oe(e)});class fa extends He{_parse(e){return this._getType(e)===de.null?xn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fa.create=(r,e)=>new fa({innerType:r,typeName:Ie.ZodNullable,...Oe(e)});class Ad extends He{_parse(e){const{ctx:t}=this._processInputParams(e);let o=t.data;return t.parsedType===de.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Ad.create=(r,e)=>new Ad({innerType:r,typeName:Ie.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Oe(e)});class bd extends He{_parse(e){const{ctx:t}=this._processInputParams(e),o={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return vu(a)?a.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Ii(o.common.issues)},input:o.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ii(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}bd.create=(r,e)=>new bd({innerType:r,typeName:Ie.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Oe(e)});class $g extends He{_parse(e){if(this._getType(e)!==de.nan){const o=this._getOrReturnCtx(e);return re(o,{code:ee.invalid_type,expected:de.nan,received:o.parsedType}),Ue}return{status:"valid",value:e.data}}}$g.create=r=>new $g({typeName:Ie.ZodNaN,...Oe(r)});class vC extends He{_parse(e){const{ctx:t}=this._processInputParams(e),o=t.data;return this._def.type._parse({data:o,path:t.path,parent:t})}unwrap(){return this._def.type}}class Kd extends He{_parse(e){const{status:t,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return l.status==="aborted"?Ue:l.status==="dirty"?(t.dirty(),bs(l.value)):this._def.out._parseAsync({data:l.value,path:o.path,parent:o})})();{const a=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return a.status==="aborted"?Ue:a.status==="dirty"?(t.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:o.path,parent:o})}}static create(e,t){return new Kd({in:e,out:t,typeName:Ie.ZodPipeline})}}class wd extends He{_parse(e){const t=this._def.innerType._parse(e),o=a=>(sa(a)&&(a.value=Object.freeze(a.value)),a);return vu(t)?t.then(a=>o(a)):o(t)}unwrap(){return this._def.innerType}}wd.create=(r,e)=>new wd({innerType:r,typeName:Ie.ZodReadonly,...Oe(e)});var Ie;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(Ie||(Ie={}));const er=Xn.create,Zg=or.create;rr.create;const _C=_u.create;la.create;const Kg=Cd.create;Mo.create;const ws=jn.create,TC=Mt.create,CC=Tu.create;Cu.create;ar.create;const EC=Eu.create,SC=Sd.create,AC=ua.create;Su.create;Ao.create;fa.create;const Wr={string:r=>Xn.create({...r,coerce:!0}),number:r=>or.create({...r,coerce:!0}),boolean:r=>_u.create({...r,coerce:!0}),bigint:r=>rr.create({...r,coerce:!0}),date:r=>la.create({...r,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bC,wC;function MC(){return{geminiUrl:bC,vertexUrl:wC}}function xC(r,e,t){var o,a,l;if(!(!((o=r.httpOptions)===null||o===void 0)&&o.baseUrl)){const h=MC();return r.vertexai?(a=h.vertexUrl)!==null&&a!==void 0?a:e:(l=h.geminiUrl)!==null&&l!==void 0?l:t}return r.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ga{}function Me(r,e){const t=/\{([^}]+)\}/g;return r.replace(t,(o,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const l=e[a];return l!=null?String(l):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function f(r,e,t){for(let l=0;l<e.length-1;l++){const h=e[l];if(h.endsWith("[]")){const y=h.slice(0,-2);if(!(y in r))if(Array.isArray(t))r[y]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(r[y])){const v=r[y];if(Array.isArray(t))for(let m=0;m<v.length;m++){const T=v[m];f(T,e.slice(l+1),t[m])}else for(const m of v)f(m,e.slice(l+1),t)}return}else if(h.endsWith("[0]")){const y=h.slice(0,-3);y in r||(r[y]=[{}]);const v=r[y];f(v[0],e.slice(l+1),t);return}(!r[h]||typeof r[h]!="object")&&(r[h]={}),r=r[h]}const o=e[e.length-1],a=r[o];if(a!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===a)return;if(typeof a=="object"&&typeof t=="object"&&a!==null&&t!==null)Object.assign(a,t);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else r[o]=t}function c(r,e){try{if(e.length===1&&e[0]==="_self")return r;for(let t=0;t<e.length;t++){if(typeof r!="object"||r===null)return;const o=e[t];if(o.endsWith("[]")){const a=o.slice(0,-2);if(a in r){const l=r[a];return Array.isArray(l)?l.map(h=>c(h,e.slice(t+1))):void 0}else return}else r=r[o]}return r}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jg;(function(r){r.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",r.OUTCOME_OK="OUTCOME_OK",r.OUTCOME_FAILED="OUTCOME_FAILED",r.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Jg||(Jg={}));var Qg;(function(r){r.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",r.PYTHON="PYTHON"})(Qg||(Qg={}));var Wn;(function(r){r.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",r.STRING="STRING",r.NUMBER="NUMBER",r.INTEGER="INTEGER",r.BOOLEAN="BOOLEAN",r.ARRAY="ARRAY",r.OBJECT="OBJECT",r.NULL="NULL"})(Wn||(Wn={}));var Xg;(function(r){r.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",r.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",r.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",r.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",r.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Xg||(Xg={}));var Wg;(function(r){r.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",r.SEVERITY="SEVERITY",r.PROBABILITY="PROBABILITY"})(Wg||(Wg={}));var jg;(function(r){r.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE",r.OFF="OFF"})(jg||(jg={}));var ey;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(ey||(ey={}));var ty;(function(r){r.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",r.NO_AUTH="NO_AUTH",r.API_KEY_AUTH="API_KEY_AUTH",r.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",r.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",r.OAUTH="OAUTH",r.OIDC_AUTH="OIDC_AUTH"})(ty||(ty={}));var ny;(function(r){r.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",r.STOP="STOP",r.MAX_TOKENS="MAX_TOKENS",r.SAFETY="SAFETY",r.RECITATION="RECITATION",r.LANGUAGE="LANGUAGE",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.SPII="SPII",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.IMAGE_SAFETY="IMAGE_SAFETY",r.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(ny||(ny={}));var iy;(function(r){r.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",r.NEGLIGIBLE="NEGLIGIBLE",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH"})(iy||(iy={}));var oy;(function(r){r.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",r.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",r.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",r.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",r.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(oy||(oy={}));var ry;(function(r){r.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",r.SAFETY="SAFETY",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(ry||(ry={}));var ay;(function(r){r.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",r.ON_DEMAND="ON_DEMAND",r.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ay||(ay={}));var Au;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.AUDIO="AUDIO"})(Au||(Au={}));var sy;(function(r){r.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",r.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",r.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",r.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(sy||(sy={}));var Md;(function(r){r.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",r.JOB_STATE_QUEUED="JOB_STATE_QUEUED",r.JOB_STATE_PENDING="JOB_STATE_PENDING",r.JOB_STATE_RUNNING="JOB_STATE_RUNNING",r.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",r.JOB_STATE_FAILED="JOB_STATE_FAILED",r.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",r.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",r.JOB_STATE_PAUSED="JOB_STATE_PAUSED",r.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",r.JOB_STATE_UPDATING="JOB_STATE_UPDATING",r.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Md||(Md={}));var ly;(function(r){r.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",r.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",r.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",r.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",r.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",r.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",r.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ly||(ly={}));var uy;(function(r){r.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",r.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",r.BALANCED="BALANCED",r.PRIORITIZE_COST="PRIORITIZE_COST"})(uy||(uy={}));var cy;(function(r){r.UNSPECIFIED="UNSPECIFIED",r.BLOCKING="BLOCKING",r.NON_BLOCKING="NON_BLOCKING"})(cy||(cy={}));var fy;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(fy||(fy={}));var dy;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.AUTO="AUTO",r.ANY="ANY",r.NONE="NONE"})(dy||(dy={}));var hy;(function(r){r.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",r.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",r.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(hy||(hy={}));var my;(function(r){r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE"})(my||(my={}));var py;(function(r){r.DONT_ALLOW="DONT_ALLOW",r.ALLOW_ADULT="ALLOW_ADULT",r.ALLOW_ALL="ALLOW_ALL"})(py||(py={}));var gy;(function(r){r.auto="auto",r.en="en",r.ja="ja",r.ko="ko",r.hi="hi"})(gy||(gy={}));var yy;(function(r){r.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",r.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",r.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",r.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",r.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(yy||(yy={}));var vy;(function(r){r.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",r.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",r.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",r.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(vy||(vy={}));var _y;(function(r){r.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",r.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",r.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",r.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(_y||(_y={}));var Ty;(function(r){r.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",r.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",r.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",r.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",r.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",r.EDIT_MODE_STYLE="EDIT_MODE_STYLE",r.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",r.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ty||(Ty={}));var Cy;(function(r){r.STATE_UNSPECIFIED="STATE_UNSPECIFIED",r.PROCESSING="PROCESSING",r.ACTIVE="ACTIVE",r.FAILED="FAILED"})(Cy||(Cy={}));var Ey;(function(r){r.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",r.UPLOADED="UPLOADED",r.GENERATED="GENERATED"})(Ey||(Ey={}));var Sy;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.VIDEO="VIDEO",r.AUDIO="AUDIO",r.DOCUMENT="DOCUMENT"})(Sy||(Sy={}));var Ay;(function(r){r.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",r.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",r.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ay||(Ay={}));var by;(function(r){r.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",r.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",r.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(by||(by={}));var wy;(function(r){r.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",r.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",r.NO_INTERRUPTION="NO_INTERRUPTION"})(wy||(wy={}));var My;(function(r){r.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",r.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",r.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(My||(My={}));var xy;(function(r){r.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",r.SILENT="SILENT",r.WHEN_IDLE="WHEN_IDLE",r.INTERRUPT="INTERRUPT"})(xy||(xy={}));var Ry;(function(r){r.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",r.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",r.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",r.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",r.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",r.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",r.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",r.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",r.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",r.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",r.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",r.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",r.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ry||(Ry={}));var ea;(function(r){r.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",r.PLAY="PLAY",r.PAUSE="PAUSE",r.STOP="STOP",r.RESET_CONTEXT="RESET_CONTEXT"})(ea||(ea={}));class As{get text(){var e,t,o,a,l,h,y,v;if(((a=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",T=!1;const b=[];for(const w of(v=(y=(h=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||h===void 0?void 0:h.content)===null||y===void 0?void 0:y.parts)!==null&&v!==void 0?v:[]){for(const[D,U]of Object.entries(w))D!=="text"&&D!=="thought"&&(U!==null||U!==void 0)&&b.push(D);if(typeof w.text=="string"){if(typeof w.thought=="boolean"&&w.thought)continue;T=!0,m+=w.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),T?m:void 0}get data(){var e,t,o,a,l,h,y,v;if(((a=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const T=[];for(const b of(v=(y=(h=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||h===void 0?void 0:h.content)===null||y===void 0?void 0:y.parts)!==null&&v!==void 0?v:[]){for(const[w,D]of Object.entries(b))w!=="inlineData"&&(D!==null||D!==void 0)&&T.push(w);b.inlineData&&typeof b.inlineData.data=="string"&&(m+=atob(b.inlineData.data))}return T.length>0&&console.warn(`there are non-data parts ${T} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,t,o,a,l,h,y,v;if(((a=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(v=(y=(h=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||h===void 0?void 0:h.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(T=>T.functionCall).map(T=>T.functionCall).filter(T=>T!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,t,o,a,l,h,y,v,m;if(((a=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const T=(v=(y=(h=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||h===void 0?void 0:h.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((T==null?void 0:T.length)!==0)return(m=T==null?void 0:T[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,t,o,a,l,h,y,v,m;if(((a=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const T=(v=(y=(h=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||h===void 0?void 0:h.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((T==null?void 0:T.length)!==0)return(m=T==null?void 0:T[0])===null||m===void 0?void 0:m.output}}class Ny{}class Dy{}class RC{}class NC{}class Iy{}class Uy{}class ky{}class DC{}class Ly{}class Oy{}class Py{}class IC{}class xd{constructor(e){const t={};for(const o of e.headers.entries())t[o[0]]=o[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class UC{}class kC{}class LC{get text(){var e,t,o;let a="",l=!1;const h=[];for(const y of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[v,m]of Object.entries(y))v!=="text"&&v!=="thought"&&m!==null&&h.push(v);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;l=!0,a+=y.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?a:void 0}get data(){var e,t,o;let a="";const l=[];for(const h of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[y,v]of Object.entries(h))y!=="inlineData"&&v!==null&&l.push(y);h.inlineData&&typeof h.inlineData.data=="string"&&(a+=atob(h.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class OC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lt(r,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(r.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function $v(r,e){const t=lt(r,e);return t?t.startsWith("publishers/")&&r.isVertexAI()?`projects/${r.getProject()}/locations/${r.getLocation()}/${t}`:t.startsWith("models/")&&r.isVertexAI()?`projects/${r.getProject()}/locations/${r.getLocation()}/publishers/google/${t}`:t:""}function Zv(r,e){return Array.isArray(e)?e.map(t=>bu(r,t)):[bu(r,e)]}function bu(r,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function PC(r,e){const t=bu(r,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function VC(r,e){const t=bu(r,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Vy(r,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Kv(r,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Vy(r,t)):[Vy(r,e)]}function Rd(r){return r!=null&&typeof r=="object"&&"parts"in r&&Array.isArray(r.parts)}function qy(r){return r!=null&&typeof r=="object"&&"functionCall"in r}function By(r){return r!=null&&typeof r=="object"&&"functionResponse"in r}function Kt(r,e){if(e==null)throw new Error("ContentUnion is required");return Rd(e)?e:{role:"user",parts:Kv(r,e)}}function Jv(r,e){if(!e)return[];if(r.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const o=Kt(r,t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(r.isVertexAI()){const t=Kt(r,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Kt(r,t)):[Kt(r,e)]}function Vn(r,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(qy(e)||By(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Kt(r,e)]}const t=[],o=[],a=Rd(e[0]);for(const l of e){const h=Rd(l);if(h!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(h)t.push(l);else{if(qy(l)||By(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(l)}}return a||t.push({role:"user",parts:Kv(r,o)}),t}const qC=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),zy=AC(["string","number","integer","object","array","boolean","null"]),BC=CC([zy,ws(zy)]);function zC(r=!0){const e=SC(()=>{const t=TC({type:BC.optional(),format:er().optional(),title:er().optional(),description:er().optional(),default:Kg().optional(),items:e.optional(),minItems:Wr.string().optional(),maxItems:Wr.string().optional(),enum:ws(Kg()).optional(),properties:EC(er(),e).optional(),required:ws(er()).optional(),minProperties:Wr.string().optional(),maxProperties:Wr.string().optional(),propertyOrdering:ws(er()).optional(),minimum:Zg().optional(),maximum:Zg().optional(),minLength:Wr.string().optional(),maxLength:Wr.string().optional(),pattern:er().optional(),anyOf:ws(e).optional(),additionalProperties:_C().optional()});return r?t.strict():t});return e}function GC(r,e){r.includes("null")&&(e.nullable=!0);const t=r.filter(o=>o!=="null");if(t.length===1)e.type=Object.values(Wn).includes(t[0].toUpperCase())?t[0].toUpperCase():Wn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of t)e.anyOf.push({type:Object.values(Wn).includes(o.toUpperCase())?o.toUpperCase():Wn.TYPE_UNSPECIFIED})}}function ta(r){const e={},t=["items"],o=["anyOf"],a=["properties"];if(r.type&&r.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=r.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,r=l[1]):l[1].type==="null"&&(e.nullable=!0,r=l[0])),r.type instanceof Array&&GC(r.type,e);for(const[h,y]of Object.entries(r))if(y!=null)if(h=="type"){if(y==="null")throw new Error("type: null can not be the only possible type for the field.");if(y instanceof Array)continue;e.type=Object.values(Wn).includes(y.toUpperCase())?y.toUpperCase():Wn.TYPE_UNSPECIFIED}else if(t.includes(h))e[h]=ta(y);else if(o.includes(h)){const v=[];for(const m of y){if(m.type=="null"){e.nullable=!0;continue}v.push(ta(m))}e[h]=v}else if(a.includes(h)){const v={};for(const[m,T]of Object.entries(y))v[m]=ta(T);e[h]=v}else{if(h==="additionalProperties")continue;e[h]=y}return e}function wu(r,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=zC().parse(e);return ta(t)}else return ta(e)}function Qv(r,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Jd(r,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function ks(r,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=wu(r,t.parameters)),t.response&&(t.response=wu(r,t.response));return e}function Ls(r,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of e)t.push(o);return t}function HC(r,e,t,o=1){const a=!e.startsWith(`${t}/`)&&e.split("/").length===o;return r.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${r.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${r.getProject()}/locations/${r.getLocation()}/${e}`:a?`projects/${r.getProject()}/locations/${r.getLocation()}/${t}/${e}`:e:a?`${t}/${e}`:e}function xo(r,e){if(typeof e!="string")throw new Error("name must be a string");return HC(r,e,"cachedContents")}function Xv(r,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Ro(r,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function FC(r){return r!=null&&typeof r=="object"&&"name"in r}function YC(r){return r!=null&&typeof r=="object"&&"video"in r}function $C(r){return r!=null&&typeof r=="object"&&"uri"in r}function Wv(r,e){var t;let o;if(FC(e)&&(o=e.name),!($C(e)&&(o=e.uri,o===void 0))&&!(YC(e)&&(o=(t=e.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof e=="string"&&(o=e),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const l=o.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${o}`);o=l[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function jv(r,e){let t;return r.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function e_(r,e){for(const t of["models","tunedModels","publisherModels"])if(ZC(e,t))return e[t];return[]}function ZC(r,e){return r!==null&&typeof r=="object"&&e in r}function KC(r,e={}){const t=r,o={name:t.name,description:t.description,parameters:ta(ku(t.inputSchema))};return e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function JC(r,e={}){const t=[],o=new Set;for(const a of r){const l=a.name;if(o.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);o.add(l);const h=KC(a,e);h.functionDeclarations&&t.push(...h.functionDeclarations)}return{functionDeclarations:t}}function QC(r){const e=[];for(const t of r)e.push(ku(t));return e}function XC(r){const e={};for(const[t,o]of Object.entries(r)){const a=o;e[t]=ku(a)}return e}function ku(r){const e=new Set(["items"]),t=new Set(["anyOf"]),o=new Set(["properties"]),a={};for(const[l,h]of Object.entries(r))if(e.has(l))a[l]=ku(h);else if(t.has(l))a[l]=QC(h);else if(o.has(l))a[l]=XC(h);else if(l==="type"){const y=h.toUpperCase();a[l]=Object.values(Wn).includes(y)?y:Wn.TYPE_UNSPECIFIED}else qC.has(l)&&(a[l]=h);return a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WC(r,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const a=c(e,["endOffset"]);a!=null&&f(t,["endOffset"],a);const l=c(e,["startOffset"]);return l!=null&&f(t,["startOffset"],l),t}function jC(r,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["data"]);o!=null&&f(t,["data"],o);const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function eE(r,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function tE(r,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],WC(r,o));const a=c(e,["thought"]);a!=null&&f(t,["thought"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],jC(r,l));const h=c(e,["fileData"]);h!=null&&f(t,["fileData"],eE(r,h));const y=c(e,["thoughtSignature"]);y!=null&&f(t,["thoughtSignature"],y);const v=c(e,["codeExecutionResult"]);v!=null&&f(t,["codeExecutionResult"],v);const m=c(e,["executableCode"]);m!=null&&f(t,["executableCode"],m);const T=c(e,["functionCall"]);T!=null&&f(t,["functionCall"],T);const b=c(e,["functionResponse"]);b!=null&&f(t,["functionResponse"],b);const w=c(e,["text"]);return w!=null&&f(t,["text"],w),t}function Gy(r,e){const t={},o=c(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(h=>tE(r,h))),f(t,["parts"],l)}const a=c(e,["role"]);return a!=null&&f(t,["role"],a),t}function nE(r,e){const t={},o=c(e,["behavior"]);o!=null&&f(t,["behavior"],o);const a=c(e,["description"]);a!=null&&f(t,["description"],a);const l=c(e,["name"]);l!=null&&f(t,["name"],l);const h=c(e,["parameters"]);h!=null&&f(t,["parameters"],h);const y=c(e,["response"]);return y!=null&&f(t,["response"],y),t}function iE(r,e){const t={},o=c(e,["startTime"]);o!=null&&f(t,["startTime"],o);const a=c(e,["endTime"]);return a!=null&&f(t,["endTime"],a),t}function oE(r,e){const t={},o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],iE(r,o)),t}function rE(r,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const a=c(e,["dynamicThreshold"]);return a!=null&&f(t,["dynamicThreshold"],a),t}function aE(r,e){const t={},o=c(e,["dynamicRetrievalConfig"]);return o!=null&&f(t,["dynamicRetrievalConfig"],rE(r,o)),t}function sE(){return{}}function lE(r,e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(m=>nE(r,m))),f(t,["functionDeclarations"],v)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=c(e,["googleSearch"]);a!=null&&f(t,["googleSearch"],oE(r,a));const l=c(e,["googleSearchRetrieval"]);if(l!=null&&f(t,["googleSearchRetrieval"],aE(r,l)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&f(t,["urlContext"],sE());const y=c(e,["codeExecution"]);return y!=null&&f(t,["codeExecution"],y),t}function uE(r,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const a=c(e,["allowedFunctionNames"]);return a!=null&&f(t,["allowedFunctionNames"],a),t}function cE(r,e){const t={},o=c(e,["latitude"]);o!=null&&f(t,["latitude"],o);const a=c(e,["longitude"]);return a!=null&&f(t,["longitude"],a),t}function fE(r,e){const t={},o=c(e,["latLng"]);o!=null&&f(t,["latLng"],cE(r,o));const a=c(e,["languageCode"]);return a!=null&&f(t,["languageCode"],a),t}function dE(r,e){const t={},o=c(e,["functionCallingConfig"]);o!=null&&f(t,["functionCallingConfig"],uE(r,o));const a=c(e,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],fE(r,a)),t}function hE(r,e,t){const o={},a=c(e,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const l=c(e,["expireTime"]);t!==void 0&&l!=null&&f(t,["expireTime"],l);const h=c(e,["displayName"]);t!==void 0&&h!=null&&f(t,["displayName"],h);const y=c(e,["contents"]);if(t!==void 0&&y!=null){let b=Vn(r,y);Array.isArray(b)&&(b=b.map(w=>Gy(r,w))),f(t,["contents"],b)}const v=c(e,["systemInstruction"]);t!==void 0&&v!=null&&f(t,["systemInstruction"],Gy(r,Kt(r,v)));const m=c(e,["tools"]);if(t!==void 0&&m!=null){let b=m;Array.isArray(b)&&(b=b.map(w=>lE(r,w))),f(t,["tools"],b)}const T=c(e,["toolConfig"]);if(t!==void 0&&T!=null&&f(t,["toolConfig"],dE(r,T)),c(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function mE(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["model"],$v(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],hE(r,a,t)),t}function pE(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","name"],xo(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],a),t}function gE(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","name"],xo(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],a),t}function yE(r,e,t){const o={},a=c(e,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const l=c(e,["expireTime"]);return t!==void 0&&l!=null&&f(t,["expireTime"],l),o}function vE(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","name"],xo(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],yE(r,a,t)),t}function _E(r,e,t){const o={},a=c(e,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const l=c(e,["pageToken"]);return t!==void 0&&l!=null&&f(t,["_query","pageToken"],l),o}function TE(r,e){const t={},o=c(e,["config"]);return o!=null&&f(t,["config"],_E(r,o,t)),t}function CE(r,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const a=c(e,["endOffset"]);a!=null&&f(t,["endOffset"],a);const l=c(e,["startOffset"]);return l!=null&&f(t,["startOffset"],l),t}function EE(r,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const a=c(e,["data"]);a!=null&&f(t,["data"],a);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function SE(r,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const a=c(e,["fileUri"]);a!=null&&f(t,["fileUri"],a);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function AE(r,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],CE(r,o));const a=c(e,["thought"]);a!=null&&f(t,["thought"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],EE(r,l));const h=c(e,["fileData"]);h!=null&&f(t,["fileData"],SE(r,h));const y=c(e,["thoughtSignature"]);y!=null&&f(t,["thoughtSignature"],y);const v=c(e,["codeExecutionResult"]);v!=null&&f(t,["codeExecutionResult"],v);const m=c(e,["executableCode"]);m!=null&&f(t,["executableCode"],m);const T=c(e,["functionCall"]);T!=null&&f(t,["functionCall"],T);const b=c(e,["functionResponse"]);b!=null&&f(t,["functionResponse"],b);const w=c(e,["text"]);return w!=null&&f(t,["text"],w),t}function Hy(r,e){const t={},o=c(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(h=>AE(r,h))),f(t,["parts"],l)}const a=c(e,["role"]);return a!=null&&f(t,["role"],a),t}function bE(r,e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(e,["description"]);o!=null&&f(t,["description"],o);const a=c(e,["name"]);a!=null&&f(t,["name"],a);const l=c(e,["parameters"]);l!=null&&f(t,["parameters"],l);const h=c(e,["response"]);return h!=null&&f(t,["response"],h),t}function wE(r,e){const t={},o=c(e,["startTime"]);o!=null&&f(t,["startTime"],o);const a=c(e,["endTime"]);return a!=null&&f(t,["endTime"],a),t}function ME(r,e){const t={},o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],wE(r,o)),t}function xE(r,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const a=c(e,["dynamicThreshold"]);return a!=null&&f(t,["dynamicThreshold"],a),t}function RE(r,e){const t={},o=c(e,["dynamicRetrievalConfig"]);return o!=null&&f(t,["dynamicRetrievalConfig"],xE(r,o)),t}function NE(){return{}}function DE(r,e){const t={},o=c(e,["apiKeyString"]);return o!=null&&f(t,["apiKeyString"],o),t}function IE(r,e){const t={},o=c(e,["apiKeyConfig"]);o!=null&&f(t,["apiKeyConfig"],DE(r,o));const a=c(e,["authType"]);a!=null&&f(t,["authType"],a);const l=c(e,["googleServiceAccountConfig"]);l!=null&&f(t,["googleServiceAccountConfig"],l);const h=c(e,["httpBasicAuthConfig"]);h!=null&&f(t,["httpBasicAuthConfig"],h);const y=c(e,["oauthConfig"]);y!=null&&f(t,["oauthConfig"],y);const v=c(e,["oidcConfig"]);return v!=null&&f(t,["oidcConfig"],v),t}function UE(r,e){const t={},o=c(e,["authConfig"]);return o!=null&&f(t,["authConfig"],IE(r,o)),t}function kE(){return{}}function LE(r,e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let b=o;Array.isArray(b)&&(b=b.map(w=>bE(r,w))),f(t,["functionDeclarations"],b)}const a=c(e,["retrieval"]);a!=null&&f(t,["retrieval"],a);const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],ME(r,l));const h=c(e,["googleSearchRetrieval"]);h!=null&&f(t,["googleSearchRetrieval"],RE(r,h)),c(e,["enterpriseWebSearch"])!=null&&f(t,["enterpriseWebSearch"],NE());const v=c(e,["googleMaps"]);v!=null&&f(t,["googleMaps"],UE(r,v)),c(e,["urlContext"])!=null&&f(t,["urlContext"],kE());const T=c(e,["codeExecution"]);return T!=null&&f(t,["codeExecution"],T),t}function OE(r,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const a=c(e,["allowedFunctionNames"]);return a!=null&&f(t,["allowedFunctionNames"],a),t}function PE(r,e){const t={},o=c(e,["latitude"]);o!=null&&f(t,["latitude"],o);const a=c(e,["longitude"]);return a!=null&&f(t,["longitude"],a),t}function VE(r,e){const t={},o=c(e,["latLng"]);o!=null&&f(t,["latLng"],PE(r,o));const a=c(e,["languageCode"]);return a!=null&&f(t,["languageCode"],a),t}function qE(r,e){const t={},o=c(e,["functionCallingConfig"]);o!=null&&f(t,["functionCallingConfig"],OE(r,o));const a=c(e,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],VE(r,a)),t}function BE(r,e,t){const o={},a=c(e,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const l=c(e,["expireTime"]);t!==void 0&&l!=null&&f(t,["expireTime"],l);const h=c(e,["displayName"]);t!==void 0&&h!=null&&f(t,["displayName"],h);const y=c(e,["contents"]);if(t!==void 0&&y!=null){let w=Vn(r,y);Array.isArray(w)&&(w=w.map(D=>Hy(r,D))),f(t,["contents"],w)}const v=c(e,["systemInstruction"]);t!==void 0&&v!=null&&f(t,["systemInstruction"],Hy(r,Kt(r,v)));const m=c(e,["tools"]);if(t!==void 0&&m!=null){let w=m;Array.isArray(w)&&(w=w.map(D=>LE(r,D))),f(t,["tools"],w)}const T=c(e,["toolConfig"]);t!==void 0&&T!=null&&f(t,["toolConfig"],qE(r,T));const b=c(e,["kmsKeyName"]);return t!==void 0&&b!=null&&f(t,["encryption_spec","kmsKeyName"],b),o}function zE(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["model"],$v(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],BE(r,a,t)),t}function GE(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","name"],xo(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],a),t}function HE(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","name"],xo(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],a),t}function FE(r,e,t){const o={},a=c(e,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const l=c(e,["expireTime"]);return t!==void 0&&l!=null&&f(t,["expireTime"],l),o}function YE(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","name"],xo(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],FE(r,a,t)),t}function $E(r,e,t){const o={},a=c(e,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const l=c(e,["pageToken"]);return t!==void 0&&l!=null&&f(t,["_query","pageToken"],l),o}function ZE(r,e){const t={},o=c(e,["config"]);return o!=null&&f(t,["config"],$E(r,o,t)),t}function cu(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const a=c(e,["displayName"]);a!=null&&f(t,["displayName"],a);const l=c(e,["model"]);l!=null&&f(t,["model"],l);const h=c(e,["createTime"]);h!=null&&f(t,["createTime"],h);const y=c(e,["updateTime"]);y!=null&&f(t,["updateTime"],y);const v=c(e,["expireTime"]);v!=null&&f(t,["expireTime"],v);const m=c(e,["usageMetadata"]);return m!=null&&f(t,["usageMetadata"],m),t}function KE(){return{}}function JE(r,e){const t={},o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const a=c(e,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(h=>cu(r,h))),f(t,["cachedContents"],l)}return t}function fu(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const a=c(e,["displayName"]);a!=null&&f(t,["displayName"],a);const l=c(e,["model"]);l!=null&&f(t,["model"],l);const h=c(e,["createTime"]);h!=null&&f(t,["createTime"],h);const y=c(e,["updateTime"]);y!=null&&f(t,["updateTime"],y);const v=c(e,["expireTime"]);v!=null&&f(t,["expireTime"],v);const m=c(e,["usageMetadata"]);return m!=null&&f(t,["usageMetadata"],m),t}function QE(){return{}}function XE(r,e){const t={},o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const a=c(e,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(h=>fu(r,h))),f(t,["cachedContents"],l)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var da;(function(r){r.PAGED_ITEM_BATCH_JOBS="batchJobs",r.PAGED_ITEM_MODELS="models",r.PAGED_ITEM_TUNING_JOBS="tuningJobs",r.PAGED_ITEM_FILES="files",r.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(da||(da={}));class Lu{constructor(e,t,o,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,o,a)}init(e,t,o){var a,l;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let h={config:{}};o?typeof o=="object"?h=Object.assign({},o):h=o:h={config:{}},h.config&&(h.config.pageToken=t.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(l=(a=h.config)===null||a===void 0?void 0:a.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WE extends ga{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Lu(da.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(t),t)}async create(e){var t,o,a,l;let h,y="",v={};if(this.apiClient.isVertexAI()){const m=zE(this.apiClient,e);return y=Me("cachedContents",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(T=>T.json()),h.then(T=>fu(this.apiClient,T))}else{const m=mE(this.apiClient,e);return y=Me("cachedContents",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),h.then(T=>cu(this.apiClient,T))}}async get(e){var t,o,a,l;let h,y="",v={};if(this.apiClient.isVertexAI()){const m=GE(this.apiClient,e);return y=Me("{name}",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(T=>T.json()),h.then(T=>fu(this.apiClient,T))}else{const m=pE(this.apiClient,e);return y=Me("{name}",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),h.then(T=>cu(this.apiClient,T))}}async delete(e){var t,o,a,l;let h,y="",v={};if(this.apiClient.isVertexAI()){const m=HE(this.apiClient,e);return y=Me("{name}",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(T=>T.json()),h.then(()=>{const T=QE(),b=new Oy;return Object.assign(b,T),b})}else{const m=gE(this.apiClient,e);return y=Me("{name}",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),h.then(()=>{const T=KE(),b=new Oy;return Object.assign(b,T),b})}}async update(e){var t,o,a,l;let h,y="",v={};if(this.apiClient.isVertexAI()){const m=YE(this.apiClient,e);return y=Me("{name}",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(T=>T.json()),h.then(T=>fu(this.apiClient,T))}else{const m=vE(this.apiClient,e);return y=Me("{name}",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),h.then(T=>cu(this.apiClient,T))}}async listInternal(e){var t,o,a,l;let h,y="",v={};if(this.apiClient.isVertexAI()){const m=ZE(this.apiClient,e);return y=Me("cachedContents",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(T=>T.json()),h.then(T=>{const b=XE(this.apiClient,T),w=new Py;return Object.assign(w,b),w})}else{const m=TE(this.apiClient,e);return y=Me("cachedContents",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),h.then(T=>{const b=JE(this.apiClient,T),w=new Py;return Object.assign(w,b),w})}}}function Fy(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],o=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ct(r){return this instanceof ct?(this.v=r,this):new ct(r)}function na(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(r,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",h),a[Symbol.asyncIterator]=function(){return this},a;function h(D){return function(U){return Promise.resolve(U).then(D,b)}}function y(D,U){o[D]&&(a[D]=function(H){return new Promise(function($,X){l.push([D,H,$,X])>1||v(D,H)})},U&&(a[D]=U(a[D])))}function v(D,U){try{m(o[D](U))}catch(H){w(l[0][3],H)}}function m(D){D.value instanceof ct?Promise.resolve(D.value.v).then(T,b):w(l[0][2],D)}function T(D){v("next",D)}function b(D){v("throw",D)}function w(D,U){D(U),l.shift(),l.length&&v(l[0][0],l[0][1])}}function Ms(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Fy=="function"?Fy(r):r[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(l){t[l]=r[l]&&function(h){return new Promise(function(y,v){h=r[l](h),a(y,v,h.done,h.value)})}}function a(l,h,y,v){Promise.resolve(v).then(function(m){l({value:m,done:y})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jE(r){var e;if(r.candidates==null||r.candidates.length===0)return!1;const t=(e=r.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:t_(t)}function t_(r){if(r.parts===void 0||r.parts.length===0)return!1;for(const e of r.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function eS(r){if(r.length!==0){for(const e of r)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Yy(r){if(r===void 0||r.length===0)return[];const e=[],t=r.length;let o=0;for(;o<t;)if(r[o].role==="user")e.push(r[o]),o++;else{const a=[];let l=!0;for(;o<t&&r[o].role==="model";)a.push(r[o]),l&&!t_(r[o])&&(l=!1),o++;l?e.push(...a):e.pop()}return e}class tS{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new nS(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class nS{constructor(e,t,o,a={},l=[]){this.apiClient=e,this.modelsModule=t,this.model=o,this.config=a,this.history=l,this.sendPromise=Promise.resolve(),eS(l)}async sendMessage(e){var t;await this.sendPromise;const o=Kt(this.apiClient,e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var l,h,y;const v=await a,m=(h=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||h===void 0?void 0:h.content,T=v.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let w=[];T!=null&&(w=(y=T.slice(b))!==null&&y!==void 0?y:[]);const D=m?[m]:[];this.recordHistory(o,D,w)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var t;await this.sendPromise;const o=Kt(this.apiClient,e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const l=await a;return this.processStreamResponse(l,o)}getHistory(e=!1){const t=e?Yy(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var o,a;return na(this,arguments,function*(){var h,y,v,m;const T=[];try{for(var b=!0,w=Ms(e),D;D=yield ct(w.next()),h=D.done,!h;b=!0){m=D.value,b=!1;const U=m;if(jE(U)){const H=(a=(o=U.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content;H!==void 0&&T.push(H)}yield yield ct(U)}}catch(U){y={error:U}}finally{try{!b&&!h&&(v=w.return)&&(yield ct(v.call(w)))}finally{if(y)throw y.error}}this.recordHistory(t,T)})}recordHistory(e,t,o){let a=[];t.length>0&&t.every(l=>l.role!==void 0)?a=t:a.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Yy(o)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iS(r,e,t){const o={},a=c(e,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const l=c(e,["pageToken"]);return t!==void 0&&l!=null&&f(t,["_query","pageToken"],l),o}function oS(r,e){const t={},o=c(e,["config"]);return o!=null&&f(t,["config"],iS(r,o,t)),t}function rS(r,e){const t={},o=c(e,["details"]);o!=null&&f(t,["details"],o);const a=c(e,["message"]);a!=null&&f(t,["message"],a);const l=c(e,["code"]);return l!=null&&f(t,["code"],l),t}function aS(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const a=c(e,["displayName"]);a!=null&&f(t,["displayName"],a);const l=c(e,["mimeType"]);l!=null&&f(t,["mimeType"],l);const h=c(e,["sizeBytes"]);h!=null&&f(t,["sizeBytes"],h);const y=c(e,["createTime"]);y!=null&&f(t,["createTime"],y);const v=c(e,["expirationTime"]);v!=null&&f(t,["expirationTime"],v);const m=c(e,["updateTime"]);m!=null&&f(t,["updateTime"],m);const T=c(e,["sha256Hash"]);T!=null&&f(t,["sha256Hash"],T);const b=c(e,["uri"]);b!=null&&f(t,["uri"],b);const w=c(e,["downloadUri"]);w!=null&&f(t,["downloadUri"],w);const D=c(e,["state"]);D!=null&&f(t,["state"],D);const U=c(e,["source"]);U!=null&&f(t,["source"],U);const H=c(e,["videoMetadata"]);H!=null&&f(t,["videoMetadata"],H);const $=c(e,["error"]);return $!=null&&f(t,["error"],rS(r,$)),t}function sS(r,e){const t={},o=c(e,["file"]);o!=null&&f(t,["file"],aS(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],a),t}function lS(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","file"],Wv(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],a),t}function uS(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","file"],Wv(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],a),t}function cS(r,e){const t={},o=c(e,["details"]);o!=null&&f(t,["details"],o);const a=c(e,["message"]);a!=null&&f(t,["message"],a);const l=c(e,["code"]);return l!=null&&f(t,["code"],l),t}function Nd(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const a=c(e,["displayName"]);a!=null&&f(t,["displayName"],a);const l=c(e,["mimeType"]);l!=null&&f(t,["mimeType"],l);const h=c(e,["sizeBytes"]);h!=null&&f(t,["sizeBytes"],h);const y=c(e,["createTime"]);y!=null&&f(t,["createTime"],y);const v=c(e,["expirationTime"]);v!=null&&f(t,["expirationTime"],v);const m=c(e,["updateTime"]);m!=null&&f(t,["updateTime"],m);const T=c(e,["sha256Hash"]);T!=null&&f(t,["sha256Hash"],T);const b=c(e,["uri"]);b!=null&&f(t,["uri"],b);const w=c(e,["downloadUri"]);w!=null&&f(t,["downloadUri"],w);const D=c(e,["state"]);D!=null&&f(t,["state"],D);const U=c(e,["source"]);U!=null&&f(t,["source"],U);const H=c(e,["videoMetadata"]);H!=null&&f(t,["videoMetadata"],H);const $=c(e,["error"]);return $!=null&&f(t,["error"],cS(r,$)),t}function fS(r,e){const t={},o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const a=c(e,["files"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(h=>Nd(r,h))),f(t,["files"],l)}return t}function dS(){return{}}function hS(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mS extends ga{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Lu(da.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>Nd(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,o;let a,l="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=oS(this.apiClient,e);return l=Me("files",y._url),h=y._query,delete y.config,delete y._url,delete y._query,a=this.apiClient.request({path:l,queryParams:h,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>{const m=fS(this.apiClient,v),T=new IC;return Object.assign(T,m),T})}}async createInternal(e){var t,o;let a,l="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=sS(this.apiClient,e);return l=Me("upload/v1beta/files",y._url),h=y._query,delete y.config,delete y._url,delete y._query,a=this.apiClient.request({path:l,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(()=>{const v=dS(),m=new UC;return Object.assign(m,v),m})}}async get(e){var t,o;let a,l="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=lS(this.apiClient,e);return l=Me("files/{file}",y._url),h=y._query,delete y.config,delete y._url,delete y._query,a=this.apiClient.request({path:l,queryParams:h,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>Nd(this.apiClient,v))}}async delete(e){var t,o;let a,l="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=uS(this.apiClient,e);return l=Me("files/{file}",y._url),h=y._query,delete y.config,delete y._url,delete y._query,a=this.apiClient.request({path:l,queryParams:h,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(()=>{const v=hS(),m=new kC;return Object.assign(m,v),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pS(r,e){const t={},o=c(e,["voiceName"]);return o!=null&&f(t,["voiceName"],o),t}function gS(r,e){const t={},o=c(e,["voiceName"]);return o!=null&&f(t,["voiceName"],o),t}function n_(r,e){const t={},o=c(e,["prebuiltVoiceConfig"]);return o!=null&&f(t,["prebuiltVoiceConfig"],pS(r,o)),t}function yS(r,e){const t={},o=c(e,["prebuiltVoiceConfig"]);return o!=null&&f(t,["prebuiltVoiceConfig"],gS(r,o)),t}function vS(r,e){const t={},o=c(e,["speaker"]);o!=null&&f(t,["speaker"],o);const a=c(e,["voiceConfig"]);return a!=null&&f(t,["voiceConfig"],n_(r,a)),t}function _S(r,e){const t={},o=c(e,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>vS(r,l))),f(t,["speakerVoiceConfigs"],a)}return t}function TS(r,e){const t={},o=c(e,["voiceConfig"]);o!=null&&f(t,["voiceConfig"],n_(r,o));const a=c(e,["multiSpeakerVoiceConfig"]);a!=null&&f(t,["multiSpeakerVoiceConfig"],_S(r,a));const l=c(e,["languageCode"]);return l!=null&&f(t,["languageCode"],l),t}function CS(r,e){const t={},o=c(e,["voiceConfig"]);if(o!=null&&f(t,["voiceConfig"],yS(r,o)),c(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=c(e,["languageCode"]);return a!=null&&f(t,["languageCode"],a),t}function ES(r,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const a=c(e,["endOffset"]);a!=null&&f(t,["endOffset"],a);const l=c(e,["startOffset"]);return l!=null&&f(t,["startOffset"],l),t}function SS(r,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const a=c(e,["endOffset"]);a!=null&&f(t,["endOffset"],a);const l=c(e,["startOffset"]);return l!=null&&f(t,["startOffset"],l),t}function AS(r,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["data"]);o!=null&&f(t,["data"],o);const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function bS(r,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const a=c(e,["data"]);a!=null&&f(t,["data"],a);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function wS(r,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function MS(r,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const a=c(e,["fileUri"]);a!=null&&f(t,["fileUri"],a);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function xS(r,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],ES(r,o));const a=c(e,["thought"]);a!=null&&f(t,["thought"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],AS(r,l));const h=c(e,["fileData"]);h!=null&&f(t,["fileData"],wS(r,h));const y=c(e,["thoughtSignature"]);y!=null&&f(t,["thoughtSignature"],y);const v=c(e,["codeExecutionResult"]);v!=null&&f(t,["codeExecutionResult"],v);const m=c(e,["executableCode"]);m!=null&&f(t,["executableCode"],m);const T=c(e,["functionCall"]);T!=null&&f(t,["functionCall"],T);const b=c(e,["functionResponse"]);b!=null&&f(t,["functionResponse"],b);const w=c(e,["text"]);return w!=null&&f(t,["text"],w),t}function RS(r,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],SS(r,o));const a=c(e,["thought"]);a!=null&&f(t,["thought"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],bS(r,l));const h=c(e,["fileData"]);h!=null&&f(t,["fileData"],MS(r,h));const y=c(e,["thoughtSignature"]);y!=null&&f(t,["thoughtSignature"],y);const v=c(e,["codeExecutionResult"]);v!=null&&f(t,["codeExecutionResult"],v);const m=c(e,["executableCode"]);m!=null&&f(t,["executableCode"],m);const T=c(e,["functionCall"]);T!=null&&f(t,["functionCall"],T);const b=c(e,["functionResponse"]);b!=null&&f(t,["functionResponse"],b);const w=c(e,["text"]);return w!=null&&f(t,["text"],w),t}function NS(r,e){const t={},o=c(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(h=>xS(r,h))),f(t,["parts"],l)}const a=c(e,["role"]);return a!=null&&f(t,["role"],a),t}function DS(r,e){const t={},o=c(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(h=>RS(r,h))),f(t,["parts"],l)}const a=c(e,["role"]);return a!=null&&f(t,["role"],a),t}function IS(r,e){const t={},o=c(e,["behavior"]);o!=null&&f(t,["behavior"],o);const a=c(e,["description"]);a!=null&&f(t,["description"],a);const l=c(e,["name"]);l!=null&&f(t,["name"],l);const h=c(e,["parameters"]);h!=null&&f(t,["parameters"],h);const y=c(e,["response"]);return y!=null&&f(t,["response"],y),t}function US(r,e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(e,["description"]);o!=null&&f(t,["description"],o);const a=c(e,["name"]);a!=null&&f(t,["name"],a);const l=c(e,["parameters"]);l!=null&&f(t,["parameters"],l);const h=c(e,["response"]);return h!=null&&f(t,["response"],h),t}function kS(r,e){const t={},o=c(e,["startTime"]);o!=null&&f(t,["startTime"],o);const a=c(e,["endTime"]);return a!=null&&f(t,["endTime"],a),t}function LS(r,e){const t={},o=c(e,["startTime"]);o!=null&&f(t,["startTime"],o);const a=c(e,["endTime"]);return a!=null&&f(t,["endTime"],a),t}function OS(r,e){const t={},o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],kS(r,o)),t}function PS(r,e){const t={},o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],LS(r,o)),t}function VS(r,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const a=c(e,["dynamicThreshold"]);return a!=null&&f(t,["dynamicThreshold"],a),t}function qS(r,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const a=c(e,["dynamicThreshold"]);return a!=null&&f(t,["dynamicThreshold"],a),t}function BS(r,e){const t={},o=c(e,["dynamicRetrievalConfig"]);return o!=null&&f(t,["dynamicRetrievalConfig"],VS(r,o)),t}function zS(r,e){const t={},o=c(e,["dynamicRetrievalConfig"]);return o!=null&&f(t,["dynamicRetrievalConfig"],qS(r,o)),t}function GS(){return{}}function HS(r,e){const t={},o=c(e,["apiKeyString"]);return o!=null&&f(t,["apiKeyString"],o),t}function FS(r,e){const t={},o=c(e,["apiKeyConfig"]);o!=null&&f(t,["apiKeyConfig"],HS(r,o));const a=c(e,["authType"]);a!=null&&f(t,["authType"],a);const l=c(e,["googleServiceAccountConfig"]);l!=null&&f(t,["googleServiceAccountConfig"],l);const h=c(e,["httpBasicAuthConfig"]);h!=null&&f(t,["httpBasicAuthConfig"],h);const y=c(e,["oauthConfig"]);y!=null&&f(t,["oauthConfig"],y);const v=c(e,["oidcConfig"]);return v!=null&&f(t,["oidcConfig"],v),t}function YS(r,e){const t={},o=c(e,["authConfig"]);return o!=null&&f(t,["authConfig"],FS(r,o)),t}function $S(){return{}}function ZS(){return{}}function KS(r,e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(m=>IS(r,m))),f(t,["functionDeclarations"],v)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=c(e,["googleSearch"]);a!=null&&f(t,["googleSearch"],OS(r,a));const l=c(e,["googleSearchRetrieval"]);if(l!=null&&f(t,["googleSearchRetrieval"],BS(r,l)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&f(t,["urlContext"],$S());const y=c(e,["codeExecution"]);return y!=null&&f(t,["codeExecution"],y),t}function JS(r,e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let b=o;Array.isArray(b)&&(b=b.map(w=>US(r,w))),f(t,["functionDeclarations"],b)}const a=c(e,["retrieval"]);a!=null&&f(t,["retrieval"],a);const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],PS(r,l));const h=c(e,["googleSearchRetrieval"]);h!=null&&f(t,["googleSearchRetrieval"],zS(r,h)),c(e,["enterpriseWebSearch"])!=null&&f(t,["enterpriseWebSearch"],GS());const v=c(e,["googleMaps"]);v!=null&&f(t,["googleMaps"],YS(r,v)),c(e,["urlContext"])!=null&&f(t,["urlContext"],ZS());const T=c(e,["codeExecution"]);return T!=null&&f(t,["codeExecution"],T),t}function QS(r,e){const t={},o=c(e,["handle"]);if(o!=null&&f(t,["handle"],o),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function XS(r,e){const t={},o=c(e,["handle"]);o!=null&&f(t,["handle"],o);const a=c(e,["transparent"]);return a!=null&&f(t,["transparent"],a),t}function $y(){return{}}function Zy(){return{}}function WS(r,e){const t={},o=c(e,["disabled"]);o!=null&&f(t,["disabled"],o);const a=c(e,["startOfSpeechSensitivity"]);a!=null&&f(t,["startOfSpeechSensitivity"],a);const l=c(e,["endOfSpeechSensitivity"]);l!=null&&f(t,["endOfSpeechSensitivity"],l);const h=c(e,["prefixPaddingMs"]);h!=null&&f(t,["prefixPaddingMs"],h);const y=c(e,["silenceDurationMs"]);return y!=null&&f(t,["silenceDurationMs"],y),t}function jS(r,e){const t={},o=c(e,["disabled"]);o!=null&&f(t,["disabled"],o);const a=c(e,["startOfSpeechSensitivity"]);a!=null&&f(t,["startOfSpeechSensitivity"],a);const l=c(e,["endOfSpeechSensitivity"]);l!=null&&f(t,["endOfSpeechSensitivity"],l);const h=c(e,["prefixPaddingMs"]);h!=null&&f(t,["prefixPaddingMs"],h);const y=c(e,["silenceDurationMs"]);return y!=null&&f(t,["silenceDurationMs"],y),t}function eA(r,e){const t={},o=c(e,["automaticActivityDetection"]);o!=null&&f(t,["automaticActivityDetection"],WS(r,o));const a=c(e,["activityHandling"]);a!=null&&f(t,["activityHandling"],a);const l=c(e,["turnCoverage"]);return l!=null&&f(t,["turnCoverage"],l),t}function tA(r,e){const t={},o=c(e,["automaticActivityDetection"]);o!=null&&f(t,["automaticActivityDetection"],jS(r,o));const a=c(e,["activityHandling"]);a!=null&&f(t,["activityHandling"],a);const l=c(e,["turnCoverage"]);return l!=null&&f(t,["turnCoverage"],l),t}function nA(r,e){const t={},o=c(e,["targetTokens"]);return o!=null&&f(t,["targetTokens"],o),t}function iA(r,e){const t={},o=c(e,["targetTokens"]);return o!=null&&f(t,["targetTokens"],o),t}function oA(r,e){const t={},o=c(e,["triggerTokens"]);o!=null&&f(t,["triggerTokens"],o);const a=c(e,["slidingWindow"]);return a!=null&&f(t,["slidingWindow"],nA(r,a)),t}function rA(r,e){const t={},o=c(e,["triggerTokens"]);o!=null&&f(t,["triggerTokens"],o);const a=c(e,["slidingWindow"]);return a!=null&&f(t,["slidingWindow"],iA(r,a)),t}function aA(r,e){const t={},o=c(e,["proactiveAudio"]);return o!=null&&f(t,["proactiveAudio"],o),t}function sA(r,e){const t={},o=c(e,["proactiveAudio"]);return o!=null&&f(t,["proactiveAudio"],o),t}function lA(r,e,t){const o={},a=c(e,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const l=c(e,["responseModalities"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig","responseModalities"],l);const h=c(e,["temperature"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","temperature"],h);const y=c(e,["topP"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","topP"],y);const v=c(e,["topK"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","topK"],v);const m=c(e,["maxOutputTokens"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","maxOutputTokens"],m);const T=c(e,["mediaResolution"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","mediaResolution"],T);const b=c(e,["seed"]);t!==void 0&&b!=null&&f(t,["setup","generationConfig","seed"],b);const w=c(e,["speechConfig"]);t!==void 0&&w!=null&&f(t,["setup","generationConfig","speechConfig"],TS(r,Jd(r,w)));const D=c(e,["enableAffectiveDialog"]);t!==void 0&&D!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],D);const U=c(e,["systemInstruction"]);t!==void 0&&U!=null&&f(t,["setup","systemInstruction"],NS(r,Kt(r,U)));const H=c(e,["tools"]);if(t!==void 0&&H!=null){let se=Ls(r,H);Array.isArray(se)&&(se=se.map(ae=>KS(r,ks(r,ae)))),f(t,["setup","tools"],se)}const $=c(e,["sessionResumption"]);t!==void 0&&$!=null&&f(t,["setup","sessionResumption"],QS(r,$));const X=c(e,["inputAudioTranscription"]);t!==void 0&&X!=null&&f(t,["setup","inputAudioTranscription"],$y());const Q=c(e,["outputAudioTranscription"]);t!==void 0&&Q!=null&&f(t,["setup","outputAudioTranscription"],$y());const W=c(e,["realtimeInputConfig"]);t!==void 0&&W!=null&&f(t,["setup","realtimeInputConfig"],eA(r,W));const he=c(e,["contextWindowCompression"]);t!==void 0&&he!=null&&f(t,["setup","contextWindowCompression"],oA(r,he));const Y=c(e,["proactivity"]);return t!==void 0&&Y!=null&&f(t,["setup","proactivity"],aA(r,Y)),o}function uA(r,e,t){const o={},a=c(e,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const l=c(e,["responseModalities"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig","responseModalities"],l);const h=c(e,["temperature"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","temperature"],h);const y=c(e,["topP"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","topP"],y);const v=c(e,["topK"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","topK"],v);const m=c(e,["maxOutputTokens"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","maxOutputTokens"],m);const T=c(e,["mediaResolution"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","mediaResolution"],T);const b=c(e,["seed"]);t!==void 0&&b!=null&&f(t,["setup","generationConfig","seed"],b);const w=c(e,["speechConfig"]);t!==void 0&&w!=null&&f(t,["setup","generationConfig","speechConfig"],CS(r,Jd(r,w)));const D=c(e,["enableAffectiveDialog"]);t!==void 0&&D!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],D);const U=c(e,["systemInstruction"]);t!==void 0&&U!=null&&f(t,["setup","systemInstruction"],DS(r,Kt(r,U)));const H=c(e,["tools"]);if(t!==void 0&&H!=null){let se=Ls(r,H);Array.isArray(se)&&(se=se.map(ae=>JS(r,ks(r,ae)))),f(t,["setup","tools"],se)}const $=c(e,["sessionResumption"]);t!==void 0&&$!=null&&f(t,["setup","sessionResumption"],XS(r,$));const X=c(e,["inputAudioTranscription"]);t!==void 0&&X!=null&&f(t,["setup","inputAudioTranscription"],Zy());const Q=c(e,["outputAudioTranscription"]);t!==void 0&&Q!=null&&f(t,["setup","outputAudioTranscription"],Zy());const W=c(e,["realtimeInputConfig"]);t!==void 0&&W!=null&&f(t,["setup","realtimeInputConfig"],tA(r,W));const he=c(e,["contextWindowCompression"]);t!==void 0&&he!=null&&f(t,["setup","contextWindowCompression"],rA(r,he));const Y=c(e,["proactivity"]);return t!==void 0&&Y!=null&&f(t,["setup","proactivity"],sA(r,Y)),o}function cA(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["setup","model"],lt(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],lA(r,a,t)),t}function fA(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["setup","model"],lt(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],uA(r,a,t)),t}function dA(){return{}}function hA(){return{}}function mA(){return{}}function pA(){return{}}function gA(r,e){const t={},o=c(e,["media"]);o!=null&&f(t,["mediaChunks"],Zv(r,o));const a=c(e,["audio"]);a!=null&&f(t,["audio"],VC(r,a));const l=c(e,["audioStreamEnd"]);l!=null&&f(t,["audioStreamEnd"],l);const h=c(e,["video"]);h!=null&&f(t,["video"],PC(r,h));const y=c(e,["text"]);return y!=null&&f(t,["text"],y),c(e,["activityStart"])!=null&&f(t,["activityStart"],dA()),c(e,["activityEnd"])!=null&&f(t,["activityEnd"],mA()),t}function yA(r,e){const t={},o=c(e,["media"]);if(o!=null&&f(t,["mediaChunks"],Zv(r,o)),c(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const a=c(e,["audioStreamEnd"]);if(a!=null&&f(t,["audioStreamEnd"],a),c(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(c(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return c(e,["activityStart"])!=null&&f(t,["activityStart"],hA()),c(e,["activityEnd"])!=null&&f(t,["activityEnd"],pA()),t}function i_(r,e){const t={},o=c(e,["text"]);o!=null&&f(t,["text"],o);const a=c(e,["weight"]);return a!=null&&f(t,["weight"],a),t}function vA(r,e){const t={},o=c(e,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>i_(r,l))),f(t,["weightedPrompts"],a)}return t}function o_(r,e){const t={},o=c(e,["temperature"]);o!=null&&f(t,["temperature"],o);const a=c(e,["topK"]);a!=null&&f(t,["topK"],a);const l=c(e,["seed"]);l!=null&&f(t,["seed"],l);const h=c(e,["guidance"]);h!=null&&f(t,["guidance"],h);const y=c(e,["bpm"]);y!=null&&f(t,["bpm"],y);const v=c(e,["density"]);v!=null&&f(t,["density"],v);const m=c(e,["brightness"]);m!=null&&f(t,["brightness"],m);const T=c(e,["scale"]);T!=null&&f(t,["scale"],T);const b=c(e,["muteBass"]);b!=null&&f(t,["muteBass"],b);const w=c(e,["muteDrums"]);w!=null&&f(t,["muteDrums"],w);const D=c(e,["onlyBassAndDrums"]);return D!=null&&f(t,["onlyBassAndDrums"],D),t}function _A(r,e){const t={},o=c(e,["musicGenerationConfig"]);return o!=null&&f(t,["musicGenerationConfig"],o_(r,o)),t}function r_(r,e){const t={},o=c(e,["model"]);return o!=null&&f(t,["model"],o),t}function a_(r,e){const t={},o=c(e,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>i_(r,l))),f(t,["weightedPrompts"],a)}return t}function Dd(r,e){const t={},o=c(e,["setup"]);o!=null&&f(t,["setup"],r_(r,o));const a=c(e,["clientContent"]);a!=null&&f(t,["clientContent"],a_(r,a));const l=c(e,["musicGenerationConfig"]);l!=null&&f(t,["musicGenerationConfig"],o_(r,l));const h=c(e,["playbackControl"]);return h!=null&&f(t,["playbackControl"],h),t}function TA(){return{}}function CA(){return{}}function EA(r,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const a=c(e,["endOffset"]);a!=null&&f(t,["endOffset"],a);const l=c(e,["startOffset"]);return l!=null&&f(t,["startOffset"],l),t}function SA(r,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const a=c(e,["endOffset"]);a!=null&&f(t,["endOffset"],a);const l=c(e,["startOffset"]);return l!=null&&f(t,["startOffset"],l),t}function AA(r,e){const t={},o=c(e,["data"]);o!=null&&f(t,["data"],o);const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function bA(r,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const a=c(e,["data"]);a!=null&&f(t,["data"],a);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function wA(r,e){const t={},o=c(e,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function MA(r,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const a=c(e,["fileUri"]);a!=null&&f(t,["fileUri"],a);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function xA(r,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],EA(r,o));const a=c(e,["thought"]);a!=null&&f(t,["thought"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],AA(r,l));const h=c(e,["fileData"]);h!=null&&f(t,["fileData"],wA(r,h));const y=c(e,["thoughtSignature"]);y!=null&&f(t,["thoughtSignature"],y);const v=c(e,["codeExecutionResult"]);v!=null&&f(t,["codeExecutionResult"],v);const m=c(e,["executableCode"]);m!=null&&f(t,["executableCode"],m);const T=c(e,["functionCall"]);T!=null&&f(t,["functionCall"],T);const b=c(e,["functionResponse"]);b!=null&&f(t,["functionResponse"],b);const w=c(e,["text"]);return w!=null&&f(t,["text"],w),t}function RA(r,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],SA(r,o));const a=c(e,["thought"]);a!=null&&f(t,["thought"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],bA(r,l));const h=c(e,["fileData"]);h!=null&&f(t,["fileData"],MA(r,h));const y=c(e,["thoughtSignature"]);y!=null&&f(t,["thoughtSignature"],y);const v=c(e,["codeExecutionResult"]);v!=null&&f(t,["codeExecutionResult"],v);const m=c(e,["executableCode"]);m!=null&&f(t,["executableCode"],m);const T=c(e,["functionCall"]);T!=null&&f(t,["functionCall"],T);const b=c(e,["functionResponse"]);b!=null&&f(t,["functionResponse"],b);const w=c(e,["text"]);return w!=null&&f(t,["text"],w),t}function NA(r,e){const t={},o=c(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(h=>xA(r,h))),f(t,["parts"],l)}const a=c(e,["role"]);return a!=null&&f(t,["role"],a),t}function DA(r,e){const t={},o=c(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(h=>RA(r,h))),f(t,["parts"],l)}const a=c(e,["role"]);return a!=null&&f(t,["role"],a),t}function Ky(r,e){const t={},o=c(e,["text"]);o!=null&&f(t,["text"],o);const a=c(e,["finished"]);return a!=null&&f(t,["finished"],a),t}function Jy(r,e){const t={},o=c(e,["text"]);o!=null&&f(t,["text"],o);const a=c(e,["finished"]);return a!=null&&f(t,["finished"],a),t}function IA(r,e){const t={},o=c(e,["retrievedUrl"]);o!=null&&f(t,["retrievedUrl"],o);const a=c(e,["urlRetrievalStatus"]);return a!=null&&f(t,["urlRetrievalStatus"],a),t}function UA(r,e){const t={},o=c(e,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>IA(r,l))),f(t,["urlMetadata"],a)}return t}function kA(r,e){const t={},o=c(e,["modelTurn"]);o!=null&&f(t,["modelTurn"],NA(r,o));const a=c(e,["turnComplete"]);a!=null&&f(t,["turnComplete"],a);const l=c(e,["interrupted"]);l!=null&&f(t,["interrupted"],l);const h=c(e,["groundingMetadata"]);h!=null&&f(t,["groundingMetadata"],h);const y=c(e,["generationComplete"]);y!=null&&f(t,["generationComplete"],y);const v=c(e,["inputTranscription"]);v!=null&&f(t,["inputTranscription"],Ky(r,v));const m=c(e,["outputTranscription"]);m!=null&&f(t,["outputTranscription"],Ky(r,m));const T=c(e,["urlContextMetadata"]);return T!=null&&f(t,["urlContextMetadata"],UA(r,T)),t}function LA(r,e){const t={},o=c(e,["modelTurn"]);o!=null&&f(t,["modelTurn"],DA(r,o));const a=c(e,["turnComplete"]);a!=null&&f(t,["turnComplete"],a);const l=c(e,["interrupted"]);l!=null&&f(t,["interrupted"],l);const h=c(e,["groundingMetadata"]);h!=null&&f(t,["groundingMetadata"],h);const y=c(e,["generationComplete"]);y!=null&&f(t,["generationComplete"],y);const v=c(e,["inputTranscription"]);v!=null&&f(t,["inputTranscription"],Jy(r,v));const m=c(e,["outputTranscription"]);return m!=null&&f(t,["outputTranscription"],Jy(r,m)),t}function OA(r,e){const t={},o=c(e,["id"]);o!=null&&f(t,["id"],o);const a=c(e,["args"]);a!=null&&f(t,["args"],a);const l=c(e,["name"]);return l!=null&&f(t,["name"],l),t}function PA(r,e){const t={},o=c(e,["args"]);o!=null&&f(t,["args"],o);const a=c(e,["name"]);return a!=null&&f(t,["name"],a),t}function VA(r,e){const t={},o=c(e,["functionCalls"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>OA(r,l))),f(t,["functionCalls"],a)}return t}function qA(r,e){const t={},o=c(e,["functionCalls"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>PA(r,l))),f(t,["functionCalls"],a)}return t}function BA(r,e){const t={},o=c(e,["ids"]);return o!=null&&f(t,["ids"],o),t}function zA(r,e){const t={},o=c(e,["ids"]);return o!=null&&f(t,["ids"],o),t}function ru(r,e){const t={},o=c(e,["modality"]);o!=null&&f(t,["modality"],o);const a=c(e,["tokenCount"]);return a!=null&&f(t,["tokenCount"],a),t}function au(r,e){const t={},o=c(e,["modality"]);o!=null&&f(t,["modality"],o);const a=c(e,["tokenCount"]);return a!=null&&f(t,["tokenCount"],a),t}function GA(r,e){const t={},o=c(e,["promptTokenCount"]);o!=null&&f(t,["promptTokenCount"],o);const a=c(e,["cachedContentTokenCount"]);a!=null&&f(t,["cachedContentTokenCount"],a);const l=c(e,["responseTokenCount"]);l!=null&&f(t,["responseTokenCount"],l);const h=c(e,["toolUsePromptTokenCount"]);h!=null&&f(t,["toolUsePromptTokenCount"],h);const y=c(e,["thoughtsTokenCount"]);y!=null&&f(t,["thoughtsTokenCount"],y);const v=c(e,["totalTokenCount"]);v!=null&&f(t,["totalTokenCount"],v);const m=c(e,["promptTokensDetails"]);if(m!=null){let D=m;Array.isArray(D)&&(D=D.map(U=>ru(r,U))),f(t,["promptTokensDetails"],D)}const T=c(e,["cacheTokensDetails"]);if(T!=null){let D=T;Array.isArray(D)&&(D=D.map(U=>ru(r,U))),f(t,["cacheTokensDetails"],D)}const b=c(e,["responseTokensDetails"]);if(b!=null){let D=b;Array.isArray(D)&&(D=D.map(U=>ru(r,U))),f(t,["responseTokensDetails"],D)}const w=c(e,["toolUsePromptTokensDetails"]);if(w!=null){let D=w;Array.isArray(D)&&(D=D.map(U=>ru(r,U))),f(t,["toolUsePromptTokensDetails"],D)}return t}function HA(r,e){const t={},o=c(e,["promptTokenCount"]);o!=null&&f(t,["promptTokenCount"],o);const a=c(e,["cachedContentTokenCount"]);a!=null&&f(t,["cachedContentTokenCount"],a);const l=c(e,["candidatesTokenCount"]);l!=null&&f(t,["responseTokenCount"],l);const h=c(e,["toolUsePromptTokenCount"]);h!=null&&f(t,["toolUsePromptTokenCount"],h);const y=c(e,["thoughtsTokenCount"]);y!=null&&f(t,["thoughtsTokenCount"],y);const v=c(e,["totalTokenCount"]);v!=null&&f(t,["totalTokenCount"],v);const m=c(e,["promptTokensDetails"]);if(m!=null){let U=m;Array.isArray(U)&&(U=U.map(H=>au(r,H))),f(t,["promptTokensDetails"],U)}const T=c(e,["cacheTokensDetails"]);if(T!=null){let U=T;Array.isArray(U)&&(U=U.map(H=>au(r,H))),f(t,["cacheTokensDetails"],U)}const b=c(e,["candidatesTokensDetails"]);if(b!=null){let U=b;Array.isArray(U)&&(U=U.map(H=>au(r,H))),f(t,["responseTokensDetails"],U)}const w=c(e,["toolUsePromptTokensDetails"]);if(w!=null){let U=w;Array.isArray(U)&&(U=U.map(H=>au(r,H))),f(t,["toolUsePromptTokensDetails"],U)}const D=c(e,["trafficType"]);return D!=null&&f(t,["trafficType"],D),t}function FA(r,e){const t={},o=c(e,["timeLeft"]);return o!=null&&f(t,["timeLeft"],o),t}function YA(r,e){const t={},o=c(e,["timeLeft"]);return o!=null&&f(t,["timeLeft"],o),t}function $A(r,e){const t={},o=c(e,["newHandle"]);o!=null&&f(t,["newHandle"],o);const a=c(e,["resumable"]);a!=null&&f(t,["resumable"],a);const l=c(e,["lastConsumedClientMessageIndex"]);return l!=null&&f(t,["lastConsumedClientMessageIndex"],l),t}function ZA(r,e){const t={},o=c(e,["newHandle"]);o!=null&&f(t,["newHandle"],o);const a=c(e,["resumable"]);a!=null&&f(t,["resumable"],a);const l=c(e,["lastConsumedClientMessageIndex"]);return l!=null&&f(t,["lastConsumedClientMessageIndex"],l),t}function KA(r,e){const t={};c(e,["setupComplete"])!=null&&f(t,["setupComplete"],TA());const a=c(e,["serverContent"]);a!=null&&f(t,["serverContent"],kA(r,a));const l=c(e,["toolCall"]);l!=null&&f(t,["toolCall"],VA(r,l));const h=c(e,["toolCallCancellation"]);h!=null&&f(t,["toolCallCancellation"],BA(r,h));const y=c(e,["usageMetadata"]);y!=null&&f(t,["usageMetadata"],GA(r,y));const v=c(e,["goAway"]);v!=null&&f(t,["goAway"],FA(r,v));const m=c(e,["sessionResumptionUpdate"]);return m!=null&&f(t,["sessionResumptionUpdate"],$A(r,m)),t}function JA(r,e){const t={};c(e,["setupComplete"])!=null&&f(t,["setupComplete"],CA());const a=c(e,["serverContent"]);a!=null&&f(t,["serverContent"],LA(r,a));const l=c(e,["toolCall"]);l!=null&&f(t,["toolCall"],qA(r,l));const h=c(e,["toolCallCancellation"]);h!=null&&f(t,["toolCallCancellation"],zA(r,h));const y=c(e,["usageMetadata"]);y!=null&&f(t,["usageMetadata"],HA(r,y));const v=c(e,["goAway"]);v!=null&&f(t,["goAway"],YA(r,v));const m=c(e,["sessionResumptionUpdate"]);return m!=null&&f(t,["sessionResumptionUpdate"],ZA(r,m)),t}function QA(){return{}}function XA(r,e){const t={},o=c(e,["text"]);o!=null&&f(t,["text"],o);const a=c(e,["weight"]);return a!=null&&f(t,["weight"],a),t}function WA(r,e){const t={},o=c(e,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>XA(r,l))),f(t,["weightedPrompts"],a)}return t}function jA(r,e){const t={},o=c(e,["temperature"]);o!=null&&f(t,["temperature"],o);const a=c(e,["topK"]);a!=null&&f(t,["topK"],a);const l=c(e,["seed"]);l!=null&&f(t,["seed"],l);const h=c(e,["guidance"]);h!=null&&f(t,["guidance"],h);const y=c(e,["bpm"]);y!=null&&f(t,["bpm"],y);const v=c(e,["density"]);v!=null&&f(t,["density"],v);const m=c(e,["brightness"]);m!=null&&f(t,["brightness"],m);const T=c(e,["scale"]);T!=null&&f(t,["scale"],T);const b=c(e,["muteBass"]);b!=null&&f(t,["muteBass"],b);const w=c(e,["muteDrums"]);w!=null&&f(t,["muteDrums"],w);const D=c(e,["onlyBassAndDrums"]);return D!=null&&f(t,["onlyBassAndDrums"],D),t}function e1(r,e){const t={},o=c(e,["clientContent"]);o!=null&&f(t,["clientContent"],WA(r,o));const a=c(e,["musicGenerationConfig"]);return a!=null&&f(t,["musicGenerationConfig"],jA(r,a)),t}function t1(r,e){const t={},o=c(e,["data"]);o!=null&&f(t,["data"],o);const a=c(e,["mimeType"]);a!=null&&f(t,["mimeType"],a);const l=c(e,["sourceMetadata"]);return l!=null&&f(t,["sourceMetadata"],e1(r,l)),t}function n1(r,e){const t={},o=c(e,["audioChunks"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>t1(r,l))),f(t,["audioChunks"],a)}return t}function i1(r,e){const t={},o=c(e,["text"]);o!=null&&f(t,["text"],o);const a=c(e,["filteredReason"]);return a!=null&&f(t,["filteredReason"],a),t}function o1(r,e){const t={};c(e,["setupComplete"])!=null&&f(t,["setupComplete"],QA());const a=c(e,["serverContent"]);a!=null&&f(t,["serverContent"],n1(r,a));const l=c(e,["filteredPrompt"]);return l!=null&&f(t,["filteredPrompt"],i1(r,l)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r1(r,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const a=c(e,["endOffset"]);a!=null&&f(t,["endOffset"],a);const l=c(e,["startOffset"]);return l!=null&&f(t,["startOffset"],l),t}function a1(r,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["data"]);o!=null&&f(t,["data"],o);const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function s1(r,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function l1(r,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],r1(r,o));const a=c(e,["thought"]);a!=null&&f(t,["thought"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],a1(r,l));const h=c(e,["fileData"]);h!=null&&f(t,["fileData"],s1(r,h));const y=c(e,["thoughtSignature"]);y!=null&&f(t,["thoughtSignature"],y);const v=c(e,["codeExecutionResult"]);v!=null&&f(t,["codeExecutionResult"],v);const m=c(e,["executableCode"]);m!=null&&f(t,["executableCode"],m);const T=c(e,["functionCall"]);T!=null&&f(t,["functionCall"],T);const b=c(e,["functionResponse"]);b!=null&&f(t,["functionResponse"],b);const w=c(e,["text"]);return w!=null&&f(t,["text"],w),t}function Ou(r,e){const t={},o=c(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(h=>l1(r,h))),f(t,["parts"],l)}const a=c(e,["role"]);return a!=null&&f(t,["role"],a),t}function u1(r,e){const t={},o=c(e,["anyOf"]);o!=null&&f(t,["anyOf"],o);const a=c(e,["default"]);a!=null&&f(t,["default"],a);const l=c(e,["description"]);l!=null&&f(t,["description"],l);const h=c(e,["enum"]);h!=null&&f(t,["enum"],h);const y=c(e,["example"]);y!=null&&f(t,["example"],y);const v=c(e,["format"]);v!=null&&f(t,["format"],v);const m=c(e,["items"]);m!=null&&f(t,["items"],m);const T=c(e,["maxItems"]);T!=null&&f(t,["maxItems"],T);const b=c(e,["maxLength"]);b!=null&&f(t,["maxLength"],b);const w=c(e,["maxProperties"]);w!=null&&f(t,["maxProperties"],w);const D=c(e,["maximum"]);D!=null&&f(t,["maximum"],D);const U=c(e,["minItems"]);U!=null&&f(t,["minItems"],U);const H=c(e,["minLength"]);H!=null&&f(t,["minLength"],H);const $=c(e,["minProperties"]);$!=null&&f(t,["minProperties"],$);const X=c(e,["minimum"]);X!=null&&f(t,["minimum"],X);const Q=c(e,["nullable"]);Q!=null&&f(t,["nullable"],Q);const W=c(e,["pattern"]);W!=null&&f(t,["pattern"],W);const he=c(e,["properties"]);he!=null&&f(t,["properties"],he);const Y=c(e,["propertyOrdering"]);Y!=null&&f(t,["propertyOrdering"],Y);const se=c(e,["required"]);se!=null&&f(t,["required"],se);const ae=c(e,["title"]);ae!=null&&f(t,["title"],ae);const Ee=c(e,["type"]);return Ee!=null&&f(t,["type"],Ee),t}function c1(r,e){const t={};if(c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(e,["category"]);o!=null&&f(t,["category"],o);const a=c(e,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function f1(r,e){const t={},o=c(e,["behavior"]);o!=null&&f(t,["behavior"],o);const a=c(e,["description"]);a!=null&&f(t,["description"],a);const l=c(e,["name"]);l!=null&&f(t,["name"],l);const h=c(e,["parameters"]);h!=null&&f(t,["parameters"],h);const y=c(e,["response"]);return y!=null&&f(t,["response"],y),t}function d1(r,e){const t={},o=c(e,["startTime"]);o!=null&&f(t,["startTime"],o);const a=c(e,["endTime"]);return a!=null&&f(t,["endTime"],a),t}function h1(r,e){const t={},o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],d1(r,o)),t}function m1(r,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const a=c(e,["dynamicThreshold"]);return a!=null&&f(t,["dynamicThreshold"],a),t}function p1(r,e){const t={},o=c(e,["dynamicRetrievalConfig"]);return o!=null&&f(t,["dynamicRetrievalConfig"],m1(r,o)),t}function g1(){return{}}function y1(r,e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(m=>f1(r,m))),f(t,["functionDeclarations"],v)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=c(e,["googleSearch"]);a!=null&&f(t,["googleSearch"],h1(r,a));const l=c(e,["googleSearchRetrieval"]);if(l!=null&&f(t,["googleSearchRetrieval"],p1(r,l)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&f(t,["urlContext"],g1());const y=c(e,["codeExecution"]);return y!=null&&f(t,["codeExecution"],y),t}function v1(r,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const a=c(e,["allowedFunctionNames"]);return a!=null&&f(t,["allowedFunctionNames"],a),t}function _1(r,e){const t={},o=c(e,["latitude"]);o!=null&&f(t,["latitude"],o);const a=c(e,["longitude"]);return a!=null&&f(t,["longitude"],a),t}function T1(r,e){const t={},o=c(e,["latLng"]);o!=null&&f(t,["latLng"],_1(r,o));const a=c(e,["languageCode"]);return a!=null&&f(t,["languageCode"],a),t}function C1(r,e){const t={},o=c(e,["functionCallingConfig"]);o!=null&&f(t,["functionCallingConfig"],v1(r,o));const a=c(e,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],T1(r,a)),t}function E1(r,e){const t={},o=c(e,["voiceName"]);return o!=null&&f(t,["voiceName"],o),t}function s_(r,e){const t={},o=c(e,["prebuiltVoiceConfig"]);return o!=null&&f(t,["prebuiltVoiceConfig"],E1(r,o)),t}function S1(r,e){const t={},o=c(e,["speaker"]);o!=null&&f(t,["speaker"],o);const a=c(e,["voiceConfig"]);return a!=null&&f(t,["voiceConfig"],s_(r,a)),t}function A1(r,e){const t={},o=c(e,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>S1(r,l))),f(t,["speakerVoiceConfigs"],a)}return t}function b1(r,e){const t={},o=c(e,["voiceConfig"]);o!=null&&f(t,["voiceConfig"],s_(r,o));const a=c(e,["multiSpeakerVoiceConfig"]);a!=null&&f(t,["multiSpeakerVoiceConfig"],A1(r,a));const l=c(e,["languageCode"]);return l!=null&&f(t,["languageCode"],l),t}function w1(r,e){const t={},o=c(e,["includeThoughts"]);o!=null&&f(t,["includeThoughts"],o);const a=c(e,["thinkingBudget"]);return a!=null&&f(t,["thinkingBudget"],a),t}function M1(r,e,t){const o={},a=c(e,["systemInstruction"]);t!==void 0&&a!=null&&f(t,["systemInstruction"],Ou(r,Kt(r,a)));const l=c(e,["temperature"]);l!=null&&f(o,["temperature"],l);const h=c(e,["topP"]);h!=null&&f(o,["topP"],h);const y=c(e,["topK"]);y!=null&&f(o,["topK"],y);const v=c(e,["candidateCount"]);v!=null&&f(o,["candidateCount"],v);const m=c(e,["maxOutputTokens"]);m!=null&&f(o,["maxOutputTokens"],m);const T=c(e,["stopSequences"]);T!=null&&f(o,["stopSequences"],T);const b=c(e,["responseLogprobs"]);b!=null&&f(o,["responseLogprobs"],b);const w=c(e,["logprobs"]);w!=null&&f(o,["logprobs"],w);const D=c(e,["presencePenalty"]);D!=null&&f(o,["presencePenalty"],D);const U=c(e,["frequencyPenalty"]);U!=null&&f(o,["frequencyPenalty"],U);const H=c(e,["seed"]);H!=null&&f(o,["seed"],H);const $=c(e,["responseMimeType"]);$!=null&&f(o,["responseMimeType"],$);const X=c(e,["responseSchema"]);if(X!=null&&f(o,["responseSchema"],u1(r,wu(r,X))),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Q=c(e,["safetySettings"]);if(t!==void 0&&Q!=null){let ge=Q;Array.isArray(ge)&&(ge=ge.map(pe=>c1(r,pe))),f(t,["safetySettings"],ge)}const W=c(e,["tools"]);if(t!==void 0&&W!=null){let ge=Ls(r,W);Array.isArray(ge)&&(ge=ge.map(pe=>y1(r,ks(r,pe)))),f(t,["tools"],ge)}const he=c(e,["toolConfig"]);if(t!==void 0&&he!=null&&f(t,["toolConfig"],C1(r,he)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=c(e,["cachedContent"]);t!==void 0&&Y!=null&&f(t,["cachedContent"],xo(r,Y));const se=c(e,["responseModalities"]);se!=null&&f(o,["responseModalities"],se);const ae=c(e,["mediaResolution"]);ae!=null&&f(o,["mediaResolution"],ae);const Ee=c(e,["speechConfig"]);if(Ee!=null&&f(o,["speechConfig"],b1(r,Qv(r,Ee))),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=c(e,["thinkingConfig"]);return le!=null&&f(o,["thinkingConfig"],w1(r,le)),o}function Qy(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],lt(r,o));const a=c(e,["contents"]);if(a!=null){let h=Vn(r,a);Array.isArray(h)&&(h=h.map(y=>Ou(r,y))),f(t,["contents"],h)}const l=c(e,["config"]);return l!=null&&f(t,["generationConfig"],M1(r,l,t)),t}function x1(r,e,t){const o={},a=c(e,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const l=c(e,["title"]);t!==void 0&&l!=null&&f(t,["requests[]","title"],l);const h=c(e,["outputDimensionality"]);if(t!==void 0&&h!=null&&f(t,["requests[]","outputDimensionality"],h),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function R1(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],lt(r,o));const a=c(e,["contents"]);a!=null&&f(t,["requests[]","content"],Jv(r,a));const l=c(e,["config"]);l!=null&&f(t,["config"],x1(r,l,t));const h=c(e,["model"]);return h!==void 0&&f(t,["requests[]","model"],lt(r,h)),t}function N1(r,e,t){const o={};if(c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=c(e,["numberOfImages"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const l=c(e,["aspectRatio"]);t!==void 0&&l!=null&&f(t,["parameters","aspectRatio"],l);const h=c(e,["guidanceScale"]);if(t!==void 0&&h!=null&&f(t,["parameters","guidanceScale"],h),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const y=c(e,["safetyFilterLevel"]);t!==void 0&&y!=null&&f(t,["parameters","safetySetting"],y);const v=c(e,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const m=c(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&f(t,["parameters","includeSafetyAttributes"],m);const T=c(e,["includeRaiReason"]);t!==void 0&&T!=null&&f(t,["parameters","includeRaiReason"],T);const b=c(e,["language"]);t!==void 0&&b!=null&&f(t,["parameters","language"],b);const w=c(e,["outputMimeType"]);t!==void 0&&w!=null&&f(t,["parameters","outputOptions","mimeType"],w);const D=c(e,["outputCompressionQuality"]);if(t!==void 0&&D!=null&&f(t,["parameters","outputOptions","compressionQuality"],D),c(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function D1(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],lt(r,o));const a=c(e,["prompt"]);a!=null&&f(t,["instances[0]","prompt"],a);const l=c(e,["config"]);return l!=null&&f(t,["config"],N1(r,l,t)),t}function I1(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","name"],lt(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],a),t}function U1(r,e,t){const o={},a=c(e,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const l=c(e,["pageToken"]);t!==void 0&&l!=null&&f(t,["_query","pageToken"],l);const h=c(e,["filter"]);t!==void 0&&h!=null&&f(t,["_query","filter"],h);const y=c(e,["queryBase"]);return t!==void 0&&y!=null&&f(t,["_url","models_url"],jv(r,y)),o}function k1(r,e){const t={},o=c(e,["config"]);return o!=null&&f(t,["config"],U1(r,o,t)),t}function L1(r,e,t){const o={},a=c(e,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const l=c(e,["description"]);t!==void 0&&l!=null&&f(t,["description"],l);const h=c(e,["defaultCheckpointId"]);return t!==void 0&&h!=null&&f(t,["defaultCheckpointId"],h),o}function O1(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","name"],lt(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],L1(r,a,t)),t}function P1(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","name"],lt(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],a),t}function V1(r,e){const t={};if(c(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function q1(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],lt(r,o));const a=c(e,["contents"]);if(a!=null){let h=Vn(r,a);Array.isArray(h)&&(h=h.map(y=>Ou(r,y))),f(t,["contents"],h)}const l=c(e,["config"]);return l!=null&&f(t,["config"],V1(r,l)),t}function B1(r,e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=c(e,["imageBytes"]);o!=null&&f(t,["bytesBase64Encoded"],Ro(r,o));const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function z1(r,e,t){const o={},a=c(e,["numberOfVideos"]);if(t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a),c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=c(e,["durationSeconds"]);if(t!==void 0&&l!=null&&f(t,["parameters","durationSeconds"],l),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=c(e,["aspectRatio"]);if(t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h),c(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const y=c(e,["personGeneration"]);if(t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y),c(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=c(e,["negativePrompt"]);t!==void 0&&v!=null&&f(t,["parameters","negativePrompt"],v);const m=c(e,["enhancePrompt"]);if(t!==void 0&&m!=null&&f(t,["parameters","enhancePrompt"],m),c(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return o}function G1(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],lt(r,o));const a=c(e,["prompt"]);a!=null&&f(t,["instances[0]","prompt"],a);const l=c(e,["image"]);l!=null&&f(t,["instances[0]","image"],B1(r,l));const h=c(e,["config"]);return h!=null&&f(t,["config"],z1(r,h,t)),t}function H1(r,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const a=c(e,["endOffset"]);a!=null&&f(t,["endOffset"],a);const l=c(e,["startOffset"]);return l!=null&&f(t,["startOffset"],l),t}function F1(r,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const a=c(e,["data"]);a!=null&&f(t,["data"],a);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function Y1(r,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const a=c(e,["fileUri"]);a!=null&&f(t,["fileUri"],a);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function $1(r,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],H1(r,o));const a=c(e,["thought"]);a!=null&&f(t,["thought"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],F1(r,l));const h=c(e,["fileData"]);h!=null&&f(t,["fileData"],Y1(r,h));const y=c(e,["thoughtSignature"]);y!=null&&f(t,["thoughtSignature"],y);const v=c(e,["codeExecutionResult"]);v!=null&&f(t,["codeExecutionResult"],v);const m=c(e,["executableCode"]);m!=null&&f(t,["executableCode"],m);const T=c(e,["functionCall"]);T!=null&&f(t,["functionCall"],T);const b=c(e,["functionResponse"]);b!=null&&f(t,["functionResponse"],b);const w=c(e,["text"]);return w!=null&&f(t,["text"],w),t}function ya(r,e){const t={},o=c(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(h=>$1(r,h))),f(t,["parts"],l)}const a=c(e,["role"]);return a!=null&&f(t,["role"],a),t}function Z1(r,e){const t={},o=c(e,["anyOf"]);o!=null&&f(t,["anyOf"],o);const a=c(e,["default"]);a!=null&&f(t,["default"],a);const l=c(e,["description"]);l!=null&&f(t,["description"],l);const h=c(e,["enum"]);h!=null&&f(t,["enum"],h);const y=c(e,["example"]);y!=null&&f(t,["example"],y);const v=c(e,["format"]);v!=null&&f(t,["format"],v);const m=c(e,["items"]);m!=null&&f(t,["items"],m);const T=c(e,["maxItems"]);T!=null&&f(t,["maxItems"],T);const b=c(e,["maxLength"]);b!=null&&f(t,["maxLength"],b);const w=c(e,["maxProperties"]);w!=null&&f(t,["maxProperties"],w);const D=c(e,["maximum"]);D!=null&&f(t,["maximum"],D);const U=c(e,["minItems"]);U!=null&&f(t,["minItems"],U);const H=c(e,["minLength"]);H!=null&&f(t,["minLength"],H);const $=c(e,["minProperties"]);$!=null&&f(t,["minProperties"],$);const X=c(e,["minimum"]);X!=null&&f(t,["minimum"],X);const Q=c(e,["nullable"]);Q!=null&&f(t,["nullable"],Q);const W=c(e,["pattern"]);W!=null&&f(t,["pattern"],W);const he=c(e,["properties"]);he!=null&&f(t,["properties"],he);const Y=c(e,["propertyOrdering"]);Y!=null&&f(t,["propertyOrdering"],Y);const se=c(e,["required"]);se!=null&&f(t,["required"],se);const ae=c(e,["title"]);ae!=null&&f(t,["title"],ae);const Ee=c(e,["type"]);return Ee!=null&&f(t,["type"],Ee),t}function K1(r,e){const t={},o=c(e,["featureSelectionPreference"]);return o!=null&&f(t,["featureSelectionPreference"],o),t}function J1(r,e){const t={},o=c(e,["method"]);o!=null&&f(t,["method"],o);const a=c(e,["category"]);a!=null&&f(t,["category"],a);const l=c(e,["threshold"]);return l!=null&&f(t,["threshold"],l),t}function Q1(r,e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(e,["description"]);o!=null&&f(t,["description"],o);const a=c(e,["name"]);a!=null&&f(t,["name"],a);const l=c(e,["parameters"]);l!=null&&f(t,["parameters"],l);const h=c(e,["response"]);return h!=null&&f(t,["response"],h),t}function X1(r,e){const t={},o=c(e,["startTime"]);o!=null&&f(t,["startTime"],o);const a=c(e,["endTime"]);return a!=null&&f(t,["endTime"],a),t}function W1(r,e){const t={},o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],X1(r,o)),t}function j1(r,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const a=c(e,["dynamicThreshold"]);return a!=null&&f(t,["dynamicThreshold"],a),t}function eb(r,e){const t={},o=c(e,["dynamicRetrievalConfig"]);return o!=null&&f(t,["dynamicRetrievalConfig"],j1(r,o)),t}function tb(){return{}}function nb(r,e){const t={},o=c(e,["apiKeyString"]);return o!=null&&f(t,["apiKeyString"],o),t}function ib(r,e){const t={},o=c(e,["apiKeyConfig"]);o!=null&&f(t,["apiKeyConfig"],nb(r,o));const a=c(e,["authType"]);a!=null&&f(t,["authType"],a);const l=c(e,["googleServiceAccountConfig"]);l!=null&&f(t,["googleServiceAccountConfig"],l);const h=c(e,["httpBasicAuthConfig"]);h!=null&&f(t,["httpBasicAuthConfig"],h);const y=c(e,["oauthConfig"]);y!=null&&f(t,["oauthConfig"],y);const v=c(e,["oidcConfig"]);return v!=null&&f(t,["oidcConfig"],v),t}function ob(r,e){const t={},o=c(e,["authConfig"]);return o!=null&&f(t,["authConfig"],ib(r,o)),t}function rb(){return{}}function l_(r,e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let b=o;Array.isArray(b)&&(b=b.map(w=>Q1(r,w))),f(t,["functionDeclarations"],b)}const a=c(e,["retrieval"]);a!=null&&f(t,["retrieval"],a);const l=c(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],W1(r,l));const h=c(e,["googleSearchRetrieval"]);h!=null&&f(t,["googleSearchRetrieval"],eb(r,h)),c(e,["enterpriseWebSearch"])!=null&&f(t,["enterpriseWebSearch"],tb());const v=c(e,["googleMaps"]);v!=null&&f(t,["googleMaps"],ob(r,v)),c(e,["urlContext"])!=null&&f(t,["urlContext"],rb());const T=c(e,["codeExecution"]);return T!=null&&f(t,["codeExecution"],T),t}function ab(r,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const a=c(e,["allowedFunctionNames"]);return a!=null&&f(t,["allowedFunctionNames"],a),t}function sb(r,e){const t={},o=c(e,["latitude"]);o!=null&&f(t,["latitude"],o);const a=c(e,["longitude"]);return a!=null&&f(t,["longitude"],a),t}function lb(r,e){const t={},o=c(e,["latLng"]);o!=null&&f(t,["latLng"],sb(r,o));const a=c(e,["languageCode"]);return a!=null&&f(t,["languageCode"],a),t}function ub(r,e){const t={},o=c(e,["functionCallingConfig"]);o!=null&&f(t,["functionCallingConfig"],ab(r,o));const a=c(e,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],lb(r,a)),t}function cb(r,e){const t={},o=c(e,["voiceName"]);return o!=null&&f(t,["voiceName"],o),t}function fb(r,e){const t={},o=c(e,["prebuiltVoiceConfig"]);return o!=null&&f(t,["prebuiltVoiceConfig"],cb(r,o)),t}function db(r,e){const t={},o=c(e,["voiceConfig"]);if(o!=null&&f(t,["voiceConfig"],fb(r,o)),c(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=c(e,["languageCode"]);return a!=null&&f(t,["languageCode"],a),t}function hb(r,e){const t={},o=c(e,["includeThoughts"]);o!=null&&f(t,["includeThoughts"],o);const a=c(e,["thinkingBudget"]);return a!=null&&f(t,["thinkingBudget"],a),t}function mb(r,e,t){const o={},a=c(e,["systemInstruction"]);t!==void 0&&a!=null&&f(t,["systemInstruction"],ya(r,Kt(r,a)));const l=c(e,["temperature"]);l!=null&&f(o,["temperature"],l);const h=c(e,["topP"]);h!=null&&f(o,["topP"],h);const y=c(e,["topK"]);y!=null&&f(o,["topK"],y);const v=c(e,["candidateCount"]);v!=null&&f(o,["candidateCount"],v);const m=c(e,["maxOutputTokens"]);m!=null&&f(o,["maxOutputTokens"],m);const T=c(e,["stopSequences"]);T!=null&&f(o,["stopSequences"],T);const b=c(e,["responseLogprobs"]);b!=null&&f(o,["responseLogprobs"],b);const w=c(e,["logprobs"]);w!=null&&f(o,["logprobs"],w);const D=c(e,["presencePenalty"]);D!=null&&f(o,["presencePenalty"],D);const U=c(e,["frequencyPenalty"]);U!=null&&f(o,["frequencyPenalty"],U);const H=c(e,["seed"]);H!=null&&f(o,["seed"],H);const $=c(e,["responseMimeType"]);$!=null&&f(o,["responseMimeType"],$);const X=c(e,["responseSchema"]);X!=null&&f(o,["responseSchema"],Z1(r,wu(r,X)));const Q=c(e,["routingConfig"]);Q!=null&&f(o,["routingConfig"],Q);const W=c(e,["modelSelectionConfig"]);W!=null&&f(o,["modelConfig"],K1(r,W));const he=c(e,["safetySettings"]);if(t!==void 0&&he!=null){let qe=he;Array.isArray(qe)&&(qe=qe.map(ft=>J1(r,ft))),f(t,["safetySettings"],qe)}const Y=c(e,["tools"]);if(t!==void 0&&Y!=null){let qe=Ls(r,Y);Array.isArray(qe)&&(qe=qe.map(ft=>l_(r,ks(r,ft)))),f(t,["tools"],qe)}const se=c(e,["toolConfig"]);t!==void 0&&se!=null&&f(t,["toolConfig"],ub(r,se));const ae=c(e,["labels"]);t!==void 0&&ae!=null&&f(t,["labels"],ae);const Ee=c(e,["cachedContent"]);t!==void 0&&Ee!=null&&f(t,["cachedContent"],xo(r,Ee));const le=c(e,["responseModalities"]);le!=null&&f(o,["responseModalities"],le);const ge=c(e,["mediaResolution"]);ge!=null&&f(o,["mediaResolution"],ge);const pe=c(e,["speechConfig"]);pe!=null&&f(o,["speechConfig"],db(r,Qv(r,pe)));const ut=c(e,["audioTimestamp"]);ut!=null&&f(o,["audioTimestamp"],ut);const Ve=c(e,["thinkingConfig"]);return Ve!=null&&f(o,["thinkingConfig"],hb(r,Ve)),o}function Xy(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],lt(r,o));const a=c(e,["contents"]);if(a!=null){let h=Vn(r,a);Array.isArray(h)&&(h=h.map(y=>ya(r,y))),f(t,["contents"],h)}const l=c(e,["config"]);return l!=null&&f(t,["generationConfig"],mb(r,l,t)),t}function pb(r,e,t){const o={},a=c(e,["taskType"]);t!==void 0&&a!=null&&f(t,["instances[]","task_type"],a);const l=c(e,["title"]);t!==void 0&&l!=null&&f(t,["instances[]","title"],l);const h=c(e,["outputDimensionality"]);t!==void 0&&h!=null&&f(t,["parameters","outputDimensionality"],h);const y=c(e,["mimeType"]);t!==void 0&&y!=null&&f(t,["instances[]","mimeType"],y);const v=c(e,["autoTruncate"]);return t!==void 0&&v!=null&&f(t,["parameters","autoTruncate"],v),o}function gb(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],lt(r,o));const a=c(e,["contents"]);a!=null&&f(t,["instances[]","content"],Jv(r,a));const l=c(e,["config"]);return l!=null&&f(t,["config"],pb(r,l,t)),t}function yb(r,e,t){const o={},a=c(e,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const l=c(e,["negativePrompt"]);t!==void 0&&l!=null&&f(t,["parameters","negativePrompt"],l);const h=c(e,["numberOfImages"]);t!==void 0&&h!=null&&f(t,["parameters","sampleCount"],h);const y=c(e,["aspectRatio"]);t!==void 0&&y!=null&&f(t,["parameters","aspectRatio"],y);const v=c(e,["guidanceScale"]);t!==void 0&&v!=null&&f(t,["parameters","guidanceScale"],v);const m=c(e,["seed"]);t!==void 0&&m!=null&&f(t,["parameters","seed"],m);const T=c(e,["safetyFilterLevel"]);t!==void 0&&T!=null&&f(t,["parameters","safetySetting"],T);const b=c(e,["personGeneration"]);t!==void 0&&b!=null&&f(t,["parameters","personGeneration"],b);const w=c(e,["includeSafetyAttributes"]);t!==void 0&&w!=null&&f(t,["parameters","includeSafetyAttributes"],w);const D=c(e,["includeRaiReason"]);t!==void 0&&D!=null&&f(t,["parameters","includeRaiReason"],D);const U=c(e,["language"]);t!==void 0&&U!=null&&f(t,["parameters","language"],U);const H=c(e,["outputMimeType"]);t!==void 0&&H!=null&&f(t,["parameters","outputOptions","mimeType"],H);const $=c(e,["outputCompressionQuality"]);t!==void 0&&$!=null&&f(t,["parameters","outputOptions","compressionQuality"],$);const X=c(e,["addWatermark"]);t!==void 0&&X!=null&&f(t,["parameters","addWatermark"],X);const Q=c(e,["enhancePrompt"]);return t!==void 0&&Q!=null&&f(t,["parameters","enhancePrompt"],Q),o}function vb(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],lt(r,o));const a=c(e,["prompt"]);a!=null&&f(t,["instances[0]","prompt"],a);const l=c(e,["config"]);return l!=null&&f(t,["config"],yb(r,l,t)),t}function Qd(r,e){const t={},o=c(e,["gcsUri"]);o!=null&&f(t,["gcsUri"],o);const a=c(e,["imageBytes"]);a!=null&&f(t,["bytesBase64Encoded"],Ro(r,a));const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function _b(r,e){const t={},o=c(e,["maskMode"]);o!=null&&f(t,["maskMode"],o);const a=c(e,["segmentationClasses"]);a!=null&&f(t,["maskClasses"],a);const l=c(e,["maskDilation"]);return l!=null&&f(t,["dilation"],l),t}function Tb(r,e){const t={},o=c(e,["controlType"]);o!=null&&f(t,["controlType"],o);const a=c(e,["enableControlImageComputation"]);return a!=null&&f(t,["computeControl"],a),t}function Cb(r,e){const t={},o=c(e,["styleDescription"]);return o!=null&&f(t,["styleDescription"],o),t}function Eb(r,e){const t={},o=c(e,["subjectType"]);o!=null&&f(t,["subjectType"],o);const a=c(e,["subjectDescription"]);return a!=null&&f(t,["subjectDescription"],a),t}function Sb(r,e){const t={},o=c(e,["referenceImage"]);o!=null&&f(t,["referenceImage"],Qd(r,o));const a=c(e,["referenceId"]);a!=null&&f(t,["referenceId"],a);const l=c(e,["referenceType"]);l!=null&&f(t,["referenceType"],l);const h=c(e,["maskImageConfig"]);h!=null&&f(t,["maskImageConfig"],_b(r,h));const y=c(e,["controlImageConfig"]);y!=null&&f(t,["controlImageConfig"],Tb(r,y));const v=c(e,["styleImageConfig"]);v!=null&&f(t,["styleImageConfig"],Cb(r,v));const m=c(e,["subjectImageConfig"]);return m!=null&&f(t,["subjectImageConfig"],Eb(r,m)),t}function Ab(r,e,t){const o={},a=c(e,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const l=c(e,["negativePrompt"]);t!==void 0&&l!=null&&f(t,["parameters","negativePrompt"],l);const h=c(e,["numberOfImages"]);t!==void 0&&h!=null&&f(t,["parameters","sampleCount"],h);const y=c(e,["aspectRatio"]);t!==void 0&&y!=null&&f(t,["parameters","aspectRatio"],y);const v=c(e,["guidanceScale"]);t!==void 0&&v!=null&&f(t,["parameters","guidanceScale"],v);const m=c(e,["seed"]);t!==void 0&&m!=null&&f(t,["parameters","seed"],m);const T=c(e,["safetyFilterLevel"]);t!==void 0&&T!=null&&f(t,["parameters","safetySetting"],T);const b=c(e,["personGeneration"]);t!==void 0&&b!=null&&f(t,["parameters","personGeneration"],b);const w=c(e,["includeSafetyAttributes"]);t!==void 0&&w!=null&&f(t,["parameters","includeSafetyAttributes"],w);const D=c(e,["includeRaiReason"]);t!==void 0&&D!=null&&f(t,["parameters","includeRaiReason"],D);const U=c(e,["language"]);t!==void 0&&U!=null&&f(t,["parameters","language"],U);const H=c(e,["outputMimeType"]);t!==void 0&&H!=null&&f(t,["parameters","outputOptions","mimeType"],H);const $=c(e,["outputCompressionQuality"]);t!==void 0&&$!=null&&f(t,["parameters","outputOptions","compressionQuality"],$);const X=c(e,["editMode"]);t!==void 0&&X!=null&&f(t,["parameters","editMode"],X);const Q=c(e,["baseSteps"]);return t!==void 0&&Q!=null&&f(t,["parameters","editConfig","baseSteps"],Q),o}function bb(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],lt(r,o));const a=c(e,["prompt"]);a!=null&&f(t,["instances[0]","prompt"],a);const l=c(e,["referenceImages"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(v=>Sb(r,v))),f(t,["instances[0]","referenceImages"],y)}const h=c(e,["config"]);return h!=null&&f(t,["config"],Ab(r,h,t)),t}function wb(r,e,t){const o={},a=c(e,["includeRaiReason"]);t!==void 0&&a!=null&&f(t,["parameters","includeRaiReason"],a);const l=c(e,["outputMimeType"]);t!==void 0&&l!=null&&f(t,["parameters","outputOptions","mimeType"],l);const h=c(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&f(t,["parameters","outputOptions","compressionQuality"],h);const y=c(e,["numberOfImages"]);t!==void 0&&y!=null&&f(t,["parameters","sampleCount"],y);const v=c(e,["mode"]);return t!==void 0&&v!=null&&f(t,["parameters","mode"],v),o}function Mb(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],lt(r,o));const a=c(e,["image"]);a!=null&&f(t,["instances[0]","image"],Qd(r,a));const l=c(e,["upscaleFactor"]);l!=null&&f(t,["parameters","upscaleConfig","upscaleFactor"],l);const h=c(e,["config"]);return h!=null&&f(t,["config"],wb(r,h,t)),t}function xb(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","name"],lt(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],a),t}function Rb(r,e,t){const o={},a=c(e,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const l=c(e,["pageToken"]);t!==void 0&&l!=null&&f(t,["_query","pageToken"],l);const h=c(e,["filter"]);t!==void 0&&h!=null&&f(t,["_query","filter"],h);const y=c(e,["queryBase"]);return t!==void 0&&y!=null&&f(t,["_url","models_url"],jv(r,y)),o}function Nb(r,e){const t={},o=c(e,["config"]);return o!=null&&f(t,["config"],Rb(r,o,t)),t}function Db(r,e,t){const o={},a=c(e,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const l=c(e,["description"]);t!==void 0&&l!=null&&f(t,["description"],l);const h=c(e,["defaultCheckpointId"]);return t!==void 0&&h!=null&&f(t,["defaultCheckpointId"],h),o}function Ib(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],lt(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],Db(r,a,t)),t}function Ub(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","name"],lt(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],a),t}function kb(r,e,t){const o={},a=c(e,["systemInstruction"]);t!==void 0&&a!=null&&f(t,["systemInstruction"],ya(r,Kt(r,a)));const l=c(e,["tools"]);if(t!==void 0&&l!=null){let y=l;Array.isArray(y)&&(y=y.map(v=>l_(r,v))),f(t,["tools"],y)}const h=c(e,["generationConfig"]);return t!==void 0&&h!=null&&f(t,["generationConfig"],h),o}function Lb(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],lt(r,o));const a=c(e,["contents"]);if(a!=null){let h=Vn(r,a);Array.isArray(h)&&(h=h.map(y=>ya(r,y))),f(t,["contents"],h)}const l=c(e,["config"]);return l!=null&&f(t,["config"],kb(r,l,t)),t}function Ob(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],lt(r,o));const a=c(e,["contents"]);if(a!=null){let h=Vn(r,a);Array.isArray(h)&&(h=h.map(y=>ya(r,y))),f(t,["contents"],h)}const l=c(e,["config"]);return l!=null&&f(t,["config"],l),t}function Pb(r,e,t){const o={},a=c(e,["numberOfVideos"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const l=c(e,["outputGcsUri"]);t!==void 0&&l!=null&&f(t,["parameters","storageUri"],l);const h=c(e,["fps"]);t!==void 0&&h!=null&&f(t,["parameters","fps"],h);const y=c(e,["durationSeconds"]);t!==void 0&&y!=null&&f(t,["parameters","durationSeconds"],y);const v=c(e,["seed"]);t!==void 0&&v!=null&&f(t,["parameters","seed"],v);const m=c(e,["aspectRatio"]);t!==void 0&&m!=null&&f(t,["parameters","aspectRatio"],m);const T=c(e,["resolution"]);t!==void 0&&T!=null&&f(t,["parameters","resolution"],T);const b=c(e,["personGeneration"]);t!==void 0&&b!=null&&f(t,["parameters","personGeneration"],b);const w=c(e,["pubsubTopic"]);t!==void 0&&w!=null&&f(t,["parameters","pubsubTopic"],w);const D=c(e,["negativePrompt"]);t!==void 0&&D!=null&&f(t,["parameters","negativePrompt"],D);const U=c(e,["enhancePrompt"]);t!==void 0&&U!=null&&f(t,["parameters","enhancePrompt"],U);const H=c(e,["generateAudio"]);return t!==void 0&&H!=null&&f(t,["parameters","generateAudio"],H),o}function Vb(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["_url","model"],lt(r,o));const a=c(e,["prompt"]);a!=null&&f(t,["instances[0]","prompt"],a);const l=c(e,["image"]);l!=null&&f(t,["instances[0]","image"],Qd(r,l));const h=c(e,["config"]);return h!=null&&f(t,["config"],Pb(r,h,t)),t}function qb(r,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const a=c(e,["endOffset"]);a!=null&&f(t,["endOffset"],a);const l=c(e,["startOffset"]);return l!=null&&f(t,["startOffset"],l),t}function Bb(r,e){const t={},o=c(e,["data"]);o!=null&&f(t,["data"],o);const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function zb(r,e){const t={},o=c(e,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Gb(r,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],qb(r,o));const a=c(e,["thought"]);a!=null&&f(t,["thought"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],Bb(r,l));const h=c(e,["fileData"]);h!=null&&f(t,["fileData"],zb(r,h));const y=c(e,["thoughtSignature"]);y!=null&&f(t,["thoughtSignature"],y);const v=c(e,["codeExecutionResult"]);v!=null&&f(t,["codeExecutionResult"],v);const m=c(e,["executableCode"]);m!=null&&f(t,["executableCode"],m);const T=c(e,["functionCall"]);T!=null&&f(t,["functionCall"],T);const b=c(e,["functionResponse"]);b!=null&&f(t,["functionResponse"],b);const w=c(e,["text"]);return w!=null&&f(t,["text"],w),t}function Hb(r,e){const t={},o=c(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(h=>Gb(r,h))),f(t,["parts"],l)}const a=c(e,["role"]);return a!=null&&f(t,["role"],a),t}function Fb(r,e){const t={},o=c(e,["citationSources"]);return o!=null&&f(t,["citations"],o),t}function Yb(r,e){const t={},o=c(e,["retrievedUrl"]);o!=null&&f(t,["retrievedUrl"],o);const a=c(e,["urlRetrievalStatus"]);return a!=null&&f(t,["urlRetrievalStatus"],a),t}function $b(r,e){const t={},o=c(e,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>Yb(r,l))),f(t,["urlMetadata"],a)}return t}function Zb(r,e){const t={},o=c(e,["content"]);o!=null&&f(t,["content"],Hb(r,o));const a=c(e,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],Fb(r,a));const l=c(e,["tokenCount"]);l!=null&&f(t,["tokenCount"],l);const h=c(e,["finishReason"]);h!=null&&f(t,["finishReason"],h);const y=c(e,["urlContextMetadata"]);y!=null&&f(t,["urlContextMetadata"],$b(r,y));const v=c(e,["avgLogprobs"]);v!=null&&f(t,["avgLogprobs"],v);const m=c(e,["groundingMetadata"]);m!=null&&f(t,["groundingMetadata"],m);const T=c(e,["index"]);T!=null&&f(t,["index"],T);const b=c(e,["logprobsResult"]);b!=null&&f(t,["logprobsResult"],b);const w=c(e,["safetyRatings"]);return w!=null&&f(t,["safetyRatings"],w),t}function Wy(r,e){const t={},o=c(e,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(v=>Zb(r,v))),f(t,["candidates"],y)}const a=c(e,["modelVersion"]);a!=null&&f(t,["modelVersion"],a);const l=c(e,["promptFeedback"]);l!=null&&f(t,["promptFeedback"],l);const h=c(e,["usageMetadata"]);return h!=null&&f(t,["usageMetadata"],h),t}function Kb(r,e){const t={},o=c(e,["values"]);return o!=null&&f(t,["values"],o),t}function Jb(){return{}}function Qb(r,e){const t={},o=c(e,["embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(h=>Kb(r,h))),f(t,["embeddings"],l)}return c(e,["metadata"])!=null&&f(t,["metadata"],Jb()),t}function Xb(r,e){const t={},o=c(e,["bytesBase64Encoded"]);o!=null&&f(t,["imageBytes"],Ro(r,o));const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function u_(r,e){const t={},o=c(e,["safetyAttributes","categories"]);o!=null&&f(t,["categories"],o);const a=c(e,["safetyAttributes","scores"]);a!=null&&f(t,["scores"],a);const l=c(e,["contentType"]);return l!=null&&f(t,["contentType"],l),t}function Wb(r,e){const t={},o=c(e,["_self"]);o!=null&&f(t,["image"],Xb(r,o));const a=c(e,["raiFilteredReason"]);a!=null&&f(t,["raiFilteredReason"],a);const l=c(e,["_self"]);return l!=null&&f(t,["safetyAttributes"],u_(r,l)),t}function jb(r,e){const t={},o=c(e,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(h=>Wb(r,h))),f(t,["generatedImages"],l)}const a=c(e,["positivePromptSafetyAttributes"]);return a!=null&&f(t,["positivePromptSafetyAttributes"],u_(r,a)),t}function ew(r,e){const t={},o=c(e,["baseModel"]);o!=null&&f(t,["baseModel"],o);const a=c(e,["createTime"]);a!=null&&f(t,["createTime"],a);const l=c(e,["updateTime"]);return l!=null&&f(t,["updateTime"],l),t}function Id(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const a=c(e,["displayName"]);a!=null&&f(t,["displayName"],a);const l=c(e,["description"]);l!=null&&f(t,["description"],l);const h=c(e,["version"]);h!=null&&f(t,["version"],h);const y=c(e,["_self"]);y!=null&&f(t,["tunedModelInfo"],ew(r,y));const v=c(e,["inputTokenLimit"]);v!=null&&f(t,["inputTokenLimit"],v);const m=c(e,["outputTokenLimit"]);m!=null&&f(t,["outputTokenLimit"],m);const T=c(e,["supportedGenerationMethods"]);return T!=null&&f(t,["supportedActions"],T),t}function tw(r,e){const t={},o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const a=c(e,["_self"]);if(a!=null){let l=e_(r,a);Array.isArray(l)&&(l=l.map(h=>Id(r,h))),f(t,["models"],l)}return t}function nw(){return{}}function iw(r,e){const t={},o=c(e,["totalTokens"]);o!=null&&f(t,["totalTokens"],o);const a=c(e,["cachedContentTokenCount"]);return a!=null&&f(t,["cachedContentTokenCount"],a),t}function ow(r,e){const t={},o=c(e,["video","uri"]);o!=null&&f(t,["uri"],o);const a=c(e,["video","encodedVideo"]);a!=null&&f(t,["videoBytes"],Ro(r,a));const l=c(e,["encoding"]);return l!=null&&f(t,["mimeType"],l),t}function rw(r,e){const t={},o=c(e,["_self"]);return o!=null&&f(t,["video"],ow(r,o)),t}function aw(r,e){const t={},o=c(e,["generatedSamples"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(y=>rw(r,y))),f(t,["generatedVideos"],h)}const a=c(e,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const l=c(e,["raiMediaFilteredReasons"]);return l!=null&&f(t,["raiMediaFilteredReasons"],l),t}function sw(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const a=c(e,["metadata"]);a!=null&&f(t,["metadata"],a);const l=c(e,["done"]);l!=null&&f(t,["done"],l);const h=c(e,["error"]);h!=null&&f(t,["error"],h);const y=c(e,["response","generateVideoResponse"]);return y!=null&&f(t,["response"],aw(r,y)),t}function lw(r,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const a=c(e,["endOffset"]);a!=null&&f(t,["endOffset"],a);const l=c(e,["startOffset"]);return l!=null&&f(t,["startOffset"],l),t}function uw(r,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const a=c(e,["data"]);a!=null&&f(t,["data"],a);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function cw(r,e){const t={},o=c(e,["displayName"]);o!=null&&f(t,["displayName"],o);const a=c(e,["fileUri"]);a!=null&&f(t,["fileUri"],a);const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function fw(r,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],lw(r,o));const a=c(e,["thought"]);a!=null&&f(t,["thought"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],uw(r,l));const h=c(e,["fileData"]);h!=null&&f(t,["fileData"],cw(r,h));const y=c(e,["thoughtSignature"]);y!=null&&f(t,["thoughtSignature"],y);const v=c(e,["codeExecutionResult"]);v!=null&&f(t,["codeExecutionResult"],v);const m=c(e,["executableCode"]);m!=null&&f(t,["executableCode"],m);const T=c(e,["functionCall"]);T!=null&&f(t,["functionCall"],T);const b=c(e,["functionResponse"]);b!=null&&f(t,["functionResponse"],b);const w=c(e,["text"]);return w!=null&&f(t,["text"],w),t}function dw(r,e){const t={},o=c(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(h=>fw(r,h))),f(t,["parts"],l)}const a=c(e,["role"]);return a!=null&&f(t,["role"],a),t}function hw(r,e){const t={},o=c(e,["citations"]);return o!=null&&f(t,["citations"],o),t}function mw(r,e){const t={},o=c(e,["retrievedUrl"]);o!=null&&f(t,["retrievedUrl"],o);const a=c(e,["urlRetrievalStatus"]);return a!=null&&f(t,["urlRetrievalStatus"],a),t}function pw(r,e){const t={},o=c(e,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>mw(r,l))),f(t,["urlMetadata"],a)}return t}function gw(r,e){const t={},o=c(e,["content"]);o!=null&&f(t,["content"],dw(r,o));const a=c(e,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],hw(r,a));const l=c(e,["finishMessage"]);l!=null&&f(t,["finishMessage"],l);const h=c(e,["finishReason"]);h!=null&&f(t,["finishReason"],h);const y=c(e,["urlContextMetadata"]);y!=null&&f(t,["urlContextMetadata"],pw(r,y));const v=c(e,["avgLogprobs"]);v!=null&&f(t,["avgLogprobs"],v);const m=c(e,["groundingMetadata"]);m!=null&&f(t,["groundingMetadata"],m);const T=c(e,["index"]);T!=null&&f(t,["index"],T);const b=c(e,["logprobsResult"]);b!=null&&f(t,["logprobsResult"],b);const w=c(e,["safetyRatings"]);return w!=null&&f(t,["safetyRatings"],w),t}function jy(r,e){const t={},o=c(e,["candidates"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(T=>gw(r,T))),f(t,["candidates"],m)}const a=c(e,["createTime"]);a!=null&&f(t,["createTime"],a);const l=c(e,["responseId"]);l!=null&&f(t,["responseId"],l);const h=c(e,["modelVersion"]);h!=null&&f(t,["modelVersion"],h);const y=c(e,["promptFeedback"]);y!=null&&f(t,["promptFeedback"],y);const v=c(e,["usageMetadata"]);return v!=null&&f(t,["usageMetadata"],v),t}function yw(r,e){const t={},o=c(e,["truncated"]);o!=null&&f(t,["truncated"],o);const a=c(e,["token_count"]);return a!=null&&f(t,["tokenCount"],a),t}function vw(r,e){const t={},o=c(e,["values"]);o!=null&&f(t,["values"],o);const a=c(e,["statistics"]);return a!=null&&f(t,["statistics"],yw(r,a)),t}function _w(r,e){const t={},o=c(e,["billableCharacterCount"]);return o!=null&&f(t,["billableCharacterCount"],o),t}function Tw(r,e){const t={},o=c(e,["predictions[]","embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(h=>vw(r,h))),f(t,["embeddings"],l)}const a=c(e,["metadata"]);return a!=null&&f(t,["metadata"],_w(r,a)),t}function Cw(r,e){const t={},o=c(e,["gcsUri"]);o!=null&&f(t,["gcsUri"],o);const a=c(e,["bytesBase64Encoded"]);a!=null&&f(t,["imageBytes"],Ro(r,a));const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function c_(r,e){const t={},o=c(e,["safetyAttributes","categories"]);o!=null&&f(t,["categories"],o);const a=c(e,["safetyAttributes","scores"]);a!=null&&f(t,["scores"],a);const l=c(e,["contentType"]);return l!=null&&f(t,["contentType"],l),t}function Xd(r,e){const t={},o=c(e,["_self"]);o!=null&&f(t,["image"],Cw(r,o));const a=c(e,["raiFilteredReason"]);a!=null&&f(t,["raiFilteredReason"],a);const l=c(e,["_self"]);l!=null&&f(t,["safetyAttributes"],c_(r,l));const h=c(e,["prompt"]);return h!=null&&f(t,["enhancedPrompt"],h),t}function Ew(r,e){const t={},o=c(e,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(h=>Xd(r,h))),f(t,["generatedImages"],l)}const a=c(e,["positivePromptSafetyAttributes"]);return a!=null&&f(t,["positivePromptSafetyAttributes"],c_(r,a)),t}function Sw(r,e){const t={},o=c(e,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>Xd(r,l))),f(t,["generatedImages"],a)}return t}function Aw(r,e){const t={},o=c(e,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>Xd(r,l))),f(t,["generatedImages"],a)}return t}function bw(r,e){const t={},o=c(e,["endpoint"]);o!=null&&f(t,["name"],o);const a=c(e,["deployedModelId"]);return a!=null&&f(t,["deployedModelId"],a),t}function ww(r,e){const t={},o=c(e,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&f(t,["baseModel"],o);const a=c(e,["createTime"]);a!=null&&f(t,["createTime"],a);const l=c(e,["updateTime"]);return l!=null&&f(t,["updateTime"],l),t}function Mw(r,e){const t={},o=c(e,["checkpointId"]);o!=null&&f(t,["checkpointId"],o);const a=c(e,["epoch"]);a!=null&&f(t,["epoch"],a);const l=c(e,["step"]);return l!=null&&f(t,["step"],l),t}function Ud(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const a=c(e,["displayName"]);a!=null&&f(t,["displayName"],a);const l=c(e,["description"]);l!=null&&f(t,["description"],l);const h=c(e,["versionId"]);h!=null&&f(t,["version"],h);const y=c(e,["deployedModels"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(D=>bw(r,D))),f(t,["endpoints"],w)}const v=c(e,["labels"]);v!=null&&f(t,["labels"],v);const m=c(e,["_self"]);m!=null&&f(t,["tunedModelInfo"],ww(r,m));const T=c(e,["defaultCheckpointId"]);T!=null&&f(t,["defaultCheckpointId"],T);const b=c(e,["checkpoints"]);if(b!=null){let w=b;Array.isArray(w)&&(w=w.map(D=>Mw(r,D))),f(t,["checkpoints"],w)}return t}function xw(r,e){const t={},o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const a=c(e,["_self"]);if(a!=null){let l=e_(r,a);Array.isArray(l)&&(l=l.map(h=>Ud(r,h))),f(t,["models"],l)}return t}function Rw(){return{}}function Nw(r,e){const t={},o=c(e,["totalTokens"]);return o!=null&&f(t,["totalTokens"],o),t}function Dw(r,e){const t={},o=c(e,["tokensInfo"]);return o!=null&&f(t,["tokensInfo"],o),t}function Iw(r,e){const t={},o=c(e,["gcsUri"]);o!=null&&f(t,["uri"],o);const a=c(e,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],Ro(r,a));const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function Uw(r,e){const t={},o=c(e,["_self"]);return o!=null&&f(t,["video"],Iw(r,o)),t}function kw(r,e){const t={},o=c(e,["videos"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(y=>Uw(r,y))),f(t,["generatedVideos"],h)}const a=c(e,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const l=c(e,["raiMediaFilteredReasons"]);return l!=null&&f(t,["raiMediaFilteredReasons"],l),t}function Lw(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const a=c(e,["metadata"]);a!=null&&f(t,["metadata"],a);const l=c(e,["done"]);l!=null&&f(t,["done"],l);const h=c(e,["error"]);h!=null&&f(t,["error"],h);const y=c(e,["response"]);return y!=null&&f(t,["response"],kw(r,y)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ow="Content-Type",Pw="X-Server-Timeout",Vw="User-Agent",kd="x-goog-api-client",qw="1.4.0",Bw=`google-genai-sdk/${qw}`,zw="v1beta1",Gw="v1beta",ev=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class f_ extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Ld extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class Hw{constructor(e){var t,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:zw,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Gw,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,o){const a=[this.getRequestUrlInternal(t)];return o&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,t,o);if(e.queryParams)for(const[h,y]of Object.entries(e.queryParams))a.searchParams.append(h,String(y));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,t,e.abortSignal),this.unaryApiCall(a,l,e.httpMethod)}patchHttpOptions(e,t){const o=JSON.parse(JSON.stringify(e));for(const[a,l]of Object.entries(t))typeof l=="object"?o[a]=Object.assign(Object.assign({},o[a]),l):l!==void 0&&(o[a]=l);return o}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,t,o);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,t,e.abortSignal),this.streamApiCall(a,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,o){if(t&&t.timeout||o){const a=new AbortController,l=a.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>a.abort(),t.timeout),o&&o.addEventListener("abort",()=>{a.abort()}),e.signal=l}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async a=>(await tv(a),new xd(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async a=>(await tv(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var t;return na(this,arguments,function*(){const a=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),l=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let h="";for(;;){const{done:y,value:v}=yield ct(a.read());if(y){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=l.decode(v);try{const b=JSON.parse(m);if("error"in b){const w=JSON.parse(JSON.stringify(b.error)),D=w.status,U=w.code,H=`got status: ${D}. ${JSON.stringify(b)}`;if(U>=400&&U<500)throw new f_(H);if(U>=500&&U<600)throw new Ld(H)}}catch(b){const w=b;if(w.name==="ClientError"||w.name==="ServerError")throw b}h+=m;let T=h.match(ev);for(;T;){const b=T[1];try{const w=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ct(new xd(w)),h=h.slice(T[0].length),T=h.match(ev)}catch(w){throw new Error(`exception parsing stream chunk ${b}. ${w}`)}}}}finally{a.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},t=Bw+" "+this.clientOptions.userAgentExtra;return e[Vw]=t,e[kd]=t,e[Ow]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[o,a]of Object.entries(e.headers))t.append(o,a);e.timeout&&e.timeout>0&&t.append(Pw,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var o;const a={};t!=null&&(a.mimeType=t.mimeType,a.name=t.name,a.displayName=t.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,h=await l.stat(e);a.sizeBytes=String(h.size);const y=(o=t==null?void 0:t.mimeType)!==null&&o!==void 0?o:h.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=y;const v=await this.fetchUploadUrl(a,t);return l.upload(e,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var o;let a={};t!=null&&t.httpOptions?a=t.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const l={file:e},h=await this.request({path:Me("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:a});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(o=h==null?void 0:h.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function tv(r){var e;if(r===void 0)throw new Ld("response is undefined");if(!r.ok){const t=r.status,o=r.statusText;let a;!((e=r.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await r.json():a={error:{message:await r.text(),code:r.status,status:r.statusText}};const l=`got status: ${t} ${o}. ${JSON.stringify(a)}`;throw t>=400&&t<500?new f_(l):t>=500&&t<600?new Ld(l):new Error(l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fw="mcp_used/unknown";function d_(r){for(const e of r)if(Wd(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function h_(r){var e;const t=(e=r[kd])!==null&&e!==void 0?e:"";r[kd]=(t+` ${Fw}`).trimStart()}function Yw(r){var e,t,o;return(o=(t=(e=r.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(a=>Wd(a)))!==null&&o!==void 0?o:!1}function $w(r){var e,t,o;return(o=(t=(e=r.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(a=>!Wd(a)))!==null&&o!==void 0?o:!1}function Wd(r){return r!==null&&typeof r=="object"&&r instanceof jd}function Zw(r,e=100){return na(this,arguments,function*(){let o,a=0;for(;a<e;){const l=yield ct(r.listTools({cursor:o}));for(const h of l.tools)yield yield ct(h),a++;if(!l.nextCursor)break;o=l.nextCursor}})}class jd{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new jd(e,t)}async initialize(){var e,t,o,a;if(this.mcpTools.length>0)return;const l={},h=[];for(const T of this.mcpClients)try{for(var y=!0,v=(t=void 0,Ms(Zw(T))),m;m=await v.next(),e=m.done,!e;y=!0){a=m.value,y=!1;const b=a;h.push(b);const w=b.name;if(l[w])throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);l[w]=T}}catch(b){t={error:b}}finally{try{!y&&!e&&(o=v.return)&&await o.call(v)}finally{if(t)throw t.error}}this.mcpTools=h,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),JC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const l=await this.functionNameToMcpClient[o.name].callTool({name:o.name,arguments:o.args});t.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Kw(r,e,t){const o=new OC;let a;t.data instanceof Blob?a=JSON.parse(await t.data.text()):a=JSON.parse(t.data);const l=o1(r,a);Object.assign(o,l),e(o)}class Jw{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o}async connect(e){var t,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),h=Ww(this.apiClient.getDefaultHeaders()),y=this.apiClient.getApiKey(),v=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${y}`;let m=()=>{};const T=new Promise(W=>{m=W}),b=e.callbacks,w=function(){m({})},D=this.apiClient,U={onopen:w,onmessage:W=>{Kw(D,b.onmessage,W)},onerror:(t=b==null?void 0:b.onerror)!==null&&t!==void 0?t:function(W){},onclose:(o=b==null?void 0:b.onclose)!==null&&o!==void 0?o:function(W){}},H=this.webSocketFactory.create(v,Xw(h),U);H.connect(),await T;const $=lt(this.apiClient,e.model),X=r_(this.apiClient,{model:$}),Q=Dd(this.apiClient,{setup:X});return H.send(JSON.stringify(Q)),new Qw(H,this.apiClient)}}class Qw{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=vA(this.apiClient,e),o=a_(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=_A(this.apiClient,e),o=Dd(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const t=Dd(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(ea.PLAY)}pause(){this.sendPlaybackControl(ea.PAUSE)}stop(){this.sendPlaybackControl(ea.STOP)}resetContext(){this.sendPlaybackControl(ea.RESET_CONTEXT)}close(){this.conn.close()}}function Xw(r){const e={};return r.forEach((t,o)=>{e[o]=t}),e}function Ww(r){const e=new Headers;for(const[t,o]of Object.entries(r))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jw="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function eM(r,e,t){const o=new LC;let a;if(t.data instanceof Blob?a=JSON.parse(await t.data.text()):a=JSON.parse(t.data),r.isVertexAI()){const l=JA(r,a);Object.assign(o,l)}else{const l=KA(r,a);Object.assign(o,l)}e(o)}class tM{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o,this.music=new Jw(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,o,a,l,h,y;const v=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let T;const b=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&d_(e.config.tools)&&h_(b);const w=rM(b);if(this.apiClient.isVertexAI())T=`${v}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(w);else{const le=this.apiClient.getApiKey();let ge="BidiGenerateContent",pe="key";le!=null&&le.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),ge="BidiGenerateContentConstrained",pe="access_token"),T=`${v}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ge}?${pe}=${le}`}let D=()=>{};const U=new Promise(le=>{D=le}),H=e.callbacks,$=function(){var le;(le=H==null?void 0:H.onopen)===null||le===void 0||le.call(H),D({})},X=this.apiClient,Q={onopen:$,onmessage:le=>{eM(X,H.onmessage,le)},onerror:(t=H==null?void 0:H.onerror)!==null&&t!==void 0?t:function(le){},onclose:(o=H==null?void 0:H.onclose)!==null&&o!==void 0?o:function(le){}},W=this.webSocketFactory.create(T,oM(w),Q);W.connect(),await U;let he=lt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&he.startsWith("publishers/")){const le=this.apiClient.getProject(),ge=this.apiClient.getLocation();he=`projects/${le}/locations/${ge}/`+he}let Y={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Au.AUDIO]}:e.config.responseModalities=[Au.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const se=(y=(h=e.config)===null||h===void 0?void 0:h.tools)!==null&&y!==void 0?y:[],ae=[];for(const le of se)if(this.isCallableTool(le)){const ge=le;ae.push(await ge.tool())}else ae.push(le);ae.length>0&&(e.config.tools=ae);const Ee={model:he,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Y=fA(this.apiClient,Ee):Y=cA(this.apiClient,Ee),delete Y.config,W.send(JSON.stringify(Y)),new iM(W,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const nM={turnComplete:!0};class iM{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let o=[];try{o=Vn(e,t.turns),e.isVertexAI()?o=o.map(a=>ya(e,a)):o=o.map(a=>Ou(e,a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let o=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?o=t.functionResponses:o=[t.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const l of o){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(jw)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},nM),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:yA(this.apiClient,e)}:t={realtimeInput:gA(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function oM(r){const e={};return r.forEach((t,o)=>{e[o]=t}),e}function rM(r){const e=new Headers;for(const[t,o]of Object.entries(r))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nv=10;function iv(r){var e,t,o;if(!((e=r==null?void 0:r.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const h of(t=r==null?void 0:r.tools)!==null&&t!==void 0?t:[])if(du(h)){a=!0;break}if(!a)return!0;const l=(o=r==null?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function du(r){return"callTool"in r&&typeof r.callTool=="function"}function ov(r){var e;return!(!((e=r==null?void 0:r.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aM extends ga{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var o,a,l,h,y;const v=await this.processParamsForMcpUsage(t);if(!Yw(t)||iv(t.config))return await this.generateContentInternal(v);if($w(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,T;const b=Vn(this.apiClient,v.contents),w=(l=(a=(o=v.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:nv;let D=0;for(;D<w&&(m=await this.generateContentInternal(v),!(!m.functionCalls||m.functionCalls.length===0));){const U=m.candidates[0].content,H=[];for(const $ of(y=(h=t.config)===null||h===void 0?void 0:h.tools)!==null&&y!==void 0?y:[])if(du($)){const Q=await $.callTool(m.functionCalls);H.push(...Q)}D++,T={role:"user",parts:H},v.contents=Vn(this.apiClient,v.contents),v.contents.push(U),v.contents.push(T),ov(v.config)&&(b.push(U),b.push(T))}return ov(v.config)&&(m.automaticFunctionCallingHistory=b),m},this.generateContentStream=async t=>{if(iv(t.config)){const o=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(o=>{var a;let l;const h=[];if(o!=null&&o.generatedImages)for(const v of o.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((a=v==null?void 0:v.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?l=v==null?void 0:v.safetyAttributes:h.push(v);let y;return l?y={generatedImages:h,positivePromptSafetyAttributes:l}:y={generatedImages:h},y}),this.list=async t=>{var o;const h={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((o=h.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new Lu(da.PAGED_ITEM_MODELS,y=>this.listInternal(y),await this.listInternal(h),h)},this.editImage=async t=>{const o={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(o.referenceImages=t.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async t=>{let o={numberOfImages:1,mode:"upscale"};t.config&&(o=Object.assign(Object.assign({},o),t.config));const a={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:o};return await this.upscaleImageInternal(a)}}async processParamsForMcpUsage(e){var t,o,a;const l=(t=e.config)===null||t===void 0?void 0:t.tools;if(!l)return e;const h=await Promise.all(l.map(async v=>du(v)?await v.tool():v)),y={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:h})};if(y.config.tools=h,e.config&&e.config.tools&&d_(e.config.tools)){const v=(a=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},v);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),h_(m),y.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return y}async initAfcToolsMap(e){var t,o,a;const l=new Map;for(const h of(o=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&o!==void 0?o:[])if(du(h)){const y=h,v=await y.tool();for(const m of(a=v.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(l.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);l.set(m.name,y)}}return l}async processAfcStream(e){var t,o,a;const l=(a=(o=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:nv;let h=!1,y=0;const v=await this.initAfcToolsMap(e);return function(m,T,b){var w,D;return na(this,arguments,function*(){for(var U,H,$,X;y<l;){h&&(y++,h=!1);const Y=yield ct(m.processParamsForMcpUsage(b)),se=yield ct(m.generateContentStreamInternal(Y)),ae=[],Ee=[];try{for(var Q=!0,W=(H=void 0,Ms(se)),he;he=yield ct(W.next()),U=he.done,!U;Q=!0){X=he.value,Q=!1;const le=X;if(yield yield ct(le),le.candidates&&(!((w=le.candidates[0])===null||w===void 0)&&w.content)){Ee.push(le.candidates[0].content);for(const ge of(D=le.candidates[0].content.parts)!==null&&D!==void 0?D:[])if(y<l&&ge.functionCall){if(!ge.functionCall.name)throw new Error("Function call name was not returned by the model.");if(T.has(ge.functionCall.name)){const pe=yield ct(T.get(ge.functionCall.name).callTool([ge.functionCall]));ae.push(...pe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${T.keys()}, mising tool: ${ge.functionCall.name}`)}}}}catch(le){H={error:le}}finally{try{!Q&&!U&&($=W.return)&&(yield ct($.call(W)))}finally{if(H)throw H.error}}if(ae.length>0){h=!0;const le=new As;le.candidates=[{content:{role:"user",parts:ae}}],yield yield ct(le);const ge=[];ge.push(...Ee),ge.push({role:"user",parts:ae});const pe=Vn(m.apiClient,b.contents).concat(ge);b.contents=pe}else break}})}(this,v,e)}async generateContentInternal(e){var t,o,a,l;let h,y="",v={};if(this.apiClient.isVertexAI()){const m=Xy(this.apiClient,e);return y=Me("{model}:generateContent",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(T=>T.json()),h.then(T=>{const b=jy(this.apiClient,T),w=new As;return Object.assign(w,b),w})}else{const m=Qy(this.apiClient,e);return y=Me("{model}:generateContent",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),h.then(T=>{const b=Wy(this.apiClient,T),w=new As;return Object.assign(w,b),w})}}async generateContentStreamInternal(e){var t,o,a,l;let h,y="",v={};if(this.apiClient.isVertexAI()){const m=Xy(this.apiClient,e);y=Me("{model}:streamGenerateContent?alt=sse",m._url),v=m._query,delete m.config,delete m._url,delete m._query;const T=this.apiClient;return h=T.requestStream({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),h.then(function(b){return na(this,arguments,function*(){var w,D,U,H;try{for(var $=!0,X=Ms(b),Q;Q=yield ct(X.next()),w=Q.done,!w;$=!0){H=Q.value,$=!1;const he=jy(T,yield ct(H.json())),Y=new As;Object.assign(Y,he),yield yield ct(Y)}}catch(W){D={error:W}}finally{try{!$&&!w&&(U=X.return)&&(yield ct(U.call(X)))}finally{if(D)throw D.error}}})})}else{const m=Qy(this.apiClient,e);y=Me("{model}:streamGenerateContent?alt=sse",m._url),v=m._query,delete m.config,delete m._url,delete m._query;const T=this.apiClient;return h=T.requestStream({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),h.then(function(b){return na(this,arguments,function*(){var w,D,U,H;try{for(var $=!0,X=Ms(b),Q;Q=yield ct(X.next()),w=Q.done,!w;$=!0){H=Q.value,$=!1;const he=Wy(T,yield ct(H.json())),Y=new As;Object.assign(Y,he),yield yield ct(Y)}}catch(W){D={error:W}}finally{try{!$&&!w&&(U=X.return)&&(yield ct(U.call(X)))}finally{if(D)throw D.error}}})})}}async embedContent(e){var t,o,a,l;let h,y="",v={};if(this.apiClient.isVertexAI()){const m=gb(this.apiClient,e);return y=Me("{model}:predict",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(T=>T.json()),h.then(T=>{const b=Tw(this.apiClient,T),w=new Ny;return Object.assign(w,b),w})}else{const m=R1(this.apiClient,e);return y=Me("{model}:batchEmbedContents",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),h.then(T=>{const b=Qb(this.apiClient,T),w=new Ny;return Object.assign(w,b),w})}}async generateImagesInternal(e){var t,o,a,l;let h,y="",v={};if(this.apiClient.isVertexAI()){const m=vb(this.apiClient,e);return y=Me("{model}:predict",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(T=>T.json()),h.then(T=>{const b=Ew(this.apiClient,T),w=new Dy;return Object.assign(w,b),w})}else{const m=D1(this.apiClient,e);return y=Me("{model}:predict",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),h.then(T=>{const b=jb(this.apiClient,T),w=new Dy;return Object.assign(w,b),w})}}async editImageInternal(e){var t,o;let a,l="",h={};if(this.apiClient.isVertexAI()){const y=bb(this.apiClient,e);return l=Me("{model}:predict",y._url),h=y._query,delete y.config,delete y._url,delete y._query,a=this.apiClient.request({path:l,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>{const m=Sw(this.apiClient,v),T=new RC;return Object.assign(T,m),T})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,o;let a,l="",h={};if(this.apiClient.isVertexAI()){const y=Mb(this.apiClient,e);return l=Me("{model}:predict",y._url),h=y._query,delete y.config,delete y._url,delete y._query,a=this.apiClient.request({path:l,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>{const m=Aw(this.apiClient,v),T=new NC;return Object.assign(T,m),T})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,o,a,l;let h,y="",v={};if(this.apiClient.isVertexAI()){const m=xb(this.apiClient,e);return y=Me("{name}",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(T=>T.json()),h.then(T=>Ud(this.apiClient,T))}else{const m=I1(this.apiClient,e);return y=Me("{name}",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),h.then(T=>Id(this.apiClient,T))}}async listInternal(e){var t,o,a,l;let h,y="",v={};if(this.apiClient.isVertexAI()){const m=Nb(this.apiClient,e);return y=Me("{models_url}",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(T=>T.json()),h.then(T=>{const b=xw(this.apiClient,T),w=new Iy;return Object.assign(w,b),w})}else{const m=k1(this.apiClient,e);return y=Me("{models_url}",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),h.then(T=>{const b=tw(this.apiClient,T),w=new Iy;return Object.assign(w,b),w})}}async update(e){var t,o,a,l;let h,y="",v={};if(this.apiClient.isVertexAI()){const m=Ib(this.apiClient,e);return y=Me("{model}",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(T=>T.json()),h.then(T=>Ud(this.apiClient,T))}else{const m=O1(this.apiClient,e);return y=Me("{name}",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),h.then(T=>Id(this.apiClient,T))}}async delete(e){var t,o,a,l;let h,y="",v={};if(this.apiClient.isVertexAI()){const m=Ub(this.apiClient,e);return y=Me("{name}",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(T=>T.json()),h.then(()=>{const T=Rw(),b=new Uy;return Object.assign(b,T),b})}else{const m=P1(this.apiClient,e);return y=Me("{name}",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),h.then(()=>{const T=nw(),b=new Uy;return Object.assign(b,T),b})}}async countTokens(e){var t,o,a,l;let h,y="",v={};if(this.apiClient.isVertexAI()){const m=Lb(this.apiClient,e);return y=Me("{model}:countTokens",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(T=>T.json()),h.then(T=>{const b=Nw(this.apiClient,T),w=new ky;return Object.assign(w,b),w})}else{const m=q1(this.apiClient,e);return y=Me("{model}:countTokens",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),h.then(T=>{const b=iw(this.apiClient,T),w=new ky;return Object.assign(w,b),w})}}async computeTokens(e){var t,o;let a,l="",h={};if(this.apiClient.isVertexAI()){const y=Ob(this.apiClient,e);return l=Me("{model}:computeTokens",y._url),h=y._query,delete y.config,delete y._url,delete y._query,a=this.apiClient.request({path:l,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>{const m=Dw(this.apiClient,v),T=new DC;return Object.assign(T,m),T})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,o,a,l;let h,y="",v={};if(this.apiClient.isVertexAI()){const m=Vb(this.apiClient,e);return y=Me("{model}:predictLongRunning",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(T=>T.json()),h.then(T=>Lw(this.apiClient,T))}else{const m=G1(this.apiClient,e);return y=Me("{model}:predictLongRunning",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),h.then(T=>sw(this.apiClient,T))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sM(r,e){const t={},o=c(e,["operationName"]);o!=null&&f(t,["_url","operationName"],o);const a=c(e,["config"]);return a!=null&&f(t,["config"],a),t}function lM(r,e){const t={},o=c(e,["operationName"]);o!=null&&f(t,["_url","operationName"],o);const a=c(e,["config"]);return a!=null&&f(t,["config"],a),t}function uM(r,e){const t={},o=c(e,["operationName"]);o!=null&&f(t,["operationName"],o);const a=c(e,["resourceName"]);a!=null&&f(t,["_url","resourceName"],a);const l=c(e,["config"]);return l!=null&&f(t,["config"],l),t}function cM(r,e){const t={},o=c(e,["video","uri"]);o!=null&&f(t,["uri"],o);const a=c(e,["video","encodedVideo"]);a!=null&&f(t,["videoBytes"],Ro(r,a));const l=c(e,["encoding"]);return l!=null&&f(t,["mimeType"],l),t}function fM(r,e){const t={},o=c(e,["_self"]);return o!=null&&f(t,["video"],cM(r,o)),t}function dM(r,e){const t={},o=c(e,["generatedSamples"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(y=>fM(r,y))),f(t,["generatedVideos"],h)}const a=c(e,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const l=c(e,["raiMediaFilteredReasons"]);return l!=null&&f(t,["raiMediaFilteredReasons"],l),t}function hM(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const a=c(e,["metadata"]);a!=null&&f(t,["metadata"],a);const l=c(e,["done"]);l!=null&&f(t,["done"],l);const h=c(e,["error"]);h!=null&&f(t,["error"],h);const y=c(e,["response","generateVideoResponse"]);return y!=null&&f(t,["response"],dM(r,y)),t}function mM(r,e){const t={},o=c(e,["gcsUri"]);o!=null&&f(t,["uri"],o);const a=c(e,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],Ro(r,a));const l=c(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function pM(r,e){const t={},o=c(e,["_self"]);return o!=null&&f(t,["video"],mM(r,o)),t}function gM(r,e){const t={},o=c(e,["videos"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(y=>pM(r,y))),f(t,["generatedVideos"],h)}const a=c(e,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const l=c(e,["raiMediaFilteredReasons"]);return l!=null&&f(t,["raiMediaFilteredReasons"],l),t}function rv(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const a=c(e,["metadata"]);a!=null&&f(t,["metadata"],a);const l=c(e,["done"]);l!=null&&f(t,["done"],l);const h=c(e,["error"]);h!=null&&f(t,["error"],h);const y=c(e,["response"]);return y!=null&&f(t,["response"],gM(r,y)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yM extends ga{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=t.name.split("/operations/")[0];let l;return o&&"httpOptions"in o&&(l=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:a,config:{httpOptions:l}})}else return this.getVideosOperationInternal({operationName:t.name,config:o})}async getVideosOperationInternal(e){var t,o,a,l;let h,y="",v={};if(this.apiClient.isVertexAI()){const m=lM(this.apiClient,e);return y=Me("{operationName}",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(T=>T.json()),h.then(T=>rv(this.apiClient,T))}else{const m=sM(this.apiClient,e);return y=Me("{operationName}",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),h.then(T=>hM(this.apiClient,T))}}async fetchPredictVideosOperationInternal(e){var t,o;let a,l="",h={};if(this.apiClient.isVertexAI()){const y=uM(this.apiClient,e);return l=Me("{resourceName}:fetchPredictOperation",y._url),h=y._query,delete y.config,delete y._url,delete y._query,a=this.apiClient.request({path:l,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>rv(this.apiClient,v))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vM(r,e){const t={},o=c(e,["voiceName"]);return o!=null&&f(t,["voiceName"],o),t}function m_(r,e){const t={},o=c(e,["prebuiltVoiceConfig"]);return o!=null&&f(t,["prebuiltVoiceConfig"],vM(r,o)),t}function _M(r,e){const t={},o=c(e,["speaker"]);o!=null&&f(t,["speaker"],o);const a=c(e,["voiceConfig"]);return a!=null&&f(t,["voiceConfig"],m_(r,a)),t}function TM(r,e){const t={},o=c(e,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>_M(r,l))),f(t,["speakerVoiceConfigs"],a)}return t}function CM(r,e){const t={},o=c(e,["voiceConfig"]);o!=null&&f(t,["voiceConfig"],m_(r,o));const a=c(e,["multiSpeakerVoiceConfig"]);a!=null&&f(t,["multiSpeakerVoiceConfig"],TM(r,a));const l=c(e,["languageCode"]);return l!=null&&f(t,["languageCode"],l),t}function EM(r,e){const t={},o=c(e,["fps"]);o!=null&&f(t,["fps"],o);const a=c(e,["endOffset"]);a!=null&&f(t,["endOffset"],a);const l=c(e,["startOffset"]);return l!=null&&f(t,["startOffset"],l),t}function SM(r,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["data"]);o!=null&&f(t,["data"],o);const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function AM(r,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=c(e,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function bM(r,e){const t={},o=c(e,["videoMetadata"]);o!=null&&f(t,["videoMetadata"],EM(r,o));const a=c(e,["thought"]);a!=null&&f(t,["thought"],a);const l=c(e,["inlineData"]);l!=null&&f(t,["inlineData"],SM(r,l));const h=c(e,["fileData"]);h!=null&&f(t,["fileData"],AM(r,h));const y=c(e,["thoughtSignature"]);y!=null&&f(t,["thoughtSignature"],y);const v=c(e,["codeExecutionResult"]);v!=null&&f(t,["codeExecutionResult"],v);const m=c(e,["executableCode"]);m!=null&&f(t,["executableCode"],m);const T=c(e,["functionCall"]);T!=null&&f(t,["functionCall"],T);const b=c(e,["functionResponse"]);b!=null&&f(t,["functionResponse"],b);const w=c(e,["text"]);return w!=null&&f(t,["text"],w),t}function wM(r,e){const t={},o=c(e,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(h=>bM(r,h))),f(t,["parts"],l)}const a=c(e,["role"]);return a!=null&&f(t,["role"],a),t}function MM(r,e){const t={},o=c(e,["behavior"]);o!=null&&f(t,["behavior"],o);const a=c(e,["description"]);a!=null&&f(t,["description"],a);const l=c(e,["name"]);l!=null&&f(t,["name"],l);const h=c(e,["parameters"]);h!=null&&f(t,["parameters"],h);const y=c(e,["response"]);return y!=null&&f(t,["response"],y),t}function xM(r,e){const t={},o=c(e,["startTime"]);o!=null&&f(t,["startTime"],o);const a=c(e,["endTime"]);return a!=null&&f(t,["endTime"],a),t}function RM(r,e){const t={},o=c(e,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],xM(r,o)),t}function NM(r,e){const t={},o=c(e,["mode"]);o!=null&&f(t,["mode"],o);const a=c(e,["dynamicThreshold"]);return a!=null&&f(t,["dynamicThreshold"],a),t}function DM(r,e){const t={},o=c(e,["dynamicRetrievalConfig"]);return o!=null&&f(t,["dynamicRetrievalConfig"],NM(r,o)),t}function IM(){return{}}function UM(r,e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(m=>MM(r,m))),f(t,["functionDeclarations"],v)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=c(e,["googleSearch"]);a!=null&&f(t,["googleSearch"],RM(r,a));const l=c(e,["googleSearchRetrieval"]);if(l!=null&&f(t,["googleSearchRetrieval"],DM(r,l)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&f(t,["urlContext"],IM());const y=c(e,["codeExecution"]);return y!=null&&f(t,["codeExecution"],y),t}function kM(r,e){const t={},o=c(e,["handle"]);if(o!=null&&f(t,["handle"],o),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function av(){return{}}function LM(r,e){const t={},o=c(e,["disabled"]);o!=null&&f(t,["disabled"],o);const a=c(e,["startOfSpeechSensitivity"]);a!=null&&f(t,["startOfSpeechSensitivity"],a);const l=c(e,["endOfSpeechSensitivity"]);l!=null&&f(t,["endOfSpeechSensitivity"],l);const h=c(e,["prefixPaddingMs"]);h!=null&&f(t,["prefixPaddingMs"],h);const y=c(e,["silenceDurationMs"]);return y!=null&&f(t,["silenceDurationMs"],y),t}function OM(r,e){const t={},o=c(e,["automaticActivityDetection"]);o!=null&&f(t,["automaticActivityDetection"],LM(r,o));const a=c(e,["activityHandling"]);a!=null&&f(t,["activityHandling"],a);const l=c(e,["turnCoverage"]);return l!=null&&f(t,["turnCoverage"],l),t}function PM(r,e){const t={},o=c(e,["targetTokens"]);return o!=null&&f(t,["targetTokens"],o),t}function VM(r,e){const t={},o=c(e,["triggerTokens"]);o!=null&&f(t,["triggerTokens"],o);const a=c(e,["slidingWindow"]);return a!=null&&f(t,["slidingWindow"],PM(r,a)),t}function qM(r,e){const t={},o=c(e,["proactiveAudio"]);return o!=null&&f(t,["proactiveAudio"],o),t}function BM(r,e,t){const o={},a=c(e,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const l=c(e,["responseModalities"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig","responseModalities"],l);const h=c(e,["temperature"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","temperature"],h);const y=c(e,["topP"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","topP"],y);const v=c(e,["topK"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","topK"],v);const m=c(e,["maxOutputTokens"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","maxOutputTokens"],m);const T=c(e,["mediaResolution"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","mediaResolution"],T);const b=c(e,["seed"]);t!==void 0&&b!=null&&f(t,["setup","generationConfig","seed"],b);const w=c(e,["speechConfig"]);t!==void 0&&w!=null&&f(t,["setup","generationConfig","speechConfig"],CM(r,Jd(r,w)));const D=c(e,["enableAffectiveDialog"]);t!==void 0&&D!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],D);const U=c(e,["systemInstruction"]);t!==void 0&&U!=null&&f(t,["setup","systemInstruction"],wM(r,Kt(r,U)));const H=c(e,["tools"]);if(t!==void 0&&H!=null){let se=Ls(r,H);Array.isArray(se)&&(se=se.map(ae=>UM(r,ks(r,ae)))),f(t,["setup","tools"],se)}const $=c(e,["sessionResumption"]);t!==void 0&&$!=null&&f(t,["setup","sessionResumption"],kM(r,$));const X=c(e,["inputAudioTranscription"]);t!==void 0&&X!=null&&f(t,["setup","inputAudioTranscription"],av());const Q=c(e,["outputAudioTranscription"]);t!==void 0&&Q!=null&&f(t,["setup","outputAudioTranscription"],av());const W=c(e,["realtimeInputConfig"]);t!==void 0&&W!=null&&f(t,["setup","realtimeInputConfig"],OM(r,W));const he=c(e,["contextWindowCompression"]);t!==void 0&&he!=null&&f(t,["setup","contextWindowCompression"],VM(r,he));const Y=c(e,["proactivity"]);return t!==void 0&&Y!=null&&f(t,["setup","proactivity"],qM(r,Y)),o}function zM(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["setup","model"],lt(r,o));const a=c(e,["config"]);return a!=null&&f(t,["config"],BM(r,a,t)),t}function GM(r,e,t){const o={},a=c(e,["expireTime"]);t!==void 0&&a!=null&&f(t,["expireTime"],a);const l=c(e,["newSessionExpireTime"]);t!==void 0&&l!=null&&f(t,["newSessionExpireTime"],l);const h=c(e,["uses"]);t!==void 0&&h!=null&&f(t,["uses"],h);const y=c(e,["liveConnectConstraints"]);t!==void 0&&y!=null&&f(t,["bidiGenerateContentSetup"],zM(r,y));const v=c(e,["lockAdditionalFields"]);return t!==void 0&&v!=null&&f(t,["fieldMask"],v),o}function HM(r,e){const t={},o=c(e,["config"]);return o!=null&&f(t,["config"],GM(r,o,t)),t}function FM(r,e){const t={},o=c(e,["name"]);return o!=null&&f(t,["name"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YM(r){const e=[];for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)){const o=r[t];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const a=Object.keys(o).map(l=>`${t}.${l}`);e.push(...a)}else e.push(t)}return e.join(",")}function $M(r,e){let t=null;const o=r.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const l=o.setup;typeof l=="object"&&l!==null?(r.bidiGenerateContentSetup=l,t=l):delete r.bidiGenerateContentSetup}else o!==void 0&&delete r.bidiGenerateContentSetup;const a=r.fieldMask;if(t){const l=YM(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?r.fieldMask=l:delete r.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let y=[];a.length>0&&(y=a.map(m=>h.includes(m)?`generationConfig.${m}`:m));const v=[];l&&v.push(l),y.length>0&&v.push(...y),v.length>0?r.fieldMask=v.join(","):delete r.fieldMask}else delete r.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?r.fieldMask=a.join(","):delete r.fieldMask;return r}class ZM extends ga{constructor(e){super(),this.apiClient=e}async create(e){var t,o;let a,l="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const y=HM(this.apiClient,e);l=Me("auth_tokens",y._url),h=y._query,delete y.config,delete y._url,delete y._query;const v=$M(y,e.config);return a=this.apiClient.request({path:l,queryParams:h,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),a.then(m=>FM(this.apiClient,m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KM(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","name"],o);const a=c(e,["config"]);return a!=null&&f(t,["config"],a),t}function JM(r,e,t){const o={},a=c(e,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const l=c(e,["pageToken"]);t!==void 0&&l!=null&&f(t,["_query","pageToken"],l);const h=c(e,["filter"]);return t!==void 0&&h!=null&&f(t,["_query","filter"],h),o}function QM(r,e){const t={},o=c(e,["config"]);return o!=null&&f(t,["config"],JM(r,o,t)),t}function XM(r,e){const t={},o=c(e,["textInput"]);o!=null&&f(t,["textInput"],o);const a=c(e,["output"]);return a!=null&&f(t,["output"],a),t}function WM(r,e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=c(e,["examples"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>XM(r,l))),f(t,["examples","examples"],a)}return t}function jM(r,e,t){const o={};if(c(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=c(e,["tunedModelDisplayName"]);if(t!==void 0&&a!=null&&f(t,["displayName"],a),c(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=c(e,["epochCount"]);t!==void 0&&l!=null&&f(t,["tuningTask","hyperparameters","epochCount"],l);const h=c(e,["learningRateMultiplier"]);if(h!=null&&f(o,["tuningTask","hyperparameters","learningRateMultiplier"],h),c(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const y=c(e,["batchSize"]);t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","batchSize"],y);const v=c(e,["learningRate"]);return t!==void 0&&v!=null&&f(t,["tuningTask","hyperparameters","learningRate"],v),o}function ex(r,e){const t={},o=c(e,["baseModel"]);o!=null&&f(t,["baseModel"],o);const a=c(e,["trainingDataset"]);a!=null&&f(t,["tuningTask","trainingData"],WM(r,a));const l=c(e,["config"]);return l!=null&&f(t,["config"],jM(r,l,t)),t}function tx(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["_url","name"],o);const a=c(e,["config"]);return a!=null&&f(t,["config"],a),t}function nx(r,e,t){const o={},a=c(e,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const l=c(e,["pageToken"]);t!==void 0&&l!=null&&f(t,["_query","pageToken"],l);const h=c(e,["filter"]);return t!==void 0&&h!=null&&f(t,["_query","filter"],h),o}function ix(r,e){const t={},o=c(e,["config"]);return o!=null&&f(t,["config"],nx(r,o,t)),t}function ox(r,e,t){const o={},a=c(e,["gcsUri"]);if(t!==void 0&&a!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],a),c(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function rx(r,e){const t={},o=c(e,["gcsUri"]);return o!=null&&f(t,["validationDatasetUri"],o),t}function ax(r,e,t){const o={},a=c(e,["validationDataset"]);t!==void 0&&a!=null&&f(t,["supervisedTuningSpec"],rx(r,a));const l=c(e,["tunedModelDisplayName"]);t!==void 0&&l!=null&&f(t,["tunedModelDisplayName"],l);const h=c(e,["description"]);t!==void 0&&h!=null&&f(t,["description"],h);const y=c(e,["epochCount"]);t!==void 0&&y!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],y);const v=c(e,["learningRateMultiplier"]);t!==void 0&&v!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v);const m=c(e,["exportLastCheckpointOnly"]);t!==void 0&&m!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],m);const T=c(e,["adapterSize"]);if(t!==void 0&&T!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],T),c(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function sx(r,e){const t={},o=c(e,["baseModel"]);o!=null&&f(t,["baseModel"],o);const a=c(e,["trainingDataset"]);a!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],ox(r,a,t));const l=c(e,["config"]);return l!=null&&f(t,["config"],ax(r,l,t)),t}function lx(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["model"],o);const a=c(e,["name"]);return a!=null&&f(t,["endpoint"],a),t}function p_(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const a=c(e,["state"]);a!=null&&f(t,["state"],Xv(r,a));const l=c(e,["createTime"]);l!=null&&f(t,["createTime"],l);const h=c(e,["tuningTask","startTime"]);h!=null&&f(t,["startTime"],h);const y=c(e,["tuningTask","completeTime"]);y!=null&&f(t,["endTime"],y);const v=c(e,["updateTime"]);v!=null&&f(t,["updateTime"],v);const m=c(e,["description"]);m!=null&&f(t,["description"],m);const T=c(e,["baseModel"]);T!=null&&f(t,["baseModel"],T);const b=c(e,["_self"]);b!=null&&f(t,["tunedModel"],lx(r,b));const w=c(e,["distillationSpec"]);w!=null&&f(t,["distillationSpec"],w);const D=c(e,["experiment"]);D!=null&&f(t,["experiment"],D);const U=c(e,["labels"]);U!=null&&f(t,["labels"],U);const H=c(e,["pipelineJob"]);H!=null&&f(t,["pipelineJob"],H);const $=c(e,["serviceAccount"]);$!=null&&f(t,["serviceAccount"],$);const X=c(e,["tunedModelDisplayName"]);return X!=null&&f(t,["tunedModelDisplayName"],X),t}function ux(r,e){const t={},o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const a=c(e,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(h=>p_(r,h))),f(t,["tuningJobs"],l)}return t}function cx(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const a=c(e,["metadata"]);a!=null&&f(t,["metadata"],a);const l=c(e,["done"]);l!=null&&f(t,["done"],l);const h=c(e,["error"]);return h!=null&&f(t,["error"],h),t}function fx(r,e){const t={},o=c(e,["checkpointId"]);o!=null&&f(t,["checkpointId"],o);const a=c(e,["epoch"]);a!=null&&f(t,["epoch"],a);const l=c(e,["step"]);l!=null&&f(t,["step"],l);const h=c(e,["endpoint"]);return h!=null&&f(t,["endpoint"],h),t}function dx(r,e){const t={},o=c(e,["model"]);o!=null&&f(t,["model"],o);const a=c(e,["endpoint"]);a!=null&&f(t,["endpoint"],a);const l=c(e,["checkpoints"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(y=>fx(r,y))),f(t,["checkpoints"],h)}return t}function Od(r,e){const t={},o=c(e,["name"]);o!=null&&f(t,["name"],o);const a=c(e,["state"]);a!=null&&f(t,["state"],Xv(r,a));const l=c(e,["createTime"]);l!=null&&f(t,["createTime"],l);const h=c(e,["startTime"]);h!=null&&f(t,["startTime"],h);const y=c(e,["endTime"]);y!=null&&f(t,["endTime"],y);const v=c(e,["updateTime"]);v!=null&&f(t,["updateTime"],v);const m=c(e,["error"]);m!=null&&f(t,["error"],m);const T=c(e,["description"]);T!=null&&f(t,["description"],T);const b=c(e,["baseModel"]);b!=null&&f(t,["baseModel"],b);const w=c(e,["tunedModel"]);w!=null&&f(t,["tunedModel"],dx(r,w));const D=c(e,["supervisedTuningSpec"]);D!=null&&f(t,["supervisedTuningSpec"],D);const U=c(e,["tuningDataStats"]);U!=null&&f(t,["tuningDataStats"],U);const H=c(e,["encryptionSpec"]);H!=null&&f(t,["encryptionSpec"],H);const $=c(e,["partnerModelTuningSpec"]);$!=null&&f(t,["partnerModelTuningSpec"],$);const X=c(e,["distillationSpec"]);X!=null&&f(t,["distillationSpec"],X);const Q=c(e,["experiment"]);Q!=null&&f(t,["experiment"],Q);const W=c(e,["labels"]);W!=null&&f(t,["labels"],W);const he=c(e,["pipelineJob"]);he!=null&&f(t,["pipelineJob"],he);const Y=c(e,["serviceAccount"]);Y!=null&&f(t,["serviceAccount"],Y);const se=c(e,["tunedModelDisplayName"]);return se!=null&&f(t,["tunedModelDisplayName"],se),t}function hx(r,e){const t={},o=c(e,["nextPageToken"]);o!=null&&f(t,["nextPageToken"],o);const a=c(e,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(h=>Od(r,h))),f(t,["tuningJobs"],l)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mx extends ga{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Lu(da.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const o=await this.tuneMldevInternal(t);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:Md.JOB_STATE_QUEUED}}}}async getInternal(e){var t,o,a,l;let h,y="",v={};if(this.apiClient.isVertexAI()){const m=tx(this.apiClient,e);return y=Me("{name}",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(T=>T.json()),h.then(T=>Od(this.apiClient,T))}else{const m=KM(this.apiClient,e);return y=Me("{name}",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),h.then(T=>p_(this.apiClient,T))}}async listInternal(e){var t,o,a,l;let h,y="",v={};if(this.apiClient.isVertexAI()){const m=ix(this.apiClient,e);return y=Me("tuningJobs",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(T=>T.json()),h.then(T=>{const b=hx(this.apiClient,T),w=new Ly;return Object.assign(w,b),w})}else{const m=QM(this.apiClient,e);return y=Me("tunedModels",m._url),v=m._query,delete m.config,delete m._url,delete m._query,h=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(T=>T.json()),h.then(T=>{const b=ux(this.apiClient,T),w=new Ly;return Object.assign(w,b),w})}}async tuneInternal(e){var t,o;let a,l="",h={};if(this.apiClient.isVertexAI()){const y=sx(this.apiClient,e);return l=Me("tuningJobs",y._url),h=y._query,delete y.config,delete y._url,delete y._query,a=this.apiClient.request({path:l,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>Od(this.apiClient,v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,o;let a,l="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=ex(this.apiClient,e);return l=Me("tunedModels",y._url),h=y._query,delete y.config,delete y._url,delete y._query,a=this.apiClient.request({path:l,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),a.then(v=>cx(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class px{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const gx=1024*1024*8,yx=3,vx=1e3,_x=2,cd="x-goog-upload-status";async function Tx(r,e,t){var o,a,l;let h=0,y=0,v=new xd(new Response),m="upload";for(h=r.size;y<h;){const b=Math.min(gx,h-y),w=r.slice(y,y+b);y+b>=h&&(m+=", finalize");let D=0,U=vx;for(;D<yx&&(v=await t.request({path:"",body:w,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(y),"Content-Length":String(b)}}}),!(!((o=v==null?void 0:v.headers)===null||o===void 0)&&o[cd]));)D++,await Ex(U),U=U*_x;if(y+=b,((a=v==null?void 0:v.headers)===null||a===void 0?void 0:a[cd])!=="active")break;if(h<=y)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const T=await(v==null?void 0:v.json());if(((l=v==null?void 0:v.headers)===null||l===void 0?void 0:l[cd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return T.file}async function Cx(r){return{size:r.size,type:r.type}}function Ex(r){return new Promise(e=>setTimeout(e,r))}class Sx{async upload(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Tx(e,t,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Cx(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ax{create(e,t,o){return new bx(e,t,o)}}class bx{constructor(e,t,o){this.url=e,this.headers=t,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sv="x-goog-api-key";class wx{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(sv)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(sv,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mx="gl-node/";class xx{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const o=xC(e,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const a=new wx(this.apiKey);this.apiClient=new Hw({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Mx+"web",uploader:new Sx,downloader:new px}),this.models=new aM(this.apiClient),this.live=new tM(this.apiClient,a,new Ax),this.chats=new tS(this.models,this.apiClient),this.caches=new WE(this.apiClient),this.files=new mS(this.apiClient),this.operations=new yM(this.apiClient),this.authTokens=new ZM(this.apiClient),this.tunings=new mx(this.apiClient)}}const Rx="imagen-4.0-fast-generate-001",Nx="AIzaSyCiIQUZs7KvNovpfn3ye2gOCB0Tks5Sv5w",Dx=new xx({apiKey:Nx}),lv=async(r,e)=>{var o;const t=`Generate a pixel art image. The subject is: "${r}". Style: 8-bit retro game, detailed pixel illustration.`;try{const a=await Dx.models.generateImages({model:Rx,prompt:t,config:{numberOfImages:1,outputMimeType:"image/png",aspectRatio:e}});if(a.generatedImages&&a.generatedImages.length>0){const l=a.generatedImages[0];if((o=l.image)!=null&&o.imageBytes)return{imageDataUrl:`data:image/png;base64,${l.image.imageBytes}`,altText:`Pixel art for: ${r} (intended aspect ratio: ${e})`};throw new Error("Image data is missing in the API response.")}else throw new Error("The AI couldn't generate an image for this prompt. This might be due to safety filters or the specific nature of your request. Please try rephrasing or using a different prompt.")}catch(a){throw console.error("Error generating image with Gemini API:",a),a instanceof Error?a.message.includes("API key not valid")?new Error("Invalid API Key. Please check your API_KEY environment variable."):a.message.toLowerCase().includes("quota")||(a==null?void 0:a.status)===429?new Error("API quota exceeded. Please try again later or check your quota limits."):new Error(`Failed to generate image: ${a.message}`):new Error("An unknown error occurred while generating the image.")}},Ix=()=>{};var uv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=function(r){const e=[];let t=0;for(let o=0;o<r.length;o++){let a=r.charCodeAt(o);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&o+1<r.length&&(r.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++o)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},Ux=function(r){const e=[];let t=0,o=0;for(;t<r.length;){const a=r[t++];if(a<128)e[o++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[o++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],h=r[t++],y=r[t++],v=((a&7)<<18|(l&63)<<12|(h&63)<<6|y&63)-65536;e[o++]=String.fromCharCode(55296+(v>>10)),e[o++]=String.fromCharCode(56320+(v&1023))}else{const l=r[t++],h=r[t++];e[o++]=String.fromCharCode((a&15)<<12|(l&63)<<6|h&63)}}return e.join("")},y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<r.length;a+=3){const l=r[a],h=a+1<r.length,y=h?r[a+1]:0,v=a+2<r.length,m=v?r[a+2]:0,T=l>>2,b=(l&3)<<4|y>>4;let w=(y&15)<<2|m>>6,D=m&63;v||(D=64,h||(w=64)),o.push(t[T],t[b],t[w],t[D])}return o.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(g_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Ux(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],y=a<r.length?t[r.charAt(a)]:0;++a;const m=a<r.length?t[r.charAt(a)]:64;++a;const b=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||y==null||m==null||b==null)throw new kx;const w=l<<2|y>>4;if(o.push(w),m!==64){const D=y<<4&240|m>>2;if(o.push(D),b!==64){const U=m<<6&192|b;o.push(U)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class kx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lx=function(r){const e=g_(r);return y_.encodeByteArray(e,!0)},v_=function(r){return Lx(r).replace(/\./g,"")},__=function(r){try{return y_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=()=>Ox().__FIREBASE_DEFAULTS__,Vx=()=>{if(typeof process>"u"||typeof uv>"u")return;const r=uv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},qx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&__(r[1]);return e&&JSON.parse(e)},eh=()=>{try{return Ix()||Px()||Vx()||qx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Bx=r=>{var e,t;return(t=(e=eh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},T_=()=>{var r;return(r=eh())===null||r===void 0?void 0:r.config},C_=r=>{var e;return(e=eh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,o)=>{t?this.reject(t):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(r){return r.endsWith(".cloudworkstations.dev")}async function Gx(r){return(await fetch(r,{credentials:"include"})).ok}const xs={};function Hx(){const r={prod:[],emulator:[]};for(const e of Object.keys(xs))xs[e]?r.emulator.push(e):r.prod.push(e);return r}function Fx(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let cv=!1;function Yx(r,e){if(typeof window>"u"||typeof document>"u"||!th(window.location.host)||xs[r]===e||xs[r]||cv)return;xs[r]=e;function t(w){return`__firebase__banner__${w}`}const o="__firebase__banner",l=Hx().prod.length>0;function h(){const w=document.getElementById(o);w&&w.remove()}function y(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function v(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{cv=!0,h()},w}function T(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=Fx(o),D=t("text"),U=document.getElementById(D)||document.createElement("span"),H=t("learnmore"),$=document.getElementById(H)||document.createElement("a"),X=t("preprendIcon"),Q=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const W=w.element;y(W),T($,H);const he=m();v(Q,X),W.append(Q,U,$,he),document.body.appendChild(W)}l?(U.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $x(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function Zx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kx(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Jx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qx(){const r=Qt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Xx(){try{return typeof indexedDB=="object"}catch{return!1}}function Wx(){return new Promise((r,e)=>{try{let t=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(o),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="FirebaseError";class No extends Error{constructor(e,t,o){super(t),this.code=e,this.customData=o,this.name=jx,Object.setPrototypeOf(this,No.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Os.prototype.create)}}class Os{constructor(e,t,o){this.service=e,this.serviceName=t,this.errors=o}create(e,...t){const o=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],h=l?eR(l,o):"Error",y=`${this.serviceName}: ${h} (${a}).`;return new No(a,y,o)}}function eR(r,e){return r.replace(tR,(t,o)=>{const a=e[o];return a!=null?String(a):`<${o}?>`})}const tR=/\{\$([^}]+)}/g;function nR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ha(r,e){if(r===e)return!0;const t=Object.keys(r),o=Object.keys(e);for(const a of t){if(!o.includes(a))return!1;const l=r[a],h=e[a];if(fv(l)&&fv(h)){if(!ha(l,h))return!1}else if(l!==h)return!1}for(const a of o)if(!t.includes(a))return!1;return!0}function fv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(r){const e=[];for(const[t,o]of Object.entries(r))Array.isArray(o)?o.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(o));return e.length?"&"+e.join("&"):""}function iR(r,e){const t=new oR(r,e);return t.subscribe.bind(t)}class oR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(o=>{this.error(o)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,o){let a;if(e===void 0&&t===void 0&&o===void 0)throw new Error("Missing Observer.");rR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:o},a.next===void 0&&(a.next=fd),a.error===void 0&&(a.error=fd),a.complete===void 0&&(a.complete=fd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function fd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(r){return r&&r._delegate?r._delegate:r}class ma{constructor(e,t,o){this.name=e,this.instanceFactory=t,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const o=new zx;if(this.instancesDeferred.set(t,o),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lR(e))try{this.getOrInitializeService({instanceIdentifier:tr})}catch{}for(const[t,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});o.resolve(l)}catch{}}}}clearInstance(e=tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tr){return this.instances.has(e)}getOptions(e=tr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:t});for(const[l,h]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(l);o===y&&h.resolve(a)}return a}onInit(e,t){var o;const a=this.normalizeInstanceIdentifier(t),l=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;l.add(e),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&e(h,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const o=this.onInitCallbacks.get(t);if(o)for(const a of o)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:sR(e),options:t}),this.instances.set(e,o),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=tr){return this.component?this.component.multipleInstances?e:tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sR(r){return r===tr?void 0:r}function lR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new aR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(rt||(rt={}));const cR={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},fR=rt.INFO,dR={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},hR=(r,e,...t)=>{if(e<r.logLevel)return;const o=new Date().toISOString(),a=dR[e];if(a)console[a](`[${o}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E_{constructor(e){this.name=e,this._logLevel=fR,this._logHandler=hR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const mR=(r,e)=>e.some(t=>r instanceof t);let dv,hv;function pR(){return dv||(dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gR(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S_=new WeakMap,Pd=new WeakMap,A_=new WeakMap,dd=new WeakMap,nh=new WeakMap;function yR(r){const e=new Promise((t,o)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(bo(r.result)),a()},h=()=>{o(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&S_.set(t,r)}).catch(()=>{}),nh.set(e,r),e}function vR(r){if(Pd.has(r))return;const e=new Promise((t,o)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),a()},h=()=>{o(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Pd.set(r,e)}let Vd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Pd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||A_.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bo(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function _R(r){Vd=r(Vd)}function TR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const o=r.call(hd(this),e,...t);return A_.set(o,e.sort?e.sort():[e]),bo(o)}:gR().includes(r)?function(...e){return r.apply(hd(this),e),bo(S_.get(this))}:function(...e){return bo(r.apply(hd(this),e))}}function CR(r){return typeof r=="function"?TR(r):(r instanceof IDBTransaction&&vR(r),mR(r,pR())?new Proxy(r,Vd):r)}function bo(r){if(r instanceof IDBRequest)return yR(r);if(dd.has(r))return dd.get(r);const e=CR(r);return e!==r&&(dd.set(r,e),nh.set(e,r)),e}const hd=r=>nh.get(r);function ER(r,e,{blocked:t,upgrade:o,blocking:a,terminated:l}={}){const h=indexedDB.open(r,e),y=bo(h);return o&&h.addEventListener("upgradeneeded",v=>{o(bo(h.result),v.oldVersion,v.newVersion,bo(h.transaction),v)}),t&&h.addEventListener("blocked",v=>t(v.oldVersion,v.newVersion,v)),y.then(v=>{l&&v.addEventListener("close",()=>l()),a&&v.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),y}const SR=["get","getKey","getAll","getAllKeys","count"],AR=["put","add","delete","clear"],md=new Map;function mv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(md.get(e))return md.get(e);const t=e.replace(/FromIndex$/,""),o=e!==t,a=AR.includes(t);if(!(t in(o?IDBIndex:IDBObjectStore).prototype)||!(a||SR.includes(t)))return;const l=async function(h,...y){const v=this.transaction(h,a?"readwrite":"readonly");let m=v.store;return o&&(m=m.index(y.shift())),(await Promise.all([m[t](...y),a&&v.done]))[0]};return md.set(e,l),l}_R(r=>({...r,get:(e,t,o)=>mv(e,t)||r.get(e,t,o),has:(e,t)=>!!mv(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wR(t)){const o=t.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(t=>t).join(" ")}}function wR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qd="@firebase/app",pv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new E_("@firebase/app"),MR="@firebase/app-compat",xR="@firebase/analytics-compat",RR="@firebase/analytics",NR="@firebase/app-check-compat",DR="@firebase/app-check",IR="@firebase/auth",UR="@firebase/auth-compat",kR="@firebase/database",LR="@firebase/data-connect",OR="@firebase/database-compat",PR="@firebase/functions",VR="@firebase/functions-compat",qR="@firebase/installations",BR="@firebase/installations-compat",zR="@firebase/messaging",GR="@firebase/messaging-compat",HR="@firebase/performance",FR="@firebase/performance-compat",YR="@firebase/remote-config",$R="@firebase/remote-config-compat",ZR="@firebase/storage",KR="@firebase/storage-compat",JR="@firebase/firestore",QR="@firebase/ai",XR="@firebase/firestore-compat",WR="firebase",jR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="[DEFAULT]",eN={[qd]:"fire-core",[MR]:"fire-core-compat",[RR]:"fire-analytics",[xR]:"fire-analytics-compat",[DR]:"fire-app-check",[NR]:"fire-app-check-compat",[IR]:"fire-auth",[UR]:"fire-auth-compat",[kR]:"fire-rtdb",[LR]:"fire-data-connect",[OR]:"fire-rtdb-compat",[PR]:"fire-fn",[VR]:"fire-fn-compat",[qR]:"fire-iid",[BR]:"fire-iid-compat",[zR]:"fire-fcm",[GR]:"fire-fcm-compat",[HR]:"fire-perf",[FR]:"fire-perf-compat",[YR]:"fire-rc",[$R]:"fire-rc-compat",[ZR]:"fire-gcs",[KR]:"fire-gcs-compat",[JR]:"fire-fst",[XR]:"fire-fst-compat",[QR]:"fire-vertex","fire-js":"fire-js",[WR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=new Map,tN=new Map,zd=new Map;function gv(r,e){try{r.container.addComponent(e)}catch(t){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ds(r){const e=r.name;if(zd.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;zd.set(e,r);for(const t of Mu.values())gv(t,r);for(const t of tN.values())gv(t,r);return!0}function b_(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Qn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wo=new Os("app","Firebase",nN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,t,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=jR;function w_(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const o=Object.assign({name:Bd,automaticDataCollectionEnabled:!0},e),a=o.name;if(typeof a!="string"||!a)throw wo.create("bad-app-name",{appName:String(a)});if(t||(t=T_()),!t)throw wo.create("no-options");const l=Mu.get(a);if(l){if(ha(t,l.options)&&ha(o,l.config))return l;throw wo.create("duplicate-app",{appName:a})}const h=new uR(a);for(const v of zd.values())h.addComponent(v);const y=new iN(t,o,h);return Mu.set(a,y),y}function oN(r=Bd){const e=Mu.get(r);if(!e&&r===Bd&&T_())return w_();if(!e)throw wo.create("no-app",{appName:r});return e}function ia(r,e,t){var o;let a=(o=eN[r])!==null&&o!==void 0?o:r;t&&(a+=`-${t}`);const l=a.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const y=[`Unable to register library "${a}" with version "${e}":`];l&&y.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&y.push("and"),h&&y.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(y.join(" "));return}Ds(new ma(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="firebase-heartbeat-database",aN=1,Is="firebase-heartbeat-store";let pd=null;function M_(){return pd||(pd=ER(rN,aN,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Is)}catch(t){console.warn(t)}}}}).catch(r=>{throw wo.create("idb-open",{originalErrorMessage:r.message})})),pd}async function sN(r){try{const t=(await M_()).transaction(Is),o=await t.objectStore(Is).get(x_(r));return await t.done,o}catch(e){if(e instanceof No)Ui.warn(e.message);else{const t=wo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(t.message)}}}async function yv(r,e){try{const o=(await M_()).transaction(Is,"readwrite");await o.objectStore(Is).put(e,x_(r)),await o.done}catch(t){if(t instanceof No)Ui.warn(t.message);else{const o=wo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ui.warn(o.message)}}}function x_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=1024,uN=30;class cN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dN(t),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=vv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>uN){const h=hN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(o){Ui.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=vv(),{heartbeatsToSend:o,unsentEntries:a}=fN(this._heartbeatsCache.heartbeats),l=v_(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ui.warn(t),""}}}function vv(){return new Date().toISOString().substring(0,10)}function fN(r,e=lN){const t=[];let o=r.slice();for(const a of r){const l=t.find(h=>h.agent===a.agent);if(l){if(l.dates.push(a.date),_v(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),_v(t)>e){t.pop();break}o=o.slice(1)}return{heartbeatsToSend:t,unsentEntries:o}}class dN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xx()?Wx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await sN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return yv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return yv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function _v(r){return v_(JSON.stringify({version:2,heartbeats:r})).length}function hN(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let o=1;o<r.length;o++)r[o].date<t&&(t=r[o].date,e=o);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(r){Ds(new ma("platform-logger",e=>new bR(e),"PRIVATE")),Ds(new ma("heartbeat",e=>new cN(e),"PRIVATE")),ia(qd,pv,r),ia(qd,pv,"esm2017"),ia("fire-js","")}mN("");function ih(r,e){var t={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&e.indexOf(o)<0&&(t[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(r);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(r,o[a])&&(t[o[a]]=r[o[a]]);return t}function R_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pN=R_,N_=new Os("auth","Firebase",R_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new E_("@firebase/auth");function gN(r,...e){xu.logLevel<=rt.WARN&&xu.warn(`Auth (${Vs}): ${r}`,...e)}function hu(r,...e){xu.logLevel<=rt.ERROR&&xu.error(`Auth (${Vs}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(r,...e){throw rh(r,...e)}function qn(r,...e){return rh(r,...e)}function oh(r,e,t){const o=Object.assign(Object.assign({},pN()),{[e]:t});return new Os("auth","Firebase",o).create(e,{appName:r.name})}function ir(r){return oh(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yN(r,e,t){const o=t;if(!(e instanceof o))throw o.name!==e.constructor.name&&ni(r,"argument-error"),oh(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rh(r,...e){if(typeof r!="string"){const t=e[0],o=[...e.slice(1)];return o[0]&&(o[0].appName=r.name),r._errorFactory.create(t,...o)}return N_.create(r,...e)}function xe(r,e,...t){if(!r)throw rh(e,...t)}function Ni(r){const e="INTERNAL ASSERTION FAILED: "+r;throw hu(e),new Error(e)}function ki(r,e){r||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function vN(){return Tv()==="http:"||Tv()==="https:"}function Tv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vN()||Kx()||"connection"in navigator)?navigator.onLine:!0}function TN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,t){this.shortDelay=e,this.longDelay=t,ki(t>e,"Short delay should be less than long delay!"),this.isMobile=$x()||Jx()}get(){return _N()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(r,e){ki(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{static initialize(e,t,o){this.fetchImpl=e,t&&(this.headersImpl=t),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SN=new qs(3e4,6e4);function sh(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function va(r,e,t,o,a={}){return I_(r,a,async()=>{let l={},h={};o&&(e==="GET"?h=o:l={body:JSON.stringify(o)});const y=Ps(Object.assign({key:r.config.apiKey},h)).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const m=Object.assign({method:e,headers:v},l);return Zx()||(m.referrerPolicy="no-referrer"),r.emulatorConfig&&th(r.emulatorConfig.host)&&(m.credentials="include"),D_.fetch()(await U_(r,r.config.apiHost,t,y),m)})}async function I_(r,e,t){r._canInitEmulator=!1;const o=Object.assign(Object.assign({},CN),e);try{const a=new bN(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw su(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const y=l.ok?h.errorMessage:h.error.message,[v,m]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw su(r,"credential-already-in-use",h);if(v==="EMAIL_EXISTS")throw su(r,"email-already-in-use",h);if(v==="USER_DISABLED")throw su(r,"user-disabled",h);const T=o[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw oh(r,T,m);ni(r,T)}}catch(a){if(a instanceof No)throw a;ni(r,"network-request-failed",{message:String(a)})}}async function AN(r,e,t,o,a={}){const l=await va(r,e,t,o,a);return"mfaPendingCredential"in l&&ni(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function U_(r,e,t,o){const a=`${e}${t}?${o}`,l=r,h=l.config.emulator?ah(r.config,a):`${r.config.apiScheme}://${a}`;return EN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}class bN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,o)=>{this.timer=setTimeout(()=>o(qn(this.auth,"network-request-failed")),SN.get())})}}function su(r,e,t){const o={appName:r.name};t.email&&(o.email=t.email),t.phoneNumber&&(o.phoneNumber=t.phoneNumber);const a=qn(r,e,o);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(r,e){return va(r,"POST","/v1/accounts:delete",e)}async function Ru(r,e){return va(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MN(r,e=!1){const t=Do(r),o=await t.getIdToken(e),a=lh(o);xe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:a,token:o,authTime:Rs(gd(a.auth_time)),issuedAtTime:Rs(gd(a.iat)),expirationTime:Rs(gd(a.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function gd(r){return Number(r)*1e3}function lh(r){const[e,t,o]=r.split(".");if(e===void 0||t===void 0||o===void 0)return hu("JWT malformed, contained fewer than 3 sections"),null;try{const a=__(t);return a?JSON.parse(a):(hu("Failed to decode base64 JWT payload"),null)}catch(a){return hu("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Cv(r){const e=lh(r);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(r,e,t=!1){if(t)return e;try{return await e}catch(o){throw o instanceof No&&xN(o)&&r.auth.currentUser===r&&await r.auth.signOut(),o}}function xN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const o=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),o}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rs(this.lastLoginAt),this.creationTime=Rs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(r){var e;const t=r.auth,o=await r.getIdToken(),a=await Us(r,Ru(t,{idToken:o}));xe(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?k_(l.providerUserInfo):[],y=DN(r.providerData,h),v=r.isAnonymous,m=!(r.email&&l.passwordHash)&&!(y!=null&&y.length),T=v?m:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:y,metadata:new Hd(l.createdAt,l.lastLoginAt),isAnonymous:T};Object.assign(r,b)}async function NN(r){const e=Do(r);await Nu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DN(r,e){return[...r.filter(o=>!e.some(a=>a.providerId===o.providerId)),...e]}function k_(r){return r.map(e=>{var{providerId:t}=e,o=ih(e,["providerId"]);return{providerId:t,uid:o.rawId||"",displayName:o.displayName||null,email:o.email||null,phoneNumber:o.phoneNumber||null,photoURL:o.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(r,e){const t=await I_(r,{},async()=>{const o=Ps({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,h=await U_(r,a,"/v1/token",`key=${l}`),y=await r._getAdditionalHeaders();return y["Content-Type"]="application/x-www-form-urlencoded",D_.fetch()(h,{method:"POST",headers:y,body:o})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function UN(r,e){return va(r,"POST","/v2/accounts:revokeToken",sh(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=Cv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:o,refreshToken:a,expiresIn:l}=await IN(e,t);this.updateTokensAndExpiration(o,a,Number(l))}updateTokensAndExpiration(e,t,o){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(e,t){const{refreshToken:o,accessToken:a,expirationTime:l}=t,h=new oa;return o&&(xe(typeof o=="string","internal-error",{appName:e}),h.refreshToken=o),a&&(xe(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),l&&(xe(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oa,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(r,e){xe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Pn{constructor(e){var{uid:t,auth:o,stsTokenManager:a}=e,l=ih(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=o,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Hd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Us(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return MN(this,e)}reload(){return NN(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Pn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let o=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),o=!0),t&&await Nu(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(ir(this.auth));const e=await this.getIdToken();return await Us(this,wN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var o,a,l,h,y,v,m,T;const b=(o=t.displayName)!==null&&o!==void 0?o:void 0,w=(a=t.email)!==null&&a!==void 0?a:void 0,D=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,U=(h=t.photoURL)!==null&&h!==void 0?h:void 0,H=(y=t.tenantId)!==null&&y!==void 0?y:void 0,$=(v=t._redirectEventId)!==null&&v!==void 0?v:void 0,X=(m=t.createdAt)!==null&&m!==void 0?m:void 0,Q=(T=t.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:W,emailVerified:he,isAnonymous:Y,providerData:se,stsTokenManager:ae}=t;xe(W&&ae,e,"internal-error");const Ee=oa.fromJSON(this.name,ae);xe(typeof W=="string",e,"internal-error"),_o(b,e.name),_o(w,e.name),xe(typeof he=="boolean",e,"internal-error"),xe(typeof Y=="boolean",e,"internal-error"),_o(D,e.name),_o(U,e.name),_o(H,e.name),_o($,e.name),_o(X,e.name),_o(Q,e.name);const le=new Pn({uid:W,auth:e,email:w,emailVerified:he,displayName:b,isAnonymous:Y,photoURL:U,phoneNumber:D,tenantId:H,stsTokenManager:Ee,createdAt:X,lastLoginAt:Q});return se&&Array.isArray(se)&&(le.providerData=se.map(ge=>Object.assign({},ge))),$&&(le._redirectEventId=$),le}static async _fromIdTokenResponse(e,t,o=!1){const a=new oa;a.updateFromServerResponse(t);const l=new Pn({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:o});return await Nu(l),l}static async _fromGetAccountInfoResponse(e,t,o){const a=t.users[0];xe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?k_(a.providerUserInfo):[],h=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),y=new oa;y.updateFromIdToken(o);const v=new Pn({uid:a.localId,auth:e,stsTokenManager:y,isAnonymous:h}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Hd(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(v,m),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new Map;function Di(r){ki(r instanceof Function,"Expected a class definition");let e=Ev.get(r);return e?(ki(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Ev.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}L_.type="NONE";const Sv=L_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(r,e,t){return`firebase:${r}:${e}:${t}`}class ra{constructor(e,t,o){this.persistence=e,this.auth=t,this.userKey=o;const{config:a,name:l}=this.auth;this.fullUserKey=mu(this.userKey,a.apiKey,l),this.fullPersistenceKey=mu("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ru(this.auth,{idToken:e}).catch(()=>{});return t?Pn._fromGetAccountInfoResponse(this.auth,t,e):null}return Pn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,o="authUser"){if(!t.length)return new ra(Di(Sv),e,o);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Di(Sv);const h=mu(o,e.config.apiKey,e.name);let y=null;for(const m of t)try{const T=await m._get(h);if(T){let b;if(typeof T=="string"){const w=await Ru(e,{idToken:T}).catch(()=>{});if(!w)break;b=await Pn._fromGetAccountInfoResponse(e,w,T)}else b=Pn._fromJSON(e,T);m!==l&&(y=b),l=m;break}}catch{}const v=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!v.length?new ra(l,e,o):(l=v[0],y&&await l._set(h,y.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(h)}catch{}})),new ra(l,e,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(q_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z_(e))return"Blackberry";if(G_(e))return"Webos";if(P_(e))return"Safari";if((e.includes("chrome/")||V_(e))&&!e.includes("edge/"))return"Chrome";if(B_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=r.match(t);if((o==null?void 0:o.length)===2)return o[1]}return"Other"}function O_(r=Qt()){return/firefox\//i.test(r)}function P_(r=Qt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V_(r=Qt()){return/crios\//i.test(r)}function q_(r=Qt()){return/iemobile/i.test(r)}function B_(r=Qt()){return/android/i.test(r)}function z_(r=Qt()){return/blackberry/i.test(r)}function G_(r=Qt()){return/webos/i.test(r)}function uh(r=Qt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function kN(r=Qt()){var e;return uh(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LN(){return Qx()&&document.documentMode===10}function H_(r=Qt()){return uh(r)||B_(r)||G_(r)||z_(r)||/windows phone/i.test(r)||q_(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(r,e=[]){let t;switch(r){case"Browser":t=Av(Qt());break;case"Worker":t=`${Av(Qt())}-${r}`;break;default:t=r}const o=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vs}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const o=l=>new Promise((h,y)=>{try{const v=e(l);h(v)}catch(v){y(v)}});o.onAbort=t,this.queue.push(o);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const o of this.queue)await o(e),o.onAbort&&t.push(o.onAbort)}catch(o){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(r,e={}){return va(r,"GET","/v2/passwordPolicy",sh(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=6;class qN{constructor(e){var t,o,a,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:VN,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(o=e.allowedNonAlphanumericCharacters)===null||o===void 0?void 0:o.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,o,a,l,h,y;const v={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,v),this.validatePasswordCharacterOptions(e,v),v.isValid&&(v.isValid=(t=v.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),v.isValid&&(v.isValid=(o=v.meetsMaxPasswordLength)!==null&&o!==void 0?o:!0),v.isValid&&(v.isValid=(a=v.containsLowercaseLetter)!==null&&a!==void 0?a:!0),v.isValid&&(v.isValid=(l=v.containsUppercaseLetter)!==null&&l!==void 0?l:!0),v.isValid&&(v.isValid=(h=v.containsNumericCharacter)!==null&&h!==void 0?h:!0),v.isValid&&(v.isValid=(y=v.containsNonAlphanumericCharacter)!==null&&y!==void 0?y:!0),v}validatePasswordLengthOptions(e,t){const o=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;o&&(t.meetsMinPasswordLength=e.length>=o),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let o;for(let a=0;a<e.length;a++)o=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(e,t,o,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,t,o,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=o,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bv(this),this.idTokenSubscription=new bv(this),this.beforeStateQueue=new ON(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Di(t)),this._initializationPromise=this.queue(async()=>{var o,a,l;if(!this._deleted&&(this.persistenceManager=await ra.create(this,e),(o=this._resolvePersistenceManagerAvailable)===null||o===void 0||o.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ru(this,{idToken:e}),o=await Pn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(o)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Qn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(y=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(y,y))}):this.directlySetCurrentUser(null)}const o=await this.assertedPersistence.getCurrentUser();let a=o,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,y=a==null?void 0:a._redirectEventId,v=await this.tryRedirectSignIn(e);(!h||h===y)&&(v!=null&&v.user)&&(a=v.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=o,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nu(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(ir(this));const t=e?Do(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PN(this),t=new qN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Os("auth","Firebase",e())}onAuthStateChanged(e,t,o){return this.registerStateListener(this.authStateSubscription,e,t,o)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,o){return this.registerStateListener(this.idTokenSubscription,e,t,o)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const o=this.onAuthStateChanged(()=>{o(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(o.tenantId=this.tenantId),await UN(this,o)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const o=await this.getOrInitRedirectPersistenceManager(t);return e===null?o.removeCurrentUser():o.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Di(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[Di(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,o;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((o=this.redirectUser)===null||o===void 0?void 0:o._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const o=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==o&&(this.lastNotifiedUid=o,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,o,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(y,this,"internal-error"),y.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const v=e.addObserver(t,o,a);return()=>{h=!0,v()}}else{const v=e.addObserver(t);return()=>{h=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const o=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());o&&(t["X-Firebase-Client"]=o);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&gN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Pu(r){return Do(r)}class bv{constructor(e){this.auth=e,this.observer=null,this.addObserver=iR(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zN(r){ch=r}function GN(r){return ch.loadJS(r)}function HN(){return ch.gapiScript}function FN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(r,e){const t=b_(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ha(l,e??{}))return a;ni(a,"already-initialized")}return t.initialize({options:e})}function $N(r,e){const t=(e==null?void 0:e.persistence)||[],o=(Array.isArray(t)?t:[t]).map(Di);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(o,e==null?void 0:e.popupRedirectResolver)}function ZN(r,e,t){const o=Pu(r);xe(/^https?:\/\//.test(e),o,"invalid-emulator-scheme");const a=!1,l=Y_(e),{host:h,port:y}=KN(e),v=y===null?"":`:${y}`,m={url:`${l}//${h}${v}/`},T=Object.freeze({host:h,port:y,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!o._canInitEmulator){xe(o.config.emulator&&o.emulatorConfig,o,"emulator-config-failed"),xe(ha(m,o.config.emulator)&&ha(T,o.emulatorConfig),o,"emulator-config-failed");return}o.config.emulator=m,o.emulatorConfig=T,o.settings.appVerificationDisabledForTesting=!0,th(h)?(Gx(`${l}//${h}${v}`),Yx("Auth",!0)):JN()}function Y_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function KN(r){const e=Y_(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const o=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(o);if(a){const l=a[1];return{host:l,port:wv(o.substr(l.length+1))}}else{const[l,h]=o.split(":");return{host:l,port:wv(h)}}}function wv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function JN(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,t){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(r,e){return AN(r,"POST","/v1/accounts:signInWithIdp",sh(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="http://localhost";class sr extends $_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new sr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ni("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:o,signInMethod:a}=t,l=ih(t,["providerId","signInMethod"]);if(!o||!a)return null;const h=new sr(o,a);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return aa(e,t)}_linkToIdToken(e,t){const o=this.buildRequest();return o.idToken=t,aa(e,o)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,aa(e,t)}buildRequest(){const e={requestUri:QN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ps(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends fh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends Bs{constructor(){super("facebook.com")}static credential(e){return sr._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Co.credential(e.oauthAccessToken)}catch{return null}}}Co.FACEBOOK_SIGN_IN_METHOD="facebook.com";Co.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Bs{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return sr._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:o}=e;if(!t&&!o)return null;try{return Ri.credential(t,o)}catch{return null}}}Ri.GOOGLE_SIGN_IN_METHOD="google.com";Ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Bs{constructor(){super("github.com")}static credential(e){return sr._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eo.credential(e.oauthAccessToken)}catch{return null}}}Eo.GITHUB_SIGN_IN_METHOD="github.com";Eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Bs{constructor(){super("twitter.com")}static credential(e,t){return sr._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:o}=e;if(!t||!o)return null;try{return So.credential(t,o)}catch{return null}}}So.TWITTER_SIGN_IN_METHOD="twitter.com";So.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,o,a=!1){const l=await Pn._fromIdTokenResponse(e,o,a),h=Mv(o);return new pa({user:l,providerId:h,_tokenResponse:o,operationType:t})}static async _forOperation(e,t,o){await e._updateTokensIfNecessary(o,!0);const a=Mv(o);return new pa({user:e,providerId:a,_tokenResponse:o,operationType:t})}}function Mv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends No{constructor(e,t,o,a){var l;super(t.code,t.message),this.operationType=o,this.user=a,Object.setPrototypeOf(this,Du.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(e,t,o,a){return new Du(e,t,o,a)}}function Z_(r,e,t,o){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Du._fromErrorAndOperation(r,l,e,o):l})}async function XN(r,e,t=!1){const o=await Us(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return pa._forOperation(r,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(r,e,t=!1){const{auth:o}=r;if(Qn(o.app))return Promise.reject(ir(o));const a="reauthenticate";try{const l=await Us(r,Z_(o,a,e,r),t);xe(l.idToken,o,"internal-error");const h=lh(l.idToken);xe(h,o,"internal-error");const{sub:y}=h;return xe(r.uid===y,o,"user-mismatch"),pa._forOperation(r,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ni(o,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(r,e,t=!1){if(Qn(r.app))return Promise.reject(ir(r));const o="signIn",a=await Z_(r,o,e),l=await pa._fromIdTokenResponse(r,o,a);return t||await r._updateCurrentUser(l.user),l}function eD(r,e,t,o){return Do(r).onIdTokenChanged(e,t,o)}function tD(r,e,t){return Do(r).beforeAuthStateChanged(e,t)}function nD(r,e,t,o){return Do(r).onAuthStateChanged(e,t,o)}function iD(r){return Do(r).signOut()}const Iu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Iu,"1"),this.storage.removeItem(Iu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=1e3,rD=10;class J_ extends K_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const o=this.storage.getItem(t),a=this.localCache[t];o!==a&&e(t,a,o)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,y,v)=>{this.notifyListeners(h,v)});return}const o=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const h=this.storage.getItem(o);!t&&this.localCache[o]===h||this.notifyListeners(o,h)},l=this.storage.getItem(o);LN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,rD):a()}notifyListeners(e,t){this.localCache[e]=t;const o=this.listeners[e];if(o)for(const a of Array.from(o))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:o}),!0)})},oD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}J_.type="LOCAL";const aD=J_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_ extends K_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Q_.type="SESSION";const X_=Q_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const o=new Vu(e);return this.receivers.push(o),o}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:o,eventType:a,data:l}=t.data,h=this.handlersMap[a];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:o,eventType:a});const y=Array.from(h).map(async m=>m(t.origin,l)),v=await sD(y);t.ports[0].postMessage({status:"done",eventId:o,eventType:a,response:v})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(r="",e=10){let t="";for(let o=0;o<e;o++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,o=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,h;return new Promise((y,v)=>{const m=dh("",20);a.port1.start();const T=setTimeout(()=>{v(new Error("unsupported_event"))},o);h={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(T),l=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),y(w.data.response);break;default:clearTimeout(T),clearTimeout(l),v(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function uD(r){ei().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function cD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function dD(){return W_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="firebaseLocalStorageDb",hD=1,Uu="firebaseLocalStorage",e0="fbase_key";class zs{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qu(r,e){return r.transaction([Uu],e?"readwrite":"readonly").objectStore(Uu)}function mD(){const r=indexedDB.deleteDatabase(j_);return new zs(r).toPromise()}function Fd(){const r=indexedDB.open(j_,hD);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const o=r.result;try{o.createObjectStore(Uu,{keyPath:e0})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const o=r.result;o.objectStoreNames.contains(Uu)?e(o):(o.close(),await mD(),e(await Fd()))})})}async function xv(r,e,t){const o=qu(r,!0).put({[e0]:e,value:t});return new zs(o).toPromise()}async function pD(r,e){const t=qu(r,!1).get(e),o=await new zs(t).toPromise();return o===void 0?null:o.value}function Rv(r,e){const t=qu(r,!0).delete(e);return new zs(t).toPromise()}const gD=800,yD=3;class t0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const o=await this._openDb();return await e(o)}catch(o){if(t++>yD)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vu._getInstance(dD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await cD(),!this.activeServiceWorker)return;this.sender=new lD(this.activeServiceWorker);const o=await this.sender._send("ping",{},800);o&&!((e=o[0])===null||e===void 0)&&e.fulfilled&&!((t=o[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fd();return await xv(e,Iu,"1"),await Rv(e,Iu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(o=>xv(o,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(o=>pD(o,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Rv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=qu(a,!1).getAll();return new zs(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],o=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)o.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!o.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const o=this.listeners[e];if(o)for(const a of Array.from(o))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t0.type="LOCAL";const vD=t0;new qs(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(r,e){return e?Di(e):(xe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends $_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return aa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return aa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return aa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _D(r){return jN(r.auth,new hh(r),r.bypassAuthState)}function TD(r){const{auth:e,user:t}=r;return xe(t,e,"internal-error"),WN(t,new hh(r),r.bypassAuthState)}async function CD(r){const{auth:e,user:t}=r;return xe(t,e,"internal-error"),XN(t,new hh(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,t,o,a,l=!1){this.auth=e,this.resolver=o,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:o,postBody:a,tenantId:l,error:h,type:y}=e;if(h){this.reject(h);return}const v={auth:this.auth,requestUri:t,sessionId:o,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _D;case"linkViaPopup":case"linkViaRedirect":return CD;case"reauthViaPopup":case"reauthViaRedirect":return TD;default:ni(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=new qs(2e3,1e4);async function SD(r,e,t){if(Qn(r.app))return Promise.reject(qn(r,"operation-not-supported-in-this-environment"));const o=Pu(r);yN(r,e,fh);const a=n0(o,t);return new nr(o,"signInViaPopup",e,a).executeNotNull()}class nr extends i0{constructor(e,t,o,a,l){super(e,t,a,l),this.provider=o,this.authWindow=null,this.pollId=null,nr.currentPopupAction&&nr.currentPopupAction.cancel(),nr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=dh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,o;if(!((o=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||o===void 0)&&o.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ED.get())};e()}}nr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="pendingRedirect",pu=new Map;class bD extends i0{constructor(e,t,o=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,o),this.eventId=null}async execute(){let e=pu.get(this.auth._key());if(!e){try{const o=await wD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(o)}catch(t){e=()=>Promise.reject(t)}pu.set(this.auth._key(),e)}return this.bypassAuthState||pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wD(r,e){const t=RD(e),o=xD(r);if(!await o._isAvailable())return!1;const a=await o._get(t)==="true";return await o._remove(t),a}function MD(r,e){pu.set(r._key(),e)}function xD(r){return Di(r._redirectPersistence)}function RD(r){return mu(AD,r.config.apiKey,r.name)}async function ND(r,e,t=!1){if(Qn(r.app))return Promise.reject(ir(r));const o=Pu(r),a=n0(o,e),h=await new bD(o,a,t).execute();return h&&!t&&(delete h.user._redirectEventId,await o._persistUserIfCurrent(h.user),await o._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=10*60*1e3;class ID{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(e,o)&&(t=!0,this.sendToConsumer(e,o),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var o;if(e.error&&!o0(e)){const a=((o=e.error.code)===null||o===void 0?void 0:o.split("auth/")[1])||"internal-error";t.onError(qn(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const o=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&o}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nv(e))}saveEventToCache(e){this.cachedEventUids.add(Nv(e)),this.lastProcessedEventTime=Date.now()}}function Nv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function o0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(r,e={}){return va(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OD=/^https?/;async function PD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await kD(r);for(const t of e)try{if(VD(t))return}catch{}ni(r,"unauthorized-domain")}function VD(r){const e=Gd(),{protocol:t,hostname:o}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&o===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===o}if(!OD.test(t))return!1;if(LD.test(r))return o===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new qs(3e4,6e4);function Dv(){const r=ei().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function BD(r){return new Promise((e,t)=>{var o,a,l;function h(){Dv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dv(),t(qn(r,"network-request-failed"))},timeout:qD.get()})}if(!((a=(o=ei().gapi)===null||o===void 0?void 0:o.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=ei().gapi)===null||l===void 0)&&l.load)h();else{const y=FN("iframefcb");return ei()[y]=()=>{gapi.load?h():t(qn(r,"network-request-failed"))},GN(`${HN()}?onload=${y}`).catch(v=>t(v))}}).catch(e=>{throw gu=null,e})}let gu=null;function zD(r){return gu=gu||BD(r),gu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=new qs(5e3,15e3),HD="__/auth/iframe",FD="emulator/auth/iframe",YD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$D=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZD(r){const e=r.config;xe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?ah(e,FD):`https://${r.config.authDomain}/${HD}`,o={apiKey:e.apiKey,appName:r.name,v:Vs},a=$D.get(r.config.apiHost);a&&(o.eid=a);const l=r._getFrameworks();return l.length&&(o.fw=l.join(",")),`${t}?${Ps(o).slice(1)}`}async function KD(r){const e=await zD(r),t=ei().gapi;return xe(t,r,"internal-error"),e.open({where:document.body,url:ZD(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YD,dontclear:!0},o=>new Promise(async(a,l)=>{await o.restyle({setHideOnLeave:!1});const h=qn(r,"network-request-failed"),y=ei().setTimeout(()=>{l(h)},GD.get());function v(){ei().clearTimeout(y),a(o)}o.ping(v).then(v,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QD=500,XD=600,WD="_blank",jD="http://localhost";class Iv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eI(r,e,t,o=QD,a=XD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-o)/2,0).toString();let y="";const v=Object.assign(Object.assign({},JD),{width:o.toString(),height:a.toString(),top:l,left:h}),m=Qt().toLowerCase();t&&(y=V_(m)?WD:t),O_(m)&&(e=e||jD,v.scrollbars="yes");const T=Object.entries(v).reduce((w,[D,U])=>`${w}${D}=${U},`,"");if(kN(m)&&y!=="_self")return tI(e||"",y),new Iv(null);const b=window.open(e||"",y,T);xe(b,r,"popup-blocked");try{b.focus()}catch{}return new Iv(b)}function tI(r,e){const t=document.createElement("a");t.href=r,t.target=e;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="__/auth/handler",iI="emulator/auth/handler",oI=encodeURIComponent("fac");async function Uv(r,e,t,o,a,l){xe(r.config.authDomain,r,"auth-domain-config-required"),xe(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:o,v:Vs,eventId:a};if(e instanceof fh){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",nR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))h[T]=b}if(e instanceof Bs){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(h.scopes=T.join(","))}r.tenantId&&(h.tid=r.tenantId);const y=h;for(const T of Object.keys(y))y[T]===void 0&&delete y[T];const v=await r._getAppCheckToken(),m=v?`#${oI}=${encodeURIComponent(v)}`:"";return`${rI(r)}?${Ps(y).slice(1)}${m}`}function rI({config:r}){return r.emulator?ah(r,iI):`https://${r.authDomain}/${nI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="webStorageSupport";class aI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X_,this._completeRedirectFn=ND,this._overrideRedirectResult=MD}async _openPopup(e,t,o,a){var l;ki((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await Uv(e,t,o,Gd(),a);return eI(e,h,dh())}async _openRedirect(e,t,o,a){await this._originValidation(e);const l=await Uv(e,t,o,Gd(),a);return uD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(ki(l,"If manager is not set, promise should be"),l)}const o=this.initAndGetManager(e);return this.eventManagers[t]={promise:o},o.catch(()=>{delete this.eventManagers[t]}),o}async initAndGetManager(e){const t=await KD(e),o=new ID(e);return t.register("authEvent",a=>(xe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:o.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:o},this.iframes[e._key()]=t,o}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yd,{type:yd},a=>{var l;const h=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[yd];h!==void 0&&t(!!h),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return H_()||P_()||uh()}}const sI=aI;var kv="@firebase/auth",Lv="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(o=>{e((o==null?void 0:o.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cI(r){Ds(new ma("auth",(e,{options:t})=>{const o=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:y}=o.options;xe(h&&!h.includes(":"),"invalid-api-key",{appName:o.name});const v={apiKey:h,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F_(r)},m=new BN(o,a,l,v);return $N(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,o)=>{e.getProvider("auth-internal").initialize()})),Ds(new ma("auth-internal",e=>{const t=Pu(e.getProvider("auth").getImmediate());return(o=>new lI(o))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ia(kv,Lv,uI(r)),ia(kv,Lv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=5*60,dI=C_("authIdTokenMaxAge")||fI;let Ov=null;const hI=r=>async e=>{const t=e&&await e.getIdTokenResult(),o=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(o&&o>dI)return;const a=t==null?void 0:t.token;Ov!==a&&(Ov=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function mI(r=oN()){const e=b_(r,"auth");if(e.isInitialized())return e.getImmediate();const t=YN(r,{popupRedirectResolver:sI,persistence:[vD,aD,X_]}),o=C_("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(o,location.origin);if(location.origin===l.origin){const h=hI(l.toString());tD(t,h,()=>h(t.currentUser)),eD(t,y=>h(y))}}const a=Bx("auth");return a&&ZN(t,`http://${a}`),t}function pI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}zN({loadJS(r){return new Promise((e,t)=>{const o=document.createElement("script");o.setAttribute("src",r),o.onload=e,o.onerror=a=>{const l=qn("internal-error");l.customData=a,t(l)},o.type="text/javascript",o.charset="UTF-8",pI().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cI("Browser");var gI="firebase",yI="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ia(gI,yI,"app");const vI={apiKey:"AIzaSyBZiL44IHw57bbKvA3FSuC7-kjNPwDDg4E",authDomain:"pixel-art-generator-3071a.firebaseapp.com",projectId:"pixel-art-generator-3071a",storageBucket:"pixel-art-generator-3071a.appspot.com",messagingSenderId:"762846537877",appId:"1:762846537877:web:eedc0ccdaa613e55b9939c",measurementId:"G-JFK5SW62ER"},_I=w_(vI);var vd={exports:{}};const TI={},CI=Object.freeze(Object.defineProperty({__proto__:null,default:TI},Symbol.toStringTag,{value:"Module"})),Pv=kT(CI);var Vv;function EI(){return Vv||(Vv=1,function(r,e){var t=void 0,o=function(a){return t||(t=new Promise(function(l,h){var y=typeof a<"u"?a:{},v=y.onAbort;y.onAbort=function(p){h(new Error(p)),v&&v(p)},y.postRun=y.postRun||[],y.postRun.push(function(){l(y)}),r=void 0;var m;m||(m=typeof y<"u"?y:{});var T=typeof window=="object",b=typeof WorkerGlobalScope<"u",w=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";m.onRuntimeInitialized=function(){function p(k,K){switch(typeof K){case"boolean":cc(k,K?1:0);break;case"number":sc(k,K);break;case"string":lc(k,K,-1,-1);break;case"object":if(K===null)il(k);else if(K.length!=null){var ce=Fi(K,Oo);uc(k,ce,K.length,-1),$i(ce)}else Ki(k,"Wrong API use : tried to return a value of an unknown type ("+K+").",-1);break;default:il(k)}}function _(k,K){for(var ce=[],Ce=0;Ce<k;Ce+=1){var Ae=sn(K+4*Ce,"i32"),Ke=nl(Ae);if(Ke===1||Ke===2)Ae=ac(Ae);else if(Ke===3)Ae=oc(Ae);else if(Ke===4){Ke=Ae,Ae=ic(Ke),Ke=rc(Ke);for(var ln=new Uint8Array(Ae),tn=0;tn<Ae;tn+=1)ln[tn]=ge[Ke+tn];Ae=ln}else Ae=null;ce.push(Ae)}return ce}function E(k,K){this.Qa=k,this.db=K,this.Oa=1,this.lb=[]}function A(k,K){if(this.db=K,K=Nn(k)+1,this.eb=Er(K),this.eb===null)throw Error("Unable to allocate memory for the SQL string");gt(k,pe,this.eb,K),this.kb=this.eb,this.Za=this.pb=null}function x(k){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),k!=null){var K=this.filename,ce="/",Ce=K;if(ce&&(ce=typeof ce=="string"?ce:hr(ce),Ce=K?cr(ce+"/"+K):ce),K=Bn(!0,!0),Ce=si(Ce,K),k){if(typeof k=="string"){ce=Array(k.length);for(var Ae=0,Ke=k.length;Ae<Ke;++Ae)ce[Ae]=k.charCodeAt(Ae);k=ce}Wt(Ce,K|146),ce=li(Ce,577),Qs(ce,k,0,k.length,0),Hn(ce),Wt(Ce,K)}}this.handleError(ue(this.filename,L)),this.db=sn(L,"i32"),ol(this.db),this.fb={},this.Sa={}}var L=_n(4),B=m.cwrap,ue=B("sqlite3_open","number",["string","number"]),ke=B("sqlite3_close_v2","number",["number"]),De=B("sqlite3_exec","number",["number","string","number","number","number"]),mt=B("sqlite3_changes","number",["number"]),Dt=B("sqlite3_prepare_v2","number",["number","string","number","number","number"]),Sr=B("sqlite3_sql","string",["number"]),Po=B("sqlite3_normalized_sql","string",["number"]),Vo=B("sqlite3_prepare_v2","number",["number","number","number","number","number"]),js=B("sqlite3_bind_text","number",["number","number","number","number","number"]),el=B("sqlite3_bind_blob","number",["number","number","number","number","number"]),Fu=B("sqlite3_bind_double","number",["number","number","number"]),Yu=B("sqlite3_bind_int","number",["number","number","number"]),Ua=B("sqlite3_bind_parameter_index","number",["number","string"]),$u=B("sqlite3_step","number",["number"]),Zu=B("sqlite3_errmsg","string",["number"]),Ku=B("sqlite3_column_count","number",["number"]),Ju=B("sqlite3_data_count","number",["number"]),Qu=B("sqlite3_column_double","number",["number","number"]),ka=B("sqlite3_column_text","string",["number","number"]),Xu=B("sqlite3_column_blob","number",["number","number"]),Wu=B("sqlite3_column_bytes","number",["number","number"]),ju=B("sqlite3_column_type","number",["number","number"]),ec=B("sqlite3_column_name","string",["number","number"]),La=B("sqlite3_reset","number",["number"]),tc=B("sqlite3_clear_bindings","number",["number"]),nc=B("sqlite3_finalize","number",["number"]),tl=B("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),nl=B("sqlite3_value_type","number",["number"]),ic=B("sqlite3_value_bytes","number",["number"]),oc=B("sqlite3_value_text","string",["number"]),rc=B("sqlite3_value_blob","number",["number"]),ac=B("sqlite3_value_double","number",["number"]),sc=B("sqlite3_result_double","",["number","number"]),il=B("sqlite3_result_null","",["number"]),lc=B("sqlite3_result_text","",["number","string","number","number"]),uc=B("sqlite3_result_blob","",["number","number","number","number"]),cc=B("sqlite3_result_int","",["number","number"]),Ki=B("sqlite3_result_error","",["number","string","number"]),Ji=B("sqlite3_aggregate_context","number",["number","number"]),ol=B("RegisterExtensionFunctions","number",["number"]),Oa=B("sqlite3_update_hook","number",["number","number","number"]);E.prototype.bind=function(k){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(k)?this.Cb(k):k!=null&&typeof k=="object"?this.Db(k):!0},E.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var k=$u(this.Qa);switch(k){case 100:return!0;case 101:return!1;default:throw this.db.handleError(k)}},E.prototype.wb=function(k){return k==null&&(k=this.Oa,this.Oa+=1),Qu(this.Qa,k)},E.prototype.Gb=function(k){if(k==null&&(k=this.Oa,this.Oa+=1),k=ka(this.Qa,k),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(k)},E.prototype.Hb=function(k){return k==null&&(k=this.Oa,this.Oa+=1),ka(this.Qa,k)},E.prototype.getBlob=function(k){k==null&&(k=this.Oa,this.Oa+=1);var K=Wu(this.Qa,k);k=Xu(this.Qa,k);for(var ce=new Uint8Array(K),Ce=0;Ce<K;Ce+=1)ce[Ce]=ge[k+Ce];return ce},E.prototype.get=function(k,K){K=K||{},k!=null&&this.bind(k)&&this.step(),k=[];for(var ce=Ju(this.Qa),Ce=0;Ce<ce;Ce+=1)switch(ju(this.Qa,Ce)){case 1:var Ae=K.useBigInt?this.Gb(Ce):this.wb(Ce);k.push(Ae);break;case 2:k.push(this.wb(Ce));break;case 3:k.push(this.Hb(Ce));break;case 4:k.push(this.getBlob(Ce));break;default:k.push(null)}return k},E.prototype.getColumnNames=function(){for(var k=[],K=Ku(this.Qa),ce=0;ce<K;ce+=1)k.push(ec(this.Qa,ce));return k},E.prototype.getAsObject=function(k,K){k=this.get(k,K),K=this.getColumnNames();for(var ce={},Ce=0;Ce<K.length;Ce+=1)ce[K[Ce]]=k[Ce];return ce},E.prototype.getSQL=function(){return Sr(this.Qa)},E.prototype.getNormalizedSQL=function(){return Po(this.Qa)},E.prototype.run=function(k){return k!=null&&this.bind(k),this.step(),this.reset()},E.prototype.sb=function(k,K){K==null&&(K=this.Oa,this.Oa+=1),k=Dn(k);var ce=Fi(k,Oo);this.lb.push(ce),this.db.handleError(js(this.Qa,K,ce,k.length-1,0))},E.prototype.Bb=function(k,K){K==null&&(K=this.Oa,this.Oa+=1);var ce=Fi(k,Oo);this.lb.push(ce),this.db.handleError(el(this.Qa,K,ce,k.length,0))},E.prototype.rb=function(k,K){K==null&&(K=this.Oa,this.Oa+=1),this.db.handleError((k===(k|0)?Yu:Fu)(this.Qa,K,k))},E.prototype.Eb=function(k){k==null&&(k=this.Oa,this.Oa+=1),el(this.Qa,k,0,0,0)},E.prototype.tb=function(k,K){switch(K==null&&(K=this.Oa,this.Oa+=1),typeof k){case"string":this.sb(k,K);return;case"number":this.rb(k,K);return;case"bigint":this.sb(k.toString(),K);return;case"boolean":this.rb(k+0,K);return;case"object":if(k===null){this.Eb(K);return}if(k.length!=null){this.Bb(k,K);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+k+")."},E.prototype.Db=function(k){var K=this;return Object.keys(k).forEach(function(ce){var Ce=Ua(K.Qa,ce);Ce!==0&&K.tb(k[ce],Ce)}),!0},E.prototype.Cb=function(k){for(var K=0;K<k.length;K+=1)this.tb(k[K],K+1);return!0},E.prototype.reset=function(){return this.freemem(),tc(this.Qa)===0&&La(this.Qa)===0},E.prototype.freemem=function(){for(var k;(k=this.lb.pop())!==void 0;)$i(k)},E.prototype.free=function(){this.freemem();var k=nc(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,k},A.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var k=Un(),K=_n(4);ii(L),ii(K);try{this.db.handleError(Vo(this.db.db,this.kb,-1,L,K)),this.kb=sn(K,"i32");var ce=sn(L,"i32");return ce===0?(this.mb(),{done:!0}):(this.Za=new E(ce,this.db),this.db.fb[ce]=this.Za,{value:this.Za,done:!1})}catch(Ce){throw this.pb=Xt(this.kb),this.mb(),Ce}finally{$t(k)}},A.prototype.mb=function(){$i(this.eb),this.eb=null},A.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:Xt(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(A.prototype[Symbol.iterator]=function(){return this}),x.prototype.run=function(k,K){if(!this.db)throw"Database closed";if(K){k=this.prepare(k,K);try{k.step()}finally{k.free()}}else this.handleError(De(this.db,k,0,0,L));return this},x.prototype.exec=function(k,K,ce){if(!this.db)throw"Database closed";var Ce=Un(),Ae=null;try{var Ke=Na(k),ln=_n(4);for(k=[];sn(Ke,"i8")!==0;){ii(L),ii(ln),this.handleError(Vo(this.db,Ke,-1,L,ln));var tn=sn(L,"i32");if(Ke=sn(ln,"i32"),tn!==0){var Ht=null;for(Ae=new E(tn,this),K!=null&&Ae.bind(K);Ae.step();)Ht===null&&(Ht={columns:Ae.getColumnNames(),values:[]},k.push(Ht)),Ht.values.push(Ae.get(null,ce));Ae.free()}}return k}catch(nn){throw Ae&&Ae.free(),nn}finally{$t(Ce)}},x.prototype.each=function(k,K,ce,Ce,Ae){typeof K=="function"&&(Ce=ce,ce=K,K=void 0),k=this.prepare(k,K);try{for(;k.step();)ce(k.getAsObject(null,Ae))}finally{k.free()}if(typeof Ce=="function")return Ce()},x.prototype.prepare=function(k,K){if(ii(L),this.handleError(Dt(this.db,k,-1,L,0)),k=sn(L,"i32"),k===0)throw"Nothing to prepare";var ce=new E(k,this);return K!=null&&ce.bind(K),this.fb[k]=ce},x.prototype.iterateStatements=function(k){return new A(k,this)},x.prototype.export=function(){Object.values(this.fb).forEach(function(K){K.free()}),Object.values(this.Sa).forEach(vn),this.Sa={},this.handleError(ke(this.db));var k=Xs(this.filename);return this.handleError(ue(this.filename,L)),this.db=sn(L,"i32"),ol(this.db),k},x.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(k){k.free()}),Object.values(this.Sa).forEach(vn),this.Sa={},this.Ya&&(vn(this.Ya),this.Ya=void 0),this.handleError(ke(this.db)),Js("/"+this.filename),this.db=null)},x.prototype.handleError=function(k){if(k===0)return null;throw k=Zu(this.db),Error(k)},x.prototype.getRowsModified=function(){return mt(this.db)},x.prototype.create_function=function(k,K){Object.prototype.hasOwnProperty.call(this.Sa,k)&&(vn(this.Sa[k]),delete this.Sa[k]);var ce=hi(function(Ce,Ae,Ke){Ae=_(Ae,Ke);try{var ln=K.apply(null,Ae)}catch(tn){Ki(Ce,tn,-1);return}p(Ce,ln)},"viii");return this.Sa[k]=ce,this.handleError(tl(this.db,k,K.length,1,0,ce,0,0,0)),this},x.prototype.create_aggregate=function(k,K){var ce=K.init||function(){return null},Ce=K.finalize||function(Ht){return Ht},Ae=K.step;if(!Ae)throw"An aggregate function must have a step function in "+k;var Ke={};Object.hasOwnProperty.call(this.Sa,k)&&(vn(this.Sa[k]),delete this.Sa[k]),K=k+"__finalize",Object.hasOwnProperty.call(this.Sa,K)&&(vn(this.Sa[K]),delete this.Sa[K]);var ln=hi(function(Ht,nn,mi){var un=Ji(Ht,1);Object.hasOwnProperty.call(Ke,un)||(Ke[un]=ce()),nn=_(nn,mi),nn=[Ke[un]].concat(nn);try{Ke[un]=Ae.apply(null,nn)}catch(fc){delete Ke[un],Ki(Ht,fc,-1)}},"viii"),tn=hi(function(Ht){var nn=Ji(Ht,1);try{var mi=Ce(Ke[nn])}catch(un){delete Ke[nn],Ki(Ht,un,-1);return}p(Ht,mi),delete Ke[nn]},"vi");return this.Sa[k]=ln,this.Sa[K]=tn,this.handleError(tl(this.db,k,Ae.length-1,1,0,0,ln,tn,0)),this},x.prototype.updateHook=function(k){this.Ya&&(Oa(this.db,0,0),vn(this.Ya),this.Ya=void 0),k&&(this.Ya=hi(function(K,ce,Ce,Ae,Ke){switch(ce){case 18:K="insert";break;case 23:K="update";break;case 9:K="delete";break;default:throw"unknown operationCode in updateHook callback: "+ce}if(Ce=Ce?dt(pe,Ce):"",Ae=Ae?dt(pe,Ae):"",Ke>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";k(K,Ce,Ae,Number(Ke))},"viiiij"),Oa(this.db,this.Ya,0))},m.Database=x};var D={...m},U="./this.program",H=(p,_)=>{throw _},$="",X,Q;if(w){var W=Pv;$=__dirname+"/",Q=p=>(p=_e(p)?new URL(p):p,W.readFileSync(p)),X=async p=>(p=_e(p)?new URL(p):p,W.readFileSync(p,void 0)),!m.thisProgram&&1<process.argv.length&&(U=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),r.exports=m,H=(p,_)=>{throw process.exitCode=p,_}}else(T||b)&&(b?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),$=$.startsWith("blob:")?"":$.slice(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1),b&&(Q=p=>{var _=new XMLHttpRequest;return _.open("GET",p,!1),_.responseType="arraybuffer",_.send(null),new Uint8Array(_.response)}),X=async p=>{if(_e(p))return new Promise((E,A)=>{var x=new XMLHttpRequest;x.open("GET",p,!0),x.responseType="arraybuffer",x.onload=()=>{x.status==200||x.status==0&&x.response?E(x.response):A(x.status)},x.onerror=A,x.send(null)});var _=await fetch(p,{credentials:"same-origin"});if(_.ok)return _.arrayBuffer();throw Error(_.status+" : "+_.url)});var he=m.print||console.log.bind(console),Y=m.printErr||console.error.bind(console);Object.assign(m,D),D=null,m.thisProgram&&(U=m.thisProgram);var se=m.wasmBinary,ae,Ee=!1,le,ge,pe,ut,Ve,qe,ft,z,ie,_e=p=>p.startsWith("file://");function Qe(){var p=ae.buffer;m.HEAP8=ge=new Int8Array(p),m.HEAP16=ut=new Int16Array(p),m.HEAPU8=pe=new Uint8Array(p),m.HEAPU16=new Uint16Array(p),m.HEAP32=Ve=new Int32Array(p),m.HEAPU32=qe=new Uint32Array(p),m.HEAPF32=ft=new Float32Array(p),m.HEAPF64=ie=new Float64Array(p),m.HEAP64=z=new BigInt64Array(p),m.HEAPU64=new BigUint64Array(p)}var R=0,J=null;function oe(p){var _;throw(_=m.onAbort)==null||_.call(m,p),p="Aborted("+p+")",Y(p),Ee=!0,new WebAssembly.RuntimeError(p+". Build with -sASSERTIONS for more info.")}var ne;async function Te(p){if(!se)try{var _=await X(p);return new Uint8Array(_)}catch{}if(p==ne&&se)p=new Uint8Array(se);else if(Q)p=Q(p);else throw"both async and sync fetching of the wasm failed";return p}async function Fe(p,_){try{var E=await Te(p);return await WebAssembly.instantiate(E,_)}catch(A){Y(`failed to asynchronously prepare wasm: ${A}`),oe(A)}}async function Re(p){var _=ne;if(!se&&typeof WebAssembly.instantiateStreaming=="function"&&!_e(_)&&!w)try{var E=fetch(_,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(E,p)}catch(A){Y(`wasm streaming compile failed: ${A}`),Y("falling back to ArrayBuffer instantiation")}return Fe(_,p)}class Lt{constructor(_){vo(this,"name","ExitStatus");this.message=`Program terminated with exit(${_})`,this.status=_}}var it=p=>{for(;0<p.length;)p.shift()(m)},Rn=[],lr=[],ur=()=>{var p=m.preRun.shift();lr.unshift(p)};function sn(p,_="i8"){switch(_.endsWith("*")&&(_="*"),_){case"i1":return ge[p];case"i8":return ge[p];case"i16":return ut[p>>1];case"i32":return Ve[p>>2];case"i64":return z[p>>3];case"float":return ft[p>>2];case"double":return ie[p>>3];case"*":return qe[p>>2];default:oe(`invalid type for getValue: ${_}`)}}var Io=m.noExitRuntime||!0;function ii(p){var _="i32";switch(_.endsWith("*")&&(_="*"),_){case"i1":ge[p]=0;break;case"i8":ge[p]=0;break;case"i16":ut[p>>1]=0;break;case"i32":Ve[p>>2]=0;break;case"i64":z[p>>3]=BigInt(0);break;case"float":ft[p>>2]=0;break;case"double":ie[p>>3]=0;break;case"*":qe[p>>2]=0;break;default:oe(`invalid type for setValue: ${_}`)}}var Gs=typeof TextDecoder<"u"?new TextDecoder:void 0,dt=(p,_=0,E=NaN)=>{var A=_+E;for(E=_;p[E]&&!(E>=A);)++E;if(16<E-_&&p.buffer&&Gs)return Gs.decode(p.subarray(_,E));for(A="";_<E;){var x=p[_++];if(x&128){var L=p[_++]&63;if((x&224)==192)A+=String.fromCharCode((x&31)<<6|L);else{var B=p[_++]&63;x=(x&240)==224?(x&15)<<12|L<<6|B:(x&7)<<18|L<<12|B<<6|p[_++]&63,65536>x?A+=String.fromCharCode(x):(x-=65536,A+=String.fromCharCode(55296|x>>10,56320|x&1023))}}else A+=String.fromCharCode(x)}return A},Xt=(p,_)=>p?dt(pe,p,_):"",Hs=(p,_)=>{for(var E=0,A=p.length-1;0<=A;A--){var x=p[A];x==="."?p.splice(A,1):x===".."?(p.splice(A,1),E++):E&&(p.splice(A,1),E--)}if(_)for(;E;E--)p.unshift("..");return p},cr=p=>{var _=p.charAt(0)==="/",E=p.slice(-1)==="/";return(p=Hs(p.split("/").filter(A=>!!A),!_).join("/"))||_||(p="."),p&&E&&(p+="/"),(_?"/":"")+p},_a=p=>{var _=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1);return p=_[0],_=_[1],!p&&!_?".":(_&&(_=_.slice(0,-1)),p+_)},oi=p=>p&&p.match(/([^\/]+|\/)\/*$/)[1],Bu=()=>{if(w){var p=Pv;return _=>p.randomFillSync(_)}return _=>crypto.getRandomValues(_)},Ta=p=>{(Ta=Bu())(p)},zu=(...p)=>{for(var _="",E=!1,A=p.length-1;-1<=A&&!E;A--){if(E=0<=A?p[A]:"/",typeof E!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!E)return"";_=E+"/"+_,E=E.charAt(0)==="/"}return _=Hs(_.split("/").filter(x=>!!x),!E).join("/"),(E?"/":"")+_||"."},Ca=[],Nn=p=>{for(var _=0,E=0;E<p.length;++E){var A=p.charCodeAt(E);127>=A?_++:2047>=A?_+=2:55296<=A&&57343>=A?(_+=4,++E):_+=3}return _},gt=(p,_,E,A)=>{if(!(0<A))return 0;var x=E;A=E+A-1;for(var L=0;L<p.length;++L){var B=p.charCodeAt(L);if(55296<=B&&57343>=B){var ue=p.charCodeAt(++L);B=65536+((B&1023)<<10)|ue&1023}if(127>=B){if(E>=A)break;_[E++]=B}else{if(2047>=B){if(E+1>=A)break;_[E++]=192|B>>6}else{if(65535>=B){if(E+2>=A)break;_[E++]=224|B>>12}else{if(E+3>=A)break;_[E++]=240|B>>18,_[E++]=128|B>>12&63}_[E++]=128|B>>6&63}_[E++]=128|B&63}}return _[E]=0,E-x},Dn=(p,_)=>{var E=Array(Nn(p)+1);return p=gt(p,E,0,E.length),_&&(E.length=p),E},zt=[];function Fs(p,_){zt[p]={input:[],output:[],cb:_},vt(p,Gu)}var Gu={open(p){var _=zt[p.node.rdev];if(!_)throw new te(43);p.tty=_,p.seekable=!1},close(p){p.tty.cb.fsync(p.tty)},fsync(p){p.tty.cb.fsync(p.tty)},read(p,_,E,A){if(!p.tty||!p.tty.cb.xb)throw new te(60);for(var x=0,L=0;L<A;L++){try{var B=p.tty.cb.xb(p.tty)}catch{throw new te(29)}if(B===void 0&&x===0)throw new te(6);if(B==null)break;x++,_[E+L]=B}return x&&(p.node.atime=Date.now()),x},write(p,_,E,A){if(!p.tty||!p.tty.cb.qb)throw new te(60);try{for(var x=0;x<A;x++)p.tty.cb.qb(p.tty,_[E+x])}catch{throw new te(29)}return A&&(p.node.mtime=p.node.ctime=Date.now()),x}},Hu={xb(){e:{if(!Ca.length){var p=null;if(w){var _=Buffer.alloc(256),E=0,A=process.stdin.fd;try{E=W.readSync(A,_,0,256)}catch(x){if(x.toString().includes("EOF"))E=0;else throw x}0<E&&(p=_.slice(0,E).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(p=window.prompt("Input: "),p!==null&&(p+=`
`));if(!p){p=null;break e}Ca=Dn(p,!0)}p=Ca.shift()}return p},qb(p,_){_===null||_===10?(he(dt(p.output)),p.output=[]):_!=0&&p.output.push(_)},fsync(p){var _;0<((_=p.output)==null?void 0:_.length)&&(he(dt(p.output)),p.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},fr={qb(p,_){_===null||_===10?(Y(dt(p.output)),p.output=[]):_!=0&&p.output.push(_)},fsync(p){var _;0<((_=p.output)==null?void 0:_.length)&&(Y(dt(p.output)),p.output=[])}},Ne={Wa:null,Xa(){return Ne.createNode(null,"/",16895,0)},createNode(p,_,E,A){if((E&61440)===24576||(E&61440)===4096)throw new te(63);return Ne.Wa||(Ne.Wa={dir:{node:{Ta:Ne.La.Ta,Ua:Ne.La.Ua,lookup:Ne.La.lookup,hb:Ne.La.hb,rename:Ne.La.rename,unlink:Ne.La.unlink,rmdir:Ne.La.rmdir,readdir:Ne.La.readdir,symlink:Ne.La.symlink},stream:{Va:Ne.Ma.Va}},file:{node:{Ta:Ne.La.Ta,Ua:Ne.La.Ua},stream:{Va:Ne.Ma.Va,read:Ne.Ma.read,write:Ne.Ma.write,ib:Ne.Ma.ib,jb:Ne.Ma.jb}},link:{node:{Ta:Ne.La.Ta,Ua:Ne.La.Ua,readlink:Ne.La.readlink},stream:{}},ub:{node:{Ta:Ne.La.Ta,Ua:Ne.La.Ua},stream:zi}}),E=Ot(p,_,E,A),Ct(E.mode)?(E.La=Ne.Wa.dir.node,E.Ma=Ne.Wa.dir.stream,E.Na={}):(E.mode&61440)===32768?(E.La=Ne.Wa.file.node,E.Ma=Ne.Wa.file.stream,E.Ra=0,E.Na=null):(E.mode&61440)===40960?(E.La=Ne.Wa.link.node,E.Ma=Ne.Wa.link.stream):(E.mode&61440)===8192&&(E.La=Ne.Wa.ub.node,E.Ma=Ne.Wa.ub.stream),E.atime=E.mtime=E.ctime=Date.now(),p&&(p.Na[_]=E,p.atime=p.mtime=p.ctime=E.atime),E},Sb(p){return p.Na?p.Na.subarray?p.Na.subarray(0,p.Ra):new Uint8Array(p.Na):new Uint8Array(0)},La:{Ta(p){var _={};return _.dev=(p.mode&61440)===8192?p.id:1,_.ino=p.id,_.mode=p.mode,_.nlink=1,_.uid=0,_.gid=0,_.rdev=p.rdev,Ct(p.mode)?_.size=4096:(p.mode&61440)===32768?_.size=p.Ra:(p.mode&61440)===40960?_.size=p.link.length:_.size=0,_.atime=new Date(p.atime),_.mtime=new Date(p.mtime),_.ctime=new Date(p.ctime),_.blksize=4096,_.blocks=Math.ceil(_.size/_.blksize),_},Ua(p,_){for(var E of["mode","atime","mtime","ctime"])_[E]!=null&&(p[E]=_[E]);_.size!==void 0&&(_=_.size,p.Ra!=_&&(_==0?(p.Na=null,p.Ra=0):(E=p.Na,p.Na=new Uint8Array(_),E&&p.Na.set(E.subarray(0,Math.min(_,p.Ra))),p.Ra=_)))},lookup(){throw Ne.vb},hb(p,_,E,A){return Ne.createNode(p,_,E,A)},rename(p,_,E){try{var A=ht(_,E)}catch{}if(A){if(Ct(p.mode))for(var x in A.Na)throw new te(55);yn(A)}delete p.parent.Na[p.name],_.Na[E]=p,p.name=E,_.ctime=_.mtime=p.parent.ctime=p.parent.mtime=Date.now()},unlink(p,_){delete p.Na[_],p.ctime=p.mtime=Date.now()},rmdir(p,_){var E=ht(p,_),A;for(A in E.Na)throw new te(55);delete p.Na[_],p.ctime=p.mtime=Date.now()},readdir(p){return[".","..",...Object.keys(p.Na)]},symlink(p,_,E){return p=Ne.createNode(p,_,41471,0),p.link=E,p},readlink(p){if((p.mode&61440)!==40960)throw new te(28);return p.link}},Ma:{read(p,_,E,A,x){var L=p.node.Na;if(x>=p.node.Ra)return 0;if(p=Math.min(p.node.Ra-x,A),8<p&&L.subarray)_.set(L.subarray(x,x+p),E);else for(A=0;A<p;A++)_[E+A]=L[x+A];return p},write(p,_,E,A,x,L){if(_.buffer===ge.buffer&&(L=!1),!A)return 0;if(p=p.node,p.mtime=p.ctime=Date.now(),_.subarray&&(!p.Na||p.Na.subarray)){if(L)return p.Na=_.subarray(E,E+A),p.Ra=A;if(p.Ra===0&&x===0)return p.Na=_.slice(E,E+A),p.Ra=A;if(x+A<=p.Ra)return p.Na.set(_.subarray(E,E+A),x),A}L=x+A;var B=p.Na?p.Na.length:0;if(B>=L||(L=Math.max(L,B*(1048576>B?2:1.125)>>>0),B!=0&&(L=Math.max(L,256)),B=p.Na,p.Na=new Uint8Array(L),0<p.Ra&&p.Na.set(B.subarray(0,p.Ra),0)),p.Na.subarray&&_.subarray)p.Na.set(_.subarray(E,E+A),x);else for(L=0;L<A;L++)p.Na[x+L]=_[E+L];return p.Ra=Math.max(p.Ra,x+A),A},Va(p,_,E){if(E===1?_+=p.position:E===2&&(p.node.mode&61440)===32768&&(_+=p.node.Ra),0>_)throw new te(28);return _},ib(p,_,E,A,x){if((p.node.mode&61440)!==32768)throw new te(43);if(p=p.node.Na,x&2||!p||p.buffer!==ge.buffer){x=!0,A=65536*Math.ceil(_/65536);var L=Ia(65536,A);if(L&&pe.fill(0,L,L+A),A=L,!A)throw new te(48);p&&((0<E||E+_<p.length)&&(p.subarray?p=p.subarray(E,E+_):p=Array.prototype.slice.call(p,E,E+_)),ge.set(p,A))}else x=!1,A=p.byteOffset;return{Kb:A,Ab:x}},jb(p,_,E,A){return Ne.Ma.write(p,_,0,A,E,!1),0}}},Bn=(p,_)=>{var E=0;return p&&(E|=365),_&&(E|=146),E},Li=null,Oi={},Pi=[],Ys=1,In=null,dr=!1,Vi=!0,$s={},te=class{constructor(p){vo(this,"name","ErrnoError");this.Pa=p}},Zs=class{constructor(){vo(this,"gb",{});vo(this,"node",null)}get flags(){return this.gb.flags}set flags(p){this.gb.flags=p}get position(){return this.gb.position}set position(p){this.gb.position=p}},Ea=class{constructor(p,_,E,A){vo(this,"La",{});vo(this,"Ma",{});vo(this,"ab",null);p||(p=this),this.parent=p,this.Xa=p.Xa,this.id=Ys++,this.name=_,this.mode=E,this.rdev=A,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(p){p?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(p){p?this.mode|=146:this.mode&=-147}};function Gt(p,_={}){if(!p)throw new te(44);_.nb??(_.nb=!0),p.charAt(0)==="/"||(p="//"+p);var E=0;e:for(;40>E;E++){p=p.split("/").filter(ue=>!!ue);for(var A=Li,x="/",L=0;L<p.length;L++){var B=L===p.length-1;if(B&&_.parent)break;if(p[L]!==".")if(p[L]==="..")x=_a(x),A=A.parent;else{x=cr(x+"/"+p[L]);try{A=ht(A,p[L])}catch(ue){if((ue==null?void 0:ue.Pa)===44&&B&&_.Jb)return{path:x};throw ue}if(!A.ab||B&&!_.nb||(A=A.ab.root),(A.mode&61440)===40960&&(!B||_.$a)){if(!A.La.readlink)throw new te(52);A=A.La.readlink(A),A.charAt(0)==="/"||(A=_a(x)+"/"+A),p=A+"/"+p.slice(L+1).join("/");continue e}}}return{path:x,node:A}}throw new te(32)}function hr(p){for(var _;;){if(p===p.parent)return p=p.Xa.zb,_?p[p.length-1]!=="/"?`${p}/${_}`:p+_:p;_=_?`${p.name}/${_}`:p.name,p=p.parent}}function Sa(p,_){for(var E=0,A=0;A<_.length;A++)E=(E<<5)-E+_.charCodeAt(A)|0;return(p+E>>>0)%In.length}function yn(p){var _=Sa(p.parent.id,p.name);if(In[_]===p)In[_]=p.bb;else for(_=In[_];_;){if(_.bb===p){_.bb=p.bb;break}_=_.bb}}function ht(p,_){var E=Ct(p.mode)?(E=qi(p,"x"))?E:p.La.lookup?0:2:54;if(E)throw new te(E);for(E=In[Sa(p.id,_)];E;E=E.bb){var A=E.name;if(E.parent.id===p.id&&A===_)return E}return p.La.lookup(p,_)}function Ot(p,_,E,A){return p=new Ea(p,_,E,A),_=Sa(p.parent.id,p.name),p.bb=In[_],In[_]=p}function Ct(p){return(p&61440)===16384}function mr(p){var _=["r","w","rw"][p&3];return p&512&&(_+="w"),_}function qi(p,_){if(Vi)return 0;if(!_.includes("r")||p.mode&292){if(_.includes("w")&&!(p.mode&146)||_.includes("x")&&!(p.mode&73))return 2}else return 2;return 0}function Ks(p,_){if(!Ct(p.mode))return 54;try{return ht(p,_),20}catch{}return qi(p,"wx")}function Aa(p,_,E){try{var A=ht(p,_)}catch(x){return x.Pa}if(p=qi(p,"wx"))return p;if(E){if(!Ct(A.mode))return 54;if(A===A.parent||hr(A)==="/")return 10}else if(Ct(A.mode))return 31;return 0}function zn(p){if(!p)throw new te(63);return p}function xt(p){if(p=Pi[p],!p)throw new te(8);return p}function ri(p,_=-1){if(p=Object.assign(new Zs,p),_==-1)e:{for(_=0;4096>=_;_++)if(!Pi[_])break e;throw new te(33)}return p.fd=_,Pi[_]=p}function Bi(p,_=-1){var E,A;return p=ri(p,_),(A=(E=p.Ma)==null?void 0:E.Rb)==null||A.call(E,p),p}function ai(p,_,E){var A=p==null?void 0:p.Ma.Ua;p=A?p:_,A??(A=_.La.Ua),zn(A),A(p,E)}var zi={open(p){var _,E;p.Ma=Oi[p.node.rdev].Ma,(E=(_=p.Ma).open)==null||E.call(_,p)},Va(){throw new te(70)}};function vt(p,_){Oi[p]={Ma:_}}function ba(p,_){var E=_==="/";if(E&&Li)throw new te(10);if(!E&&_){var A=Gt(_,{nb:!1});if(_=A.path,A=A.node,A.ab)throw new te(10);if(!Ct(A.mode))throw new te(54)}_={type:p,Wb:{},zb:_,Ib:[]},p=p.Xa(_),p.Xa=_,_.root=p,E?Li=p:A&&(A.ab=_,A.Xa&&A.Xa.Ib.push(_))}function Uo(p,_,E){var A=Gt(p,{parent:!0}).node;if(p=oi(p),!p)throw new te(28);if(p==="."||p==="..")throw new te(20);var x=Ks(A,p);if(x)throw new te(x);if(!A.La.hb)throw new te(63);return A.La.hb(A,p,_,E)}function si(p,_=438){return Uo(p,_&4095|32768,0)}function Pt(p,_=511){return Uo(p,_&1023|16384,0)}function pr(p,_,E){typeof E>"u"&&(E=_,_=438),Uo(p,_|8192,E)}function gr(p,_){if(!zu(p))throw new te(44);var E=Gt(_,{parent:!0}).node;if(!E)throw new te(44);_=oi(_);var A=Ks(E,_);if(A)throw new te(A);if(!E.La.symlink)throw new te(63);E.La.symlink(E,_,p)}function wa(p){var _=Gt(p,{parent:!0}).node;p=oi(p);var E=ht(_,p),A=Aa(_,p,!0);if(A)throw new te(A);if(!_.La.rmdir)throw new te(63);if(E.ab)throw new te(10);_.La.rmdir(_,p),yn(E)}function Js(p){var _=Gt(p,{parent:!0}).node;if(!_)throw new te(44);p=oi(p);var E=ht(_,p),A=Aa(_,p,!1);if(A)throw new te(A);if(!_.La.unlink)throw new te(63);if(E.ab)throw new te(10);_.La.unlink(_,p),yn(E)}function Gn(p,_){return p=Gt(p,{$a:!_}).node,zn(p.La.Ta)(p)}function ko(p,_,E,A){ai(p,_,{mode:E&4095|_.mode&-4096,ctime:Date.now(),Fb:A})}function Wt(p,_){p=typeof p=="string"?Gt(p,{$a:!0}).node:p,ko(null,p,_)}function yr(p,_,E){if(Ct(_.mode))throw new te(31);if((_.mode&61440)!==32768)throw new te(28);var A=qi(_,"w");if(A)throw new te(A);ai(p,_,{size:E,timestamp:Date.now()})}function li(p,_,E=438){if(p==="")throw new te(44);if(typeof _=="string"){var A={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[_];if(typeof A>"u")throw Error(`Unknown file open mode: ${_}`);_=A}if(E=_&64?E&4095|32768:0,typeof p=="object")A=p;else{var x=p.endsWith("/");p=Gt(p,{$a:!(_&131072),Jb:!0}),A=p.node,p=p.path}var L=!1;if(_&64)if(A){if(_&128)throw new te(20)}else{if(x)throw new te(31);A=Uo(p,E|511,0),L=!0}if(!A)throw new te(44);if((A.mode&61440)===8192&&(_&=-513),_&65536&&!Ct(A.mode))throw new te(54);if(!L&&(x=A?(A.mode&61440)===40960?32:Ct(A.mode)&&(mr(_)!=="r"||_&576)?31:qi(A,mr(_)):44))throw new te(x);return _&512&&!L&&(x=A,x=typeof x=="string"?Gt(x,{$a:!0}).node:x,yr(null,x,0)),_&=-131713,x=ri({node:A,path:hr(A),flags:_,seekable:!0,position:0,Ma:A.Ma,Lb:[],error:!1}),x.Ma.open&&x.Ma.open(x),L&&Wt(A,E&511),!m.logReadFiles||_&1||p in $s||($s[p]=1),x}function Hn(p){if(p.fd===null)throw new te(8);p.ob&&(p.ob=null);try{p.Ma.close&&p.Ma.close(p)}catch(_){throw _}finally{Pi[p.fd]=null}p.fd=null}function vr(p,_,E){if(p.fd===null)throw new te(8);if(!p.seekable||!p.Ma.Va)throw new te(70);if(E!=0&&E!=1&&E!=2)throw new te(28);p.position=p.Ma.Va(p,_,E),p.Lb=[]}function _r(p,_,E,A,x){if(0>A||0>x)throw new te(28);if(p.fd===null)throw new te(8);if((p.flags&2097155)===1)throw new te(8);if(Ct(p.node.mode))throw new te(31);if(!p.Ma.read)throw new te(28);var L=typeof x<"u";if(!L)x=p.position;else if(!p.seekable)throw new te(70);return _=p.Ma.read(p,_,E,A,x),L||(p.position+=_),_}function Qs(p,_,E,A,x){if(0>A||0>x)throw new te(28);if(p.fd===null)throw new te(8);if((p.flags&2097155)===0)throw new te(8);if(Ct(p.node.mode))throw new te(31);if(!p.Ma.write)throw new te(28);p.seekable&&p.flags&1024&&vr(p,0,2);var L=typeof x<"u";if(!L)x=p.position;else if(!p.seekable)throw new te(70);return _=p.Ma.write(p,_,E,A,x,void 0),L||(p.position+=_),_}function Xs(p){var _,E=li(p,E||0);p=Gn(p).size;var A=new Uint8Array(p);return _r(E,A,0,p,0),_=A,Hn(E),_}function Et(p,_,E){p=cr("/dev/"+p);var A=Bn(!!_,!!E);Et.yb??(Et.yb=64);var x=Et.yb++<<8|0;vt(x,{open(L){L.seekable=!1},close(){var L;(L=E==null?void 0:E.buffer)!=null&&L.length&&E(10)},read(L,B,ue,ke){for(var De=0,mt=0;mt<ke;mt++){try{var Dt=_()}catch{throw new te(29)}if(Dt===void 0&&De===0)throw new te(6);if(Dt==null)break;De++,B[ue+mt]=Dt}return De&&(L.node.atime=Date.now()),De},write(L,B,ue,ke){for(var De=0;De<ke;De++)try{E(B[ue+De])}catch{throw new te(29)}return ke&&(L.node.mtime=L.node.ctime=Date.now()),De}}),pr(p,A,x)}var je={};function ui(p,_,E){if(_.charAt(0)==="/")return _;if(p=p===-100?"/":xt(p).path,_.length==0){if(!E)throw new te(44);return p}return p+"/"+_}function ci(p,_){Ve[p>>2]=_.dev,Ve[p+4>>2]=_.mode,qe[p+8>>2]=_.nlink,Ve[p+12>>2]=_.uid,Ve[p+16>>2]=_.gid,Ve[p+20>>2]=_.rdev,z[p+24>>3]=BigInt(_.size),Ve[p+32>>2]=4096,Ve[p+36>>2]=_.blocks;var E=_.atime.getTime(),A=_.mtime.getTime(),x=_.ctime.getTime();return z[p+40>>3]=BigInt(Math.floor(E/1e3)),qe[p+48>>2]=E%1e3*1e6,z[p+56>>3]=BigInt(Math.floor(A/1e3)),qe[p+64>>2]=A%1e3*1e6,z[p+72>>3]=BigInt(Math.floor(x/1e3)),qe[p+80>>2]=x%1e3*1e6,z[p+88>>3]=BigInt(_.ino),0}var Lo=void 0,fi=()=>{var p=Ve[+Lo>>2];return Lo+=4,p},Ma=0,jt=[0,31,60,91,121,152,182,213,244,274,305,335],xa=[0,31,59,90,120,151,181,212,243,273,304,334],Gi={},Tr=p=>{var _;le=p,Io||0<Ma||((_=m.onExit)==null||_.call(m,p),Ee=!0),H(p,new Lt(p))},Hi=p=>{if(!Ee)try{if(p(),!(Io||0<Ma))try{le=p=le,Tr(p)}catch(_){_ instanceof Lt||_=="unwind"||H(1,_)}}catch(_){_ instanceof Lt||_=="unwind"||H(1,_)}},Cr={},Ra=()=>{if(!Fn){var p={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:U||"./this.program"},_;for(_ in Cr)Cr[_]===void 0?delete p[_]:p[_]=Cr[_];var E=[];for(_ in p)E.push(`${_}=${p[_]}`);Fn=E}return Fn},Fn,Na=p=>{var _=Nn(p)+1,E=_n(_);return gt(p,pe,E,_),E},Ws=(p,_,E,A)=>{var x={string:De=>{var mt=0;return De!=null&&De!==0&&(mt=Na(De)),mt},array:De=>{var mt=_n(De.length);return ge.set(De,mt),mt}};p=m["_"+p];var L=[],B=0;if(A)for(var ue=0;ue<A.length;ue++){var ke=x[E[ue]];ke?(B===0&&(B=Un()),L[ue]=ke(A[ue])):L[ue]=A[ue]}return E=p(...L),E=function(De){return B!==0&&$t(B),_==="string"?De?dt(pe,De):"":_==="boolean"?!!De:De}(E)},Oo=0,Fi=(p,_)=>(_=_==1?_n(p.length):Er(p.length),p.subarray||p.slice||(p=new Uint8Array(p)),pe.set(p,_),_),di,Da=[],en,vn=p=>{di.delete(en.get(p)),en.set(p,null),Da.push(p)},hi=(p,_)=>{if(!di){di=new WeakMap;var E=en.length;if(di)for(var A=0;A<0+E;A++){var x=en.get(A);x&&di.set(x,A)}}if(E=di.get(p)||0)return E;if(Da.length)E=Da.pop();else{try{en.grow(1)}catch(ke){throw ke instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":ke}E=en.length-1}try{en.set(E,p)}catch(ke){if(!(ke instanceof TypeError))throw ke;if(typeof WebAssembly.Function=="function"){var L=WebAssembly.Function;A={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},x={parameters:[],results:_[0]=="v"?[]:[A[_[0]]]};for(var B=1;B<_.length;++B)x.parameters.push(A[_[B]]);_=new L(x,p)}else{A=[1],x=_.slice(0,1),_=_.slice(1),B={i:127,p:127,j:126,f:125,d:124,e:111},A.push(96);var ue=_.length;128>ue?A.push(ue):A.push(ue%128|128,ue>>7);for(L of _)A.push(B[L]);x=="v"?A.push(0):A.push(1,B[x]),_=[0,97,115,109,1,0,0,0,1],L=A.length,128>L?_.push(L):_.push(L%128|128,L>>7),_.push(...A),_.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),_=new WebAssembly.Module(new Uint8Array(_)),_=new WebAssembly.Instance(_,{e:{f:p}}).exports.f}en.set(E,_)}return di.set(p,E),E};In=Array(4096),ba(Ne,"/"),Pt("/tmp"),Pt("/home"),Pt("/home/web_user"),function(){Pt("/dev"),vt(259,{read:()=>0,write:(A,x,L,B)=>B,Va:()=>0}),pr("/dev/null",259),Fs(1280,Hu),Fs(1536,fr),pr("/dev/tty",1280),pr("/dev/tty1",1536);var p=new Uint8Array(1024),_=0,E=()=>(_===0&&(Ta(p),_=p.byteLength),p[--_]);Et("random",E),Et("urandom",E),Pt("/dev/shm"),Pt("/dev/shm/tmp")}(),function(){Pt("/proc");var p=Pt("/proc/self");Pt("/proc/self/fd"),ba({Xa(){var _=Ot(p,"fd",16895,73);return _.Ma={Va:Ne.Ma.Va},_.La={lookup(E,A){E=+A;var x=xt(E);return E={parent:null,Xa:{zb:"fake"},La:{readlink:()=>x.path},id:E+1},E.parent=E},readdir(){return Array.from(Pi.entries()).filter(([,E])=>E).map(([E])=>E.toString())}},_}},"/proc/self/fd")}(),Ne.vb=new te(44),Ne.vb.stack="<generic error, no stack>";var Yi={a:(p,_,E,A)=>oe(`Assertion failed: ${p?dt(pe,p):""}, at: `+[_?_?dt(pe,_):"":"unknown filename",E,A?A?dt(pe,A):"":"unknown function"]),i:function(p,_){try{return p=p?dt(pe,p):"",Wt(p,_),0}catch(E){if(typeof je>"u"||E.name!=="ErrnoError")throw E;return-E.Pa}},L:function(p,_,E){try{if(_=_?dt(pe,_):"",_=ui(p,_),E&-8)return-28;var A=Gt(_,{$a:!0}).node;return A?(p="",E&4&&(p+="r"),E&2&&(p+="w"),E&1&&(p+="x"),p&&qi(A,p)?-2:0):-44}catch(x){if(typeof je>"u"||x.name!=="ErrnoError")throw x;return-x.Pa}},j:function(p,_){try{var E=xt(p);return ko(E,E.node,_,!1),0}catch(A){if(typeof je>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},h:function(p){try{var _=xt(p);return ai(_,_.node,{timestamp:Date.now(),Fb:!1}),0}catch(E){if(typeof je>"u"||E.name!=="ErrnoError")throw E;return-E.Pa}},b:function(p,_,E){Lo=E;try{var A=xt(p);switch(_){case 0:var x=fi();if(0>x)break;for(;Pi[x];)x++;return Bi(A,x).fd;case 1:case 2:return 0;case 3:return A.flags;case 4:return x=fi(),A.flags|=x,0;case 12:return x=fi(),ut[x+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(L){if(typeof je>"u"||L.name!=="ErrnoError")throw L;return-L.Pa}},g:function(p,_){try{var E=xt(p),A=E.node,x=E.Ma.Ta;p=x?E:A,x??(x=A.La.Ta),zn(x);var L=x(p);return ci(_,L)}catch(B){if(typeof je>"u"||B.name!=="ErrnoError")throw B;return-B.Pa}},H:function(p,_){_=-9007199254740992>_||9007199254740992<_?NaN:Number(_);try{if(isNaN(_))return 61;var E=xt(p);if(0>_||(E.flags&2097155)===0)throw new te(28);return yr(E,E.node,_),0}catch(A){if(typeof je>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},G:function(p,_){try{if(_===0)return-28;var E=Nn("/")+1;return _<E?-68:(gt("/",pe,p,_),E)}catch(A){if(typeof je>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},K:function(p,_){try{return p=p?dt(pe,p):"",ci(_,Gn(p,!0))}catch(E){if(typeof je>"u"||E.name!=="ErrnoError")throw E;return-E.Pa}},C:function(p,_,E){try{return _=_?dt(pe,_):"",_=ui(p,_),Pt(_,E),0}catch(A){if(typeof je>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},J:function(p,_,E,A){try{_=_?dt(pe,_):"";var x=A&256;return _=ui(p,_,A&4096),ci(E,x?Gn(_,!0):Gn(_))}catch(L){if(typeof je>"u"||L.name!=="ErrnoError")throw L;return-L.Pa}},x:function(p,_,E,A){Lo=A;try{_=_?dt(pe,_):"",_=ui(p,_);var x=A?fi():0;return li(_,E,x).fd}catch(L){if(typeof je>"u"||L.name!=="ErrnoError")throw L;return-L.Pa}},v:function(p,_,E,A){try{if(_=_?dt(pe,_):"",_=ui(p,_),0>=A)return-28;var x=Gt(_).node;if(!x)throw new te(44);if(!x.La.readlink)throw new te(28);var L=x.La.readlink(x),B=Math.min(A,Nn(L)),ue=ge[E+B];return gt(L,pe,E,A+1),ge[E+B]=ue,B}catch(ke){if(typeof je>"u"||ke.name!=="ErrnoError")throw ke;return-ke.Pa}},u:function(p){try{return p=p?dt(pe,p):"",wa(p),0}catch(_){if(typeof je>"u"||_.name!=="ErrnoError")throw _;return-_.Pa}},f:function(p,_){try{return p=p?dt(pe,p):"",ci(_,Gn(p))}catch(E){if(typeof je>"u"||E.name!=="ErrnoError")throw E;return-E.Pa}},r:function(p,_,E){try{return _=_?dt(pe,_):"",_=ui(p,_),E===0?Js(_):E===512?wa(_):oe("Invalid flags passed to unlinkat"),0}catch(A){if(typeof je>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},q:function(p,_,E){try{_=_?dt(pe,_):"",_=ui(p,_,!0);var A=Date.now(),x,L;if(E){var B=qe[E>>2]+4294967296*Ve[E+4>>2],ue=Ve[E+8>>2];ue==1073741823?x=A:ue==1073741822?x=null:x=1e3*B+ue/1e6,E+=16,B=qe[E>>2]+4294967296*Ve[E+4>>2],ue=Ve[E+8>>2],ue==1073741823?L=A:ue==1073741822?L=null:L=1e3*B+ue/1e6}else L=x=A;if((L??x)!==null){p=x;var ke=Gt(_,{$a:!0}).node;zn(ke.La.Ua)(ke,{atime:p,mtime:L})}return 0}catch(De){if(typeof je>"u"||De.name!=="ErrnoError")throw De;return-De.Pa}},m:()=>oe(""),l:()=>{Io=!1,Ma=0},A:function(p,_){p=-9007199254740992>p||9007199254740992<p?NaN:Number(p),p=new Date(1e3*p),Ve[_>>2]=p.getSeconds(),Ve[_+4>>2]=p.getMinutes(),Ve[_+8>>2]=p.getHours(),Ve[_+12>>2]=p.getDate(),Ve[_+16>>2]=p.getMonth(),Ve[_+20>>2]=p.getFullYear()-1900,Ve[_+24>>2]=p.getDay();var E=p.getFullYear();Ve[_+28>>2]=(E%4!==0||E%100===0&&E%400!==0?xa:jt)[p.getMonth()]+p.getDate()-1|0,Ve[_+36>>2]=-(60*p.getTimezoneOffset()),E=new Date(p.getFullYear(),6,1).getTimezoneOffset();var A=new Date(p.getFullYear(),0,1).getTimezoneOffset();Ve[_+32>>2]=(E!=A&&p.getTimezoneOffset()==Math.min(A,E))|0},y:function(p,_,E,A,x,L,B){x=-9007199254740992>x||9007199254740992<x?NaN:Number(x);try{if(isNaN(x))return 61;var ue=xt(A);if((_&2)!==0&&(E&2)===0&&(ue.flags&2097155)!==2)throw new te(2);if((ue.flags&2097155)===1)throw new te(2);if(!ue.Ma.ib)throw new te(43);if(!p)throw new te(28);var ke=ue.Ma.ib(ue,p,x,_,E),De=ke.Kb;return Ve[L>>2]=ke.Ab,qe[B>>2]=De,0}catch(mt){if(typeof je>"u"||mt.name!=="ErrnoError")throw mt;return-mt.Pa}},z:function(p,_,E,A,x,L){L=-9007199254740992>L||9007199254740992<L?NaN:Number(L);try{var B=xt(x);if(E&2){if(E=L,(B.node.mode&61440)!==32768)throw new te(43);if(!(A&2)){var ue=pe.slice(p,p+_);B.Ma.jb&&B.Ma.jb(B,ue,E,_,A)}}}catch(ke){if(typeof je>"u"||ke.name!=="ErrnoError")throw ke;return-ke.Pa}},n:(p,_)=>{if(Gi[p]&&(clearTimeout(Gi[p].id),delete Gi[p]),!_)return 0;var E=setTimeout(()=>{delete Gi[p],Hi(()=>Zi(p,performance.now()))},_);return Gi[p]={id:E,Xb:_},0},B:(p,_,E,A)=>{var x=new Date().getFullYear(),L=new Date(x,0,1).getTimezoneOffset();x=new Date(x,6,1).getTimezoneOffset(),qe[p>>2]=60*Math.max(L,x),Ve[_>>2]=+(L!=x),_=B=>{var ue=Math.abs(B);return`UTC${0<=B?"-":"+"}${String(Math.floor(ue/60)).padStart(2,"0")}${String(ue%60).padStart(2,"0")}`},p=_(L),_=_(x),x<L?(gt(p,pe,E,17),gt(_,pe,A,17)):(gt(p,pe,A,17),gt(_,pe,E,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:p=>{var _=pe.length;if(p>>>=0,2147483648<p)return!1;for(var E=1;4>=E;E*=2){var A=_*(1+.2/E);A=Math.min(A,p+100663296);e:{A=(Math.min(2147483648,65536*Math.ceil(Math.max(p,A)/65536))-ae.buffer.byteLength+65535)/65536|0;try{ae.grow(A),Qe();var x=1;break e}catch{}x=void 0}if(x)return!0}return!1},E:(p,_)=>{var E=0;return Ra().forEach((A,x)=>{var L=_+E;for(x=qe[p+4*x>>2]=L,L=0;L<A.length;++L)ge[x++]=A.charCodeAt(L);ge[x]=0,E+=A.length+1}),0},F:(p,_)=>{var E=Ra();qe[p>>2]=E.length;var A=0;return E.forEach(x=>A+=x.length+1),qe[_>>2]=A,0},e:function(p){try{var _=xt(p);return Hn(_),0}catch(E){if(typeof je>"u"||E.name!=="ErrnoError")throw E;return E.Pa}},p:function(p,_){try{var E=xt(p);return ge[_]=E.tty?2:Ct(E.mode)?3:(E.mode&61440)===40960?7:4,ut[_+2>>1]=0,z[_+8>>3]=BigInt(0),z[_+16>>3]=BigInt(0),0}catch(A){if(typeof je>"u"||A.name!=="ErrnoError")throw A;return A.Pa}},w:function(p,_,E,A){try{e:{var x=xt(p);p=_;for(var L,B=_=0;B<E;B++){var ue=qe[p>>2],ke=qe[p+4>>2];p+=8;var De=_r(x,ge,ue,ke,L);if(0>De){var mt=-1;break e}if(_+=De,De<ke)break;typeof L<"u"&&(L+=De)}mt=_}return qe[A>>2]=mt,0}catch(Dt){if(typeof je>"u"||Dt.name!=="ErrnoError")throw Dt;return Dt.Pa}},D:function(p,_,E,A){_=-9007199254740992>_||9007199254740992<_?NaN:Number(_);try{if(isNaN(_))return 61;var x=xt(p);return vr(x,_,E),z[A>>3]=BigInt(x.position),x.ob&&_===0&&E===0&&(x.ob=null),0}catch(L){if(typeof je>"u"||L.name!=="ErrnoError")throw L;return L.Pa}},I:function(p){var E;try{var _=xt(p);return(E=_.Ma)!=null&&E.fsync?_.Ma.fsync(_):0}catch(A){if(typeof je>"u"||A.name!=="ErrnoError")throw A;return A.Pa}},t:function(p,_,E,A){try{e:{var x=xt(p);p=_;for(var L,B=_=0;B<E;B++){var ue=qe[p>>2],ke=qe[p+4>>2];p+=8;var De=Qs(x,ge,ue,ke,L);if(0>De){var mt=-1;break e}if(_+=De,De<ke)break;typeof L<"u"&&(L+=De)}mt=_}return qe[A>>2]=mt,0}catch(Dt){if(typeof je>"u"||Dt.name!=="ErrnoError")throw Dt;return Dt.Pa}},k:Tr},me;(async function(){var E;function p(A){var x;return me=A.exports,ae=me.M,Qe(),en=me.O,R--,(x=m.monitorRunDependencies)==null||x.call(m,R),R==0&&J&&(A=J,J=null,A()),me}R++,(E=m.monitorRunDependencies)==null||E.call(m,R);var _={a:Yi};return m.instantiateWasm?new Promise(A=>{m.instantiateWasm(_,(x,L)=>{p(x),A(x.exports)})}):(ne??(ne=m.locateFile?m.locateFile("sql-wasm.wasm",$):$+"sql-wasm.wasm"),p((await Re(_)).instance))})(),m._sqlite3_free=p=>(m._sqlite3_free=me.P)(p),m._sqlite3_value_text=p=>(m._sqlite3_value_text=me.Q)(p),m._sqlite3_prepare_v2=(p,_,E,A,x)=>(m._sqlite3_prepare_v2=me.R)(p,_,E,A,x),m._sqlite3_step=p=>(m._sqlite3_step=me.S)(p),m._sqlite3_reset=p=>(m._sqlite3_reset=me.T)(p),m._sqlite3_exec=(p,_,E,A,x)=>(m._sqlite3_exec=me.U)(p,_,E,A,x),m._sqlite3_finalize=p=>(m._sqlite3_finalize=me.V)(p),m._sqlite3_column_name=(p,_)=>(m._sqlite3_column_name=me.W)(p,_),m._sqlite3_column_text=(p,_)=>(m._sqlite3_column_text=me.X)(p,_),m._sqlite3_column_type=(p,_)=>(m._sqlite3_column_type=me.Y)(p,_),m._sqlite3_errmsg=p=>(m._sqlite3_errmsg=me.Z)(p),m._sqlite3_clear_bindings=p=>(m._sqlite3_clear_bindings=me._)(p),m._sqlite3_value_blob=p=>(m._sqlite3_value_blob=me.$)(p),m._sqlite3_value_bytes=p=>(m._sqlite3_value_bytes=me.aa)(p),m._sqlite3_value_double=p=>(m._sqlite3_value_double=me.ba)(p),m._sqlite3_value_int=p=>(m._sqlite3_value_int=me.ca)(p),m._sqlite3_value_type=p=>(m._sqlite3_value_type=me.da)(p),m._sqlite3_result_blob=(p,_,E,A)=>(m._sqlite3_result_blob=me.ea)(p,_,E,A),m._sqlite3_result_double=(p,_)=>(m._sqlite3_result_double=me.fa)(p,_),m._sqlite3_result_error=(p,_,E)=>(m._sqlite3_result_error=me.ga)(p,_,E),m._sqlite3_result_int=(p,_)=>(m._sqlite3_result_int=me.ha)(p,_),m._sqlite3_result_int64=(p,_)=>(m._sqlite3_result_int64=me.ia)(p,_),m._sqlite3_result_null=p=>(m._sqlite3_result_null=me.ja)(p),m._sqlite3_result_text=(p,_,E,A)=>(m._sqlite3_result_text=me.ka)(p,_,E,A),m._sqlite3_aggregate_context=(p,_)=>(m._sqlite3_aggregate_context=me.la)(p,_),m._sqlite3_column_count=p=>(m._sqlite3_column_count=me.ma)(p),m._sqlite3_data_count=p=>(m._sqlite3_data_count=me.na)(p),m._sqlite3_column_blob=(p,_)=>(m._sqlite3_column_blob=me.oa)(p,_),m._sqlite3_column_bytes=(p,_)=>(m._sqlite3_column_bytes=me.pa)(p,_),m._sqlite3_column_double=(p,_)=>(m._sqlite3_column_double=me.qa)(p,_),m._sqlite3_bind_blob=(p,_,E,A,x)=>(m._sqlite3_bind_blob=me.ra)(p,_,E,A,x),m._sqlite3_bind_double=(p,_,E)=>(m._sqlite3_bind_double=me.sa)(p,_,E),m._sqlite3_bind_int=(p,_,E)=>(m._sqlite3_bind_int=me.ta)(p,_,E),m._sqlite3_bind_text=(p,_,E,A,x)=>(m._sqlite3_bind_text=me.ua)(p,_,E,A,x),m._sqlite3_bind_parameter_index=(p,_)=>(m._sqlite3_bind_parameter_index=me.va)(p,_),m._sqlite3_sql=p=>(m._sqlite3_sql=me.wa)(p),m._sqlite3_normalized_sql=p=>(m._sqlite3_normalized_sql=me.xa)(p),m._sqlite3_changes=p=>(m._sqlite3_changes=me.ya)(p),m._sqlite3_close_v2=p=>(m._sqlite3_close_v2=me.za)(p),m._sqlite3_create_function_v2=(p,_,E,A,x,L,B,ue,ke)=>(m._sqlite3_create_function_v2=me.Aa)(p,_,E,A,x,L,B,ue,ke),m._sqlite3_update_hook=(p,_,E)=>(m._sqlite3_update_hook=me.Ba)(p,_,E),m._sqlite3_open=(p,_)=>(m._sqlite3_open=me.Ca)(p,_);var Er=m._malloc=p=>(Er=m._malloc=me.Da)(p),$i=m._free=p=>($i=m._free=me.Ea)(p);m._RegisterExtensionFunctions=p=>(m._RegisterExtensionFunctions=me.Fa)(p);var Ia=(p,_)=>(Ia=me.Ga)(p,_),Zi=(p,_)=>(Zi=me.Ha)(p,_),$t=p=>($t=me.Ia)(p),_n=p=>(_n=me.Ja)(p),Un=()=>(Un=me.Ka)();m.stackSave=()=>Un(),m.stackRestore=p=>$t(p),m.stackAlloc=p=>_n(p),m.cwrap=(p,_,E,A)=>{var x=!E||E.every(L=>L==="number"||L==="boolean");return _!=="string"&&x&&!A?m["_"+p]:(...L)=>Ws(p,_,E,L)},m.addFunction=hi,m.removeFunction=vn,m.UTF8ToString=Xt,m.ALLOC_NORMAL=Oo,m.allocate=Fi,m.allocateUTF8OnStack=Na;function Tn(){function p(){var x;if(m.calledRun=!0,!Ee){if(!m.noFSInit&&!dr){var _,E;dr=!0,A??(A=m.stdin),_??(_=m.stdout),E??(E=m.stderr),A?Et("stdin",A):gr("/dev/tty","/dev/stdin"),_?Et("stdout",null,_):gr("/dev/tty","/dev/stdout"),E?Et("stderr",null,E):gr("/dev/tty1","/dev/stderr"),li("/dev/stdin",0),li("/dev/stdout",1),li("/dev/stderr",1)}if(me.N(),Vi=!1,(x=m.onRuntimeInitialized)==null||x.call(m),m.postRun)for(typeof m.postRun=="function"&&(m.postRun=[m.postRun]);m.postRun.length;){var A=m.postRun.shift();Rn.unshift(A)}it(Rn)}}if(0<R)J=Tn;else{if(m.preRun)for(typeof m.preRun=="function"&&(m.preRun=[m.preRun]);m.preRun.length;)ur();it(lr),0<R?J=Tn:m.setStatus?(m.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>m.setStatus(""),1),p()},1)):p()}}if(m.preInit)for(typeof m.preInit=="function"&&(m.preInit=[m.preInit]);0<m.preInit.length;)m.preInit.pop()();return Tn(),y}),t)};r.exports=o,r.exports.default=o}(vd)),vd.exports}var SI=EI();const AI=$d(SI),Yd="pixelArtGeneratorDb";let xi=null;async function yu(r){if(!r)throw console.error("saveDb: Called with null dbInstance. Cannot save."),new Error("saveDb: Called with null dbInstance. Cannot save.");try{const e=r.export(),t=Array.from(e);localStorage.setItem(Yd,JSON.stringify(t)),console.log("Database saved to localStorage.")}catch(e){throw console.error("Failed to save database to localStorage:",e),new Error(`Failed to save database to localStorage: ${e.message}`)}}async function bI(){if(xi)return xi;const r=await AI({locateFile:t=>{const o="/pixel-art-generator/",a=o.endsWith("/")?o:o+"/";return console.log(`AuthContext: locateFile path for ${t}: ${a}${t}`),`${a}${t}`}});try{const t=localStorage.getItem(Yd);if(t){console.log("Found existing database in localStorage. Attempting to load.");const o=JSON.parse(t),a=new Uint8Array(o);xi=new r.Database(a),console.log("Database loaded from localStorage.")}else console.log("No database found in localStorage. Creating a new one."),xi=new r.Database}catch(t){console.error("Failed to load database from localStorage. Creating a new one:",t),xi=new r.Database}const e=`
    CREATE TABLE IF NOT EXISTS user_image_usage (
      email TEXT PRIMARY KEY,
      last_generation_date TEXT,
      images_generated_today INTEGER NOT NULL DEFAULT 0
    );
  `;if(xi)xi.run(e),console.log("user_image_usage table created/verified."),localStorage.getItem(Yd)||(console.log("Saving newly created database to localStorage for the first time."),await yu(xi));else throw console.error("Database instance is null after initialization attempt. This should not happen."),new Error("Failed to initialize database instance properly.");return console.log("Database initialization process complete."),xi}const _d=mI(_I),qv=()=>{const r=new Date,e=r.getFullYear(),t=String(r.getMonth()+1).padStart(2,"0"),o=String(r.getDate()).padStart(2,"0");return`${e}-${t}-${o}`},r0=st.createContext(void 0),a0=()=>{const r=st.useContext(r0);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},lu=5,wI=({children:r})=>{const[e,t]=st.useState(null),[o,a]=st.useState(!0),[l,h]=st.useState(null),[y,v]=st.useState(null),[m,T]=st.useState(!0),[b,w]=st.useState(null);st.useEffect(()=>{(async()=>{try{console.log("AuthContext: Initializing database...");const X=await bI();v(X),console.log("AuthContext: Database initialized successfully.")}catch(X){console.error("AuthContext: Database initialization failed:",X),w("Failed to initialize local database."),h("Critical error: Could not connect to local storage. Usage data will not be saved.")}finally{T(!1)}})()},[]),st.useEffect(()=>{if(m){console.log("AuthContext: Waiting for DB to initialize before subscribing to auth changes.");return}if(b){console.error("AuthContext: DB initialization failed. Auth operations might be affected or disabled."),a(!1);return}console.log("AuthContext: DB ready. Mounting and subscribing to onAuthStateChanged.");const $=nD(_d,async X=>{if(console.log("AuthContext: onAuthStateChanged triggered. User UID:",(X==null?void 0:X.uid)||"null"),a(!0),h(null),b){console.error("AuthContext: DB error, cannot process user data for quota."),t(null),a(!1);return}if(X&&y){console.log("AuthContext: Firebase user detected and DB instance available.");const Q=X.email,W=qv(),he="daruokta@gmail.com",Y=99999;if(Q===he)console.log(`AuthContext: Special user ${Q} detected. Setting special quota.`),t({uid:X.uid,email:Q,imageQuota:Y});else if(Q)try{console.log(`AuthContext: Processing regular user ${Q}.`);const se=y.prepare("SELECT * FROM user_image_usage WHERE email = :email"),ae=se.getAsObject({":email":Q});if(se.free(),ae.email){console.log(`AuthContext: User ${Q} found in DB. Last generation: ${ae.last_generation_date}, Generated today: ${ae.images_generated_today}`);let Ee=lu;if(ae.last_generation_date===W)Ee=lu-ae.images_generated_today;else try{console.log(`AuthContext: Different day for user ${Q}. Resetting usage.`),y.run("UPDATE user_image_usage SET images_generated_today = 0, last_generation_date = ? WHERE email = ?",[W,Q]),await yu(y)}catch(le){console.error("AuthContext: Error saving DB after daily reset:",le),w(`Failed to save session data after daily reset. Details: ${le.message}`)}t({uid:X.uid,email:Q,imageQuota:Math.max(0,Ee)})}else{try{console.log(`AuthContext: User ${Q} not found in DB. Creating new record.`),y.run("INSERT INTO user_image_usage (email, last_generation_date, images_generated_today) VALUES (?, ?, ?)",[Q,W,0]),await yu(y)}catch(Ee){console.error("AuthContext: Error saving DB for new user record:",Ee),w(`Failed to save new user session data. Details: ${Ee.message}`)}t({uid:X.uid,email:Q,imageQuota:lu})}}catch(se){console.error("AuthContext: Error accessing user data from DB:",se),h("Failed to load user usage data. Please try refreshing."),t({uid:X.uid,email:Q,imageQuota:lu})}else console.warn("AuthContext: Firebase user has no email. Cannot process quota."),t({uid:X.uid,email:null,imageQuota:0})}else X||(console.log("AuthContext: No Firebase user. Setting currentUser to null."),t(null));a(!1),console.log("AuthContext: onAuthStateChanged finished. Loading state set to false.")});return()=>{console.log("AuthContext: Unmounting and unsubscribing from onAuthStateChanged."),$()}},[y,m,b]);const D=async()=>{a(!0),h(null);try{await iD(_d),t(null),console.log("Logout successful.")}catch($){const X=$;console.error("Error during logout:",X.code,X.message),h("Failed to log out. Please try again.")}finally{a(!1)}},U=async()=>{a(!0),h(null);const $=new Ri;try{await SD(_d,$),console.log("Google Sign-In successful via signInWithPopup. onAuthStateChanged will handle user setup.")}catch(X){const Q=X;console.error("Error during Google Sign-In:",Q.code,Q.message);let W="Failed to sign in with Google. Please try again.";Q.code==="auth/popup-closed-by-user"?W="Google Sign-In cancelled.":Q.code==="auth/account-exists-with-different-credential"?W="An account already exists with this email using a different sign-in method.":Q.code==="auth/cancelled-popup-request"||Q.code==="auth/popup-blocked"?W="Google Sign-In pop-up was cancelled or blocked. Please ensure pop-ups are enabled.":Q.code==="auth/configuration-not-found"&&(W="Firebase configuration for Google Sign-In is missing or incorrect. (auth/configuration-not-found)",console.error("Firebase (auth/configuration-not-found): Ensure Google Sign-In is enabled in your Firebase project's Authentication settings and that your firebaseConfig.ts is correct and initialized properly.")),h(W),t(null)}finally{a(!1)}},H=async()=>{if(console.log("AuthContext: decrementQuota called."),!e||!y){console.warn("AuthContext: decrementQuota called but no user or DB instance."),h("Cannot update quota: user not logged in or database not ready.");return}if(b){console.error("AuthContext: DB error, cannot decrement quota."),h("Database error, cannot update quota.");return}const $=e.email,X="daruokta@gmail.com";if($!==X){if(e.imageQuota<=0){console.warn(`AuthContext: Quota already 0 for user ${e.uid}. Cannot decrement further.`),h("You have reached your image generation limit for today.");return}t(Q=>Q?{...Q,imageQuota:Q.imageQuota-1}:null)}if($&&$!==X)try{const Q=qv(),W=y.prepare("SELECT email, last_generation_date, images_generated_today FROM user_image_usage WHERE email = :email"),he=W.getAsObject({":email":$});if(W.free(),he.email===void 0){console.error(`CRITICAL: User ${$} not found in DB during decrementQuota. This should not happen if onAuthStateChanged is working correctly.`),w("Critical error: User data inconsistency detected. Cannot update image quota. Please try refreshing the page or logging out and back in."),t(Y=>Y?{...Y,imageQuota:Y.imageQuota+1}:null);return}he.last_generation_date===Q?(y.run("UPDATE user_image_usage SET images_generated_today = images_generated_today + 1, last_generation_date = ? WHERE email = ?",[Q,$]),console.log(`AuthContext: Incremented images_generated_today for ${$} on ${Q}.`)):(y.run("UPDATE user_image_usage SET images_generated_today = 1, last_generation_date = ? WHERE email = ?",[Q,$]),console.log(`AuthContext: First image for ${$} on new day ${Q}. Set images_generated_today to 1.`));try{await yu(y)}catch(Y){console.error("AuthContext: Error saving DB after decrementing quota:",Y),w(`Failed to save image generation attempt. Your quota might not be up-to-date for your next session. Details: ${Y.message}`)}}catch(Q){console.error("AuthContext: Failed to update user quota in DB (operation error):",Q),w(`Failed to update usage data in DB. Details: ${Q.message||"Unknown DB error"}`),t(W=>W?{...W,imageQuota:W.imageQuota+1}:null)}else $===X&&console.log("AuthContext: Special user quota decrement skipped for DB update (or handled differently).")};return j.jsx(r0.Provider,{value:{currentUser:e,loading:o||m,error:l||b,logout:D,signInWithGoogle:U,decrementQuota:H},children:r})},MI=()=>{const[r,e]=st.useState(null),[t,o]=st.useState(!1),{signInWithGoogle:a,error:l,loading:h}=a0();st.useEffect(()=>{l&&e(l)},[l]);const y=async()=>{e(null),o(!0);try{await a()}catch(v){const m=v;console.error("Google Sign-In error in LoginPage:",m.code,m.message),e(m.message||"Failed to sign in with Google. Please try again.")}o(!1)};return j.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col justify-center items-center p-4",children:j.jsxs("div",{className:"w-full max-w-md bg-gray-800 p-8 rounded-lg shadow-xl space-y-6",children:[j.jsx("h2",{className:"text-3xl font-bold text-center text-purple-400",children:"Login to PixelGen"}),r&&j.jsx("p",{className:"text-red-400 bg-red-900/30 p-3 rounded-md text-sm",children:r}),h&&j.jsx("p",{className:"text-purple-300 text-sm text-center",children:"Authenticating..."}),j.jsxs("div",{className:"relative my-6",children:[j.jsx("div",{className:"absolute inset-0 flex items-center",children:j.jsx("div",{className:"w-full border-t border-gray-600"})}),j.jsx("div",{className:"relative flex justify-center text-sm",children:j.jsx("span",{className:"px-2 bg-gray-800 text-gray-400",children:"Or continue with"})})]}),j.jsxs("button",{type:"button",onClick:y,disabled:t||h,className:"w-full flex items-center justify-center px-4 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-purple-500 disabled:opacity-50 transition-colors duration-150",children:[j.jsx("svg",{className:"w-5 h-5 mr-2 -ml-1",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:j.jsx("path",{fillRule:"evenodd",d:"M10 0C4.477 0 0 4.477 0 10c0 4.418 2.865 8.148 6.839 9.489.5.092.682-.217.682-.483 0-.237-.009-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.026 2.747-1.026.546 1.378.202 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.942.359.308.678.92.678 1.852 0 1.334-.012 2.41-.012 2.737 0 .268.18.58.688.482A10.001 10.001 0 0020 10c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),"Sign in with Google"]})]})})},uu=()=>j.jsx("div",{className:"flex flex-col items-center justify-center space-y-2",children:j.jsx("div",{className:"w-8 h-8 border-2 border-t-transparent border-[#1a1a2e] rounded-full animate-spin"})}),Bv=({message:r})=>j.jsxs("div",{className:"bg-red-700 border-2 border-red-900 p-3 my-4 text-white text-xs shadow-lg w-full",children:[j.jsx("p",{className:"font-bold text-center uppercase tracking-wider",children:"Error!"}),j.jsx("p",{className:"text-center mt-1",children:r})]}),xI=({className:r})=>j.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-5 h-5 ${r}`,children:[j.jsx("path",{fillRule:"evenodd",d:"M9.502 2.061a.5.5 0 0 0-.866.354L7.319 6.5H3.112a.5.5 0 0 0-.362.833l3.32 2.857-1.45 4.026a.5.5 0 0 0 .603.603L9.5 12.51l4.277 2.309a.5.5 0 0 0 .603-.603l-1.45-4.026 3.32-2.857a.5.5 0 0 0-.362-.833H12.68l-1.319-4.086a.5.5 0 0 0-.86-.353ZM10 7.5a.5.5 0 0 0 .5-.5V3.515l.939 2.913A.5.5 0 0 0 11.893 7H14.5l-2.365 2.03a.5.5 0 0 0-.17.484l1.033 2.865-3.046-1.64a.5.5 0 0 0-.454 0L6.453 12.38l1.033-2.865a.5.5 0 0 0-.17-.484L5.002 7H7.107a.5.5 0 0 0 .454-.722L8.5 3.516V7a.5.5 0 0 0 .5.5Z",clipRule:"evenodd"}),j.jsx("path",{d:"M12.528 8.528a.5.5 0 0 0-.707-.707L10 9.646l-1.821-1.821a.5.5 0 0 0-.707.707L9.293 10.354l-1.821 1.821a.5.5 0 1 0 .707.707L10 11.061l1.821 1.821a.5.5 0 0 0 .707-.707L10.707 10.354l1.821-1.821Z"})]}),zv=({className:r})=>j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-4 h-4 ${r}`,children:j.jsx("path",{fillRule:"evenodd",d:"M10 3a.75.75 0 01.75.75v6.19l1.72-1.72a.75.75 0 111.06 1.06l-3 3a.75.75 0 01-1.06 0l-3-3a.75.75 0 111.06-1.06l1.72 1.72V3.75A.75.75 0 0110 3zM3.75 13a.75.75 0 000 1.5h12.5a.75.75 0 000-1.5H3.75z",clipRule:"evenodd"})}),RI=()=>j.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center border-2 border-dashed border-gray-700 bg-[#1a1a2e] p-8 text-center min-h-[250px] sm:min-h-[300px] md:min-h-[350px] lg:min-h-[400px] rounded-lg",children:[j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-gray-500 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),j.jsx("h3",{className:"text-xl text-gray-300 mb-2",children:"Your masterpiece awaits!"}),j.jsx("p",{className:"text-sm text-gray-500 px-4",children:'Describe your vision on the left and click "Forge Pixel Art!"'})]}),Gv=[{value:"1:1",label:"1:1 (Square)"},{value:"16:9",label:"16:9 (Wide)"},{value:"4:3",label:"4:3 (Classic)"},{value:"9:16",label:"9:16 (Tall)"},{value:"3:4",label:"3:4 (Portrait)"}],NI=()=>{const{currentUser:r,loading:e,error:t,logout:o,decrementQuota:a}=a0(),[l,h]=st.useState(""),[y,v]=st.useState(Gv[0].value),[m,T]=st.useState(null),[b,w]=st.useState(!1),[D,U]=st.useState(null),H=st.useRef(null),[$,X]=st.useState(!1);st.useEffect(()=>{e||X(!0)},[e]),st.useEffect(()=>{U(null)},[r==null?void 0:r.uid]),st.useEffect(()=>{t&&U(t)},[t]);const Q=st.useCallback(async()=>{if(!l.trim()){U("Prompt cannot be empty, brave artist!");return}if(!r){U("You must be logged in to generate images.");return}w(!0),U(null);try{if(r.email==="daruokta@gmail.com"){const Y=await lv(l,y);T(Y.imageDataUrl),w(!1);return}if(r.imageQuota>0){const Y=await lv(l,y);T(Y.imageDataUrl),await a()}else U("You have reached your daily image generation limit (5 images). Please try again tomorrow."),T(null)}catch(Y){console.error("Error in handleGenerateImage:",Y),Y instanceof Error?Y.message.includes("API key not valid")?U("The Pixel Art service is currently unavailable (API Key issue). Please notify the site administrator."):Y.message.includes("quota")||Y.message.includes("billing")?U("The Pixel Art service quota has been exceeded. Please notify the site administrator."):Y.message.includes("Firestore")||Y.message.includes("database")?U("A database error occurred while updating your quota. Please try again. If it persists, contact support."):U(Y.message||"An unexpected error occurred while generating your masterpiece. Please try again."):U("An unknown error occurred during image generation. Please try again."),T(null)}finally{w(!1)}},[l,y,r,a]),W=st.useCallback(Y=>{if(!m)return;U(null);const se=`pixel-art-${Date.now()}.${Y}`;if(Y==="png"){const ae=document.createElement("a");ae.href=m,ae.download=se,document.body.appendChild(ae),ae.click(),document.body.removeChild(ae)}else if(Y==="jpeg")try{const ae=new Image;ae.onload=()=>{const Ee=document.createElement("canvas");Ee.width=ae.naturalWidth,Ee.height=ae.naturalHeight;const le=Ee.getContext("2d");if(le){le.fillStyle="#FFFFFF",le.fillRect(0,0,Ee.width,Ee.height),le.drawImage(ae,0,0);const ge=Ee.toDataURL("image/jpeg",.9),pe=document.createElement("a");pe.href=ge,pe.download=se,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe)}else U("Could not prepare image for JPG download. Canvas context unavailable.")},ae.onerror=()=>{U("Could not load image for JPG conversion. Please ensure the image displayed correctly.")},ae.src=m}catch(ae){console.error("Error during JPG conversion:",ae),U("An unexpected error occurred while preparing your JPG download.")}},[m]),he=()=>{T(null),U(null),h("")};return e?j.jsxs("div",{className:"min-h-screen bg-[#0f0f1b] text-[#e0e0e0] flex flex-col items-center justify-center p-4 font-press-start",children:[j.jsx(uu,{}),j.jsx("p",{className:"mt-4 text-lg",children:"Loading Authentication..."})]}):$?r?j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col md:flex-row items-start p-4 sm:p-6 md:p-8 lg:p-10 xl:p-12 gap-4 sm:gap-6 md:gap-8 lg:gap-10 xl:gap-12 justify-center",children:[j.jsxs("div",{className:"w-full md:w-2/5 max-w-xl space-y-6",children:[" ",j.jsxs("header",{className:"text-center",children:[" ",j.jsxs("div",{className:"flex justify-between items-center mb-3",children:[" ",j.jsxs("p",{className:"text-xs text-gray-400 truncate",title:r.email||void 0,children:["Logged in as: ",r.email]}),j.jsx("button",{type:"button",onClick:()=>{U(null),o()},className:"text-xs text-[#f0a500] hover:underline",disabled:b,children:"Logout"})]}),j.jsxs("div",{className:"text-xs text-gray-500 mb-4 h-auto",children:[" ",r.email==="daruokta@gmail.com"?j.jsx("p",{className:"text-green-400",children:"Unlimited Image Generations"}):j.jsxs("p",{children:["Images remaining today: ",r.imageQuota??"Loading..."]})]}),j.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-[#f0a500] tracking-wider mb-1",children:[" ","Pixel Art",j.jsx("span",{className:"text-[#e0e0e0]",children:"Forge"})]}),j.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Craft 8-bit wonders with your words!"})," "]}),(D||t)&&j.jsxs("div",{className:"my-2",children:[" ",D&&j.jsx(Bv,{message:D}),!D&&t&&j.jsx(Bv,{message:`Notice: ${t}`})]}),j.jsxs("div",{className:"space-y-2",children:[" ",j.jsxs("label",{htmlFor:"prompt",className:"block text-sm text-gray-300",children:[" ","Describe your vision:"]}),j.jsx("textarea",{id:"prompt",value:l,onChange:Y=>{h(Y.target.value),U(null)},placeholder:"e.g., a knight fighting a dragon, cat wizard...",rows:3,className:"w-full p-3 bg-[#1a1a2e] border-2 border-[#0f0f1a] text-gray-200 focus:border-[#f0a500] focus:ring-0 outline-none resize-none text-sm placeholder-gray-500",disabled:b,"aria-label":"Prompt for pixel art generation"})]}),j.jsxs("div",{className:"space-y-2",children:[" ",j.jsx("label",{className:"block text-sm text-gray-300",children:"Select Aspect Ratio:"})," ",j.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-1 sm:gap-2",children:Gv.map(Y=>j.jsx("button",{type:"button",onClick:()=>v(Y.value),className:`px-2 py-1.5 sm:px-2.5 sm:py-2 text-[10px] sm:text-xs rounded-md transition-all duration-150 ease-in-out
                    ${y===Y.value?"bg-purple-600 text-white ring-2 ring-purple-400":"bg-[#1a1a2e] hover:bg-purple-500 hover:text-white"}
                    disabled:opacity-50 disabled:cursor-not-allowed`,disabled:b,"aria-pressed":y===Y.value?"true":"false",children:Y.label},Y.value))})]}),j.jsx("button",{type:"button",onClick:Q,disabled:b||r.email!=="daruokta@gmail.com"&&r.imageQuota===0,...b?{"aria-pressed":"true"}:{"aria-pressed":"false"},className:"w-full px-4 py-2 text-base sm:px-6 sm:py-3 sm:text-lg bg-purple-600 hover:bg-purple-700 rounded-md font-semibold shadow-md transition-all duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center","aria-label":"Generate Pixel Art",children:b&&!m?j.jsx(uu,{}):j.jsxs(j.Fragment,{children:[j.jsx(xI,{className:`${b?"animate-pulse":"group-hover:animate-ping"} transition-transform duration-300`}),j.jsx("span",{className:"ml-2",children:"Forge Pixel Art!"})]})}),r.email!=="daruokta@gmail.com"&&r.imageQuota===0&&!b&&j.jsxs("p",{className:"text-xs text-yellow-500 text-center mt-3",children:[" ","You've used all your generations for today. Come back tomorrow!"]})]}),j.jsxs("div",{className:"w-full md:w-3/5 max-w-2xl flex flex-col items-center justify-start md:pt-0",children:[" ",m?j.jsxs("div",{className:"w-full p-2 sm:p-3 md:p-4 border-2 border-[#0f0f1a] bg-[#1a1a2e] flex flex-col items-center sticky top-10 rounded-lg",children:[" ",j.jsx("h2",{className:"text-lg text-center text-[#f0a500] my-4",children:"Your Masterpiece!"}),j.jsxs("div",{className:"flex justify-center items-center bg-black bg-opacity-20 p-2 sm:p-3 w-full max-h-[60vh] md:max-h-[70vh] overflow-hidden rounded",children:[" ",j.jsx("img",{ref:H,src:m,alt:l?`Generated pixel art for: ${l}`:"Generated pixel art",className:"max-w-full max-h-full object-contain shadow-lg border-2 border-gray-700 pixelated-image"})]}),j.jsx("button",{type:"button",onClick:he,className:"mt-4 w-full bg-red-600 text-white px-3 py-2 text-xs sm:px-4 sm:py-2.5 sm:text-sm hover:bg-red-700 transition-colors duration-150 ease-in-out rounded-md","aria-label":"Clear generated image and start anew",children:"Clear Image & Start Anew"}),j.jsxs("div",{className:"mt-3 w-full flex gap-2 sm:gap-3",children:[" ",j.jsxs("button",{onClick:()=>W("png"),className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-2.5 py-2 text-xs sm:px-3 sm:py-2.5 sm:text-sm transition-colors duration-150 ease-in-out flex items-center justify-center gap-1.5 rounded-md","aria-label":"Download as PNG",children:[j.jsx(zv,{})," PNG"]}),j.jsxs("button",{onClick:()=>W("jpeg"),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-2.5 py-2 text-xs sm:px-3 sm:py-2.5 sm:text-sm transition-colors duration-150 ease-in-out flex items-center justify-center gap-1.5 rounded-md","aria-label":"Download as JPG",children:[j.jsx(zv,{})," JPG"]})]})]}):b?j.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center border-2 border-dashed border-gray-700 bg-[#1a1a2e] p-8 text-center min-h-[250px] sm:min-h-[300px] md:min-h-[350px] lg:min-h-[400px] sticky top-10 rounded-lg",children:[" ",j.jsx(uu,{}),j.jsx("p",{className:"mt-3 text-sm text-gray-400",children:"Forging your vision..."})," "]}):j.jsxs("div",{className:"sticky top-10 w-full",children:[j.jsx(RI,{})," "]})]})]}),j.jsxs("footer",{className:"text-center text-xs text-gray-500 py-6 sm:py-8",children:[" ",j.jsx("p",{className:"mb-1",children:"Powered by Google Gemini & Imagen. Font: Press Start 2P."})," ",j.jsxs("p",{children:["Ensure your ",j.jsx("code",{className:"bg-gray-700 px-1 rounded-sm",children:"API_KEY"})," is set in your environment."]})]})]}):j.jsx(MI,{}):j.jsxs("div",{className:"min-h-screen bg-[#0f0f1b] text-[#e0e0e0] flex flex-col items-center justify-center p-4 font-press-start",children:[j.jsx(uu,{}),j.jsx("p",{className:"mt-4 text-lg",children:"Initializing..."})]})},s0=document.getElementById("root");if(!s0)throw new Error("Could not find root element to mount to");const DI=$T.createRoot(s0);DI.render(j.jsxs(VT.StrictMode,{children:[j.jsxs(wI,{children:[" ",j.jsx(NI,{})]})," "]}));
